var Handlebars={};(function(d,c){d.VERSION="1.0.0";d.COMPILER_REVISION=4;d.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};d.helpers={};d.partials={};var n=Object.prototype.toString,b="[object Function]",h="[object Object]";d.registerHelper=function(v,w,l){if(n.call(v)===h){if(l||w){throw new d.Exception("Arg not supported with multiple helpers")}d.Utils.extend(this.helpers,v)}else{if(l){w.not=l}this.helpers[v]=w}};d.registerPartial=function(l,v){if(n.call(l)===h){d.Utils.extend(this.partials,l)}else{this.partials[l]=v}};d.registerHelper("helperMissing",function(l){if(arguments.length===2){return c}else{throw new Error("Missing helper: '"+l+"'")}});d.registerHelper("blockHelperMissing",function(w,v){var l=v.inverse||function(){},A=v.fn;var z=n.call(w);if(z===b){w=w.call(this)}if(w===true){return A(this)}else{if(w===false||w==null){return l(this)}else{if(z==="[object Array]"){if(w.length>0){return d.helpers.each(w,v)}else{return l(this)}}else{return A(w)}}}});d.K=function(){};d.createFrame=Object.create||function(l){d.K.prototype=l;var v=new d.K();d.K.prototype=null;return v};d.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(w,l){if(d.logger.level<=w){var v=d.logger.methodMap[w];if(typeof console!=="undefined"&&console[v]){console[v].call(console,l)}}}};d.log=function(v,l){d.logger.log(v,l)};d.registerHelper("each",function(l,F){var D=F.fn,w=F.inverse;var A=0,B="",z;var C=n.call(l);if(C===b){l=l.call(this)}if(F.data){z=d.createFrame(F.data)}if(l&&typeof l==="object"){if(l instanceof Array){for(var v=l.length;A<v;A++){if(z){z.index=A}B=B+D(l[A],{data:z})}}else{for(var E in l){if(l.hasOwnProperty(E)){if(z){z.key=E}B=B+D(l[E],{data:z});A++}}}}if(A===0){B=w(this)}return B});d.registerHelper("if",function(v,l){var w=n.call(v);if(w===b){v=v.call(this)}if(!v||d.Utils.isEmpty(v)){return l.inverse(this)}else{return l.fn(this)}});d.registerHelper("unless",function(v,l){return d.helpers["if"].call(this,v,{fn:l.inverse,inverse:l.fn})});d.registerHelper("with",function(v,l){var w=n.call(v);if(w===b){v=v.call(this)}if(!d.Utils.isEmpty(v)){return l.fn(v)}});d.registerHelper("log",function(v,l){var w=l.data&&l.data.level!=null?parseInt(l.data.level,10):1;d.log(w,v)});var r=(function(){var C={trace:function w(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,simpleInverse:6,statements:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,params:27,hash:28,dataName:29,param:30,STRING:31,INTEGER:32,BOOLEAN:33,hashSegments:34,hashSegment:35,ID:36,EQUALS:37,DATA:38,pathSegments:39,SEP:40,"$accept":0,"$end":1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",31:"STRING",32:"INTEGER",33:"BOOLEAN",36:"ID",37:"EQUALS",38:"DATA",40:"SEP"},productions_:[0,[3,2],[4,2],[4,3],[4,2],[4,1],[4,1],[4,0],[7,1],[7,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[6,2],[17,3],[17,2],[17,2],[17,1],[17,1],[27,2],[27,1],[30,1],[30,1],[30,1],[30,1],[30,1],[28,1],[34,2],[34,1],[35,3],[35,3],[35,3],[35,3],[35,3],[26,1],[26,1],[26,1],[29,2],[21,1],[39,3],[39,1]],performAction:function v(D,G,H,K,J,F,I){var E=F.length-1;switch(J){case 1:return F[E-1];break;case 2:this.$=new K.ProgramNode([],F[E]);break;case 3:this.$=new K.ProgramNode(F[E-2],F[E]);break;case 4:this.$=new K.ProgramNode(F[E-1],[]);break;case 5:this.$=new K.ProgramNode(F[E]);break;case 6:this.$=new K.ProgramNode([],[]);break;case 7:this.$=new K.ProgramNode([]);break;case 8:this.$=[F[E]];break;case 9:F[E-1].push(F[E]);this.$=F[E-1];break;case 10:this.$=new K.BlockNode(F[E-2],F[E-1].inverse,F[E-1],F[E]);break;case 11:this.$=new K.BlockNode(F[E-2],F[E-1],F[E-1].inverse,F[E]);break;case 12:this.$=F[E];break;case 13:this.$=F[E];break;case 14:this.$=new K.ContentNode(F[E]);break;case 15:this.$=new K.CommentNode(F[E]);break;case 16:this.$=new K.MustacheNode(F[E-1][0],F[E-1][1]);break;case 17:this.$=new K.MustacheNode(F[E-1][0],F[E-1][1]);break;case 18:this.$=F[E-1];break;case 19:this.$=new K.MustacheNode(F[E-1][0],F[E-1][1],F[E-2][2]==="&");break;case 20:this.$=new K.MustacheNode(F[E-1][0],F[E-1][1],true);break;case 21:this.$=new K.PartialNode(F[E-1]);break;case 22:this.$=new K.PartialNode(F[E-2],F[E-1]);break;case 23:break;case 24:this.$=[[F[E-2]].concat(F[E-1]),F[E]];break;case 25:this.$=[[F[E-1]].concat(F[E]),null];break;case 26:this.$=[[F[E-1]],F[E]];break;case 27:this.$=[[F[E]],null];break;case 28:this.$=[[F[E]],null];break;case 29:F[E-1].push(F[E]);this.$=F[E-1];break;case 30:this.$=[F[E]];break;case 31:this.$=F[E];break;case 32:this.$=new K.StringNode(F[E]);break;case 33:this.$=new K.IntegerNode(F[E]);break;case 34:this.$=new K.BooleanNode(F[E]);break;case 35:this.$=F[E];break;case 36:this.$=new K.HashNode(F[E]);break;case 37:F[E-1].push(F[E]);this.$=F[E-1];break;case 38:this.$=[F[E]];break;case 39:this.$=[F[E-2],F[E]];break;case 40:this.$=[F[E-2],new K.StringNode(F[E])];break;case 41:this.$=[F[E-2],new K.IntegerNode(F[E])];break;case 42:this.$=[F[E-2],new K.BooleanNode(F[E])];break;case 43:this.$=[F[E-2],F[E]];break;case 44:this.$=new K.PartialNameNode(F[E]);break;case 45:this.$=new K.PartialNameNode(new K.StringNode(F[E]));break;case 46:this.$=new K.PartialNameNode(new K.IntegerNode(F[E]));break;case 47:this.$=new K.DataNode(F[E]);break;case 48:this.$=new K.IdNode(F[E]);break;case 49:F[E-2].push({part:F[E],separator:F[E-1]});this.$=F[E-2];break;case 50:this.$=[{part:F[E]}];break}},table:[{3:1,4:2,5:[2,7],6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],22:[1,14],23:[1,15],25:[1,16]},{1:[3]},{5:[1,17]},{5:[2,6],7:18,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,6],22:[1,14],23:[1,15],25:[1,16]},{5:[2,5],6:20,8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,5],22:[1,14],23:[1,15],25:[1,16]},{17:23,18:[1,22],21:24,29:25,36:[1,28],38:[1,27],39:26},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],25:[2,8]},{4:29,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],25:[1,16]},{4:30,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],25:[1,16]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{17:31,21:24,29:25,36:[1,28],38:[1,27],39:26},{17:32,21:24,29:25,36:[1,28],38:[1,27],39:26},{17:33,21:24,29:25,36:[1,28],38:[1,27],39:26},{21:35,26:34,31:[1,36],32:[1,37],36:[1,28],39:26},{1:[2,1]},{5:[2,2],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,2],22:[1,14],23:[1,15],25:[1,16]},{17:23,21:24,29:25,36:[1,28],38:[1,27],39:26},{5:[2,4],7:38,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,4],22:[1,14],23:[1,15],25:[1,16]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{5:[2,23],14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{18:[1,39]},{18:[2,27],21:44,24:[2,27],27:40,28:41,29:48,30:42,31:[1,45],32:[1,46],33:[1,47],34:43,35:49,36:[1,50],38:[1,27],39:26},{18:[2,28],24:[2,28]},{18:[2,48],24:[2,48],31:[2,48],32:[2,48],33:[2,48],36:[2,48],38:[2,48],40:[1,51]},{21:52,36:[1,28],39:26},{18:[2,50],24:[2,50],31:[2,50],32:[2,50],33:[2,50],36:[2,50],38:[2,50],40:[2,50]},{10:53,20:[1,54]},{10:55,20:[1,54]},{18:[1,56]},{18:[1,57]},{24:[1,58]},{18:[1,59],21:60,36:[1,28],39:26},{18:[2,44],36:[2,44]},{18:[2,45],36:[2,45]},{18:[2,46],36:[2,46]},{5:[2,3],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,3],22:[1,14],23:[1,15],25:[1,16]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{18:[2,25],21:44,24:[2,25],28:61,29:48,30:62,31:[1,45],32:[1,46],33:[1,47],34:43,35:49,36:[1,50],38:[1,27],39:26},{18:[2,26],24:[2,26]},{18:[2,30],24:[2,30],31:[2,30],32:[2,30],33:[2,30],36:[2,30],38:[2,30]},{18:[2,36],24:[2,36],35:63,36:[1,64]},{18:[2,31],24:[2,31],31:[2,31],32:[2,31],33:[2,31],36:[2,31],38:[2,31]},{18:[2,32],24:[2,32],31:[2,32],32:[2,32],33:[2,32],36:[2,32],38:[2,32]},{18:[2,33],24:[2,33],31:[2,33],32:[2,33],33:[2,33],36:[2,33],38:[2,33]},{18:[2,34],24:[2,34],31:[2,34],32:[2,34],33:[2,34],36:[2,34],38:[2,34]},{18:[2,35],24:[2,35],31:[2,35],32:[2,35],33:[2,35],36:[2,35],38:[2,35]},{18:[2,38],24:[2,38],36:[2,38]},{18:[2,50],24:[2,50],31:[2,50],32:[2,50],33:[2,50],36:[2,50],37:[1,65],38:[2,50],40:[2,50]},{36:[1,66]},{18:[2,47],24:[2,47],31:[2,47],32:[2,47],33:[2,47],36:[2,47],38:[2,47]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{21:67,36:[1,28],39:26},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,68]},{18:[2,24],24:[2,24]},{18:[2,29],24:[2,29],31:[2,29],32:[2,29],33:[2,29],36:[2,29],38:[2,29]},{18:[2,37],24:[2,37],36:[2,37]},{37:[1,65]},{21:69,29:73,31:[1,70],32:[1,71],33:[1,72],36:[1,28],38:[1,27],39:26},{18:[2,49],24:[2,49],31:[2,49],32:[2,49],33:[2,49],36:[2,49],38:[2,49],40:[2,49]},{18:[1,74]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{18:[2,39],24:[2,39],36:[2,39]},{18:[2,40],24:[2,40],36:[2,40]},{18:[2,41],24:[2,41],36:[2,41]},{18:[2,42],24:[2,42],36:[2,42]},{18:[2,43],24:[2,43],36:[2,43]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]}],defaultActions:{17:[2,1]},parseError:function z(E,D){throw new Error(E)},parse:function B(M){var T=this,J=[0],ac=[null],O=[],ad=this.table,E="",N=0,aa=0,G=0,L=2,Q=1;this.lexer.setInput(M);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;if(typeof this.lexer.yylloc=="undefined"){this.lexer.yylloc={}}var F=this.lexer.yylloc;O.push(F);var H=this.lexer.options&&this.lexer.options.ranges;if(typeof this.yy.parseError==="function"){this.parseError=this.yy.parseError}function S(af){J.length=J.length-2*af;ac.length=ac.length-af;O.length=O.length-af}function R(){var af;af=T.lexer.lex()||1;if(typeof af!=="number"){af=T.symbols_[af]||af}return af}var Z,V,I,Y,ae,P,X={},U,ab,D,K;while(true){I=J[J.length-1];if(this.defaultActions[I]){Y=this.defaultActions[I]}else{if(Z===null||typeof Z=="undefined"){Z=R()}Y=ad[I]&&ad[I][Z]}if(typeof Y==="undefined"||!Y.length||!Y[0]){var W="";if(!G){K=[];for(U in ad[I]){if(this.terminals_[U]&&U>2){K.push("'"+this.terminals_[U]+"'")}}if(this.lexer.showPosition){W="Parse error on line "+(N+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+K.join(", ")+", got '"+(this.terminals_[Z]||Z)+"'"}else{W="Parse error on line "+(N+1)+": Unexpected "+(Z==1?"end of input":"'"+(this.terminals_[Z]||Z)+"'")}this.parseError(W,{text:this.lexer.match,token:this.terminals_[Z]||Z,line:this.lexer.yylineno,loc:F,expected:K})}}if(Y[0] instanceof Array&&Y.length>1){throw new Error("Parse Error: multiple actions possible at state: "+I+", token: "+Z)}switch(Y[0]){case 1:J.push(Z);ac.push(this.lexer.yytext);O.push(this.lexer.yylloc);J.push(Y[1]);Z=null;if(!V){aa=this.lexer.yyleng;E=this.lexer.yytext;N=this.lexer.yylineno;F=this.lexer.yylloc;if(G>0){G--}}else{Z=V;V=null}break;case 2:ab=this.productions_[Y[1]][1];X.$=ac[ac.length-ab];X._$={first_line:O[O.length-(ab||1)].first_line,last_line:O[O.length-1].last_line,first_column:O[O.length-(ab||1)].first_column,last_column:O[O.length-1].last_column};if(H){X._$.range=[O[O.length-(ab||1)].range[0],O[O.length-1].range[1]]}P=this.performAction.call(X,E,aa,N,this.yy,Y[1],ac,O);if(typeof P!=="undefined"){return P}if(ab){J=J.slice(0,-1*ab*2);ac=ac.slice(0,-1*ab);O=O.slice(0,-1*ab)}J.push(this.productions_[Y[1]][0]);ac.push(X.$);O.push(X._$);D=ad[J[J.length-2]][J[J.length-1]];J.push(D);break;case 3:return true}}return true}};var l=(function(){var G=({EOF:1,parseError:function I(L,K){if(this.yy.parser){this.yy.parser.parseError(L,K)}else{throw new Error(L)}},setInput:function(K){this._input=K;this._more=this._less=this.done=false;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};if(this.options.ranges){this.yylloc.range=[0,0]}this.offset=0;return this},input:function(){var L=this._input[0];this.yytext+=L;this.yyleng++;this.offset++;this.match+=L;this.matched+=L;var K=L.match(/(?:\r\n?|\n).*/g);if(K){this.yylineno++;this.yylloc.last_line++}else{this.yylloc.last_column++}if(this.options.ranges){this.yylloc.range[1]++}this._input=this._input.slice(1);return L},unput:function(M){var K=M.length;var L=M.split(/(?:\r\n?|\n)/g);this._input=M+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-K-1);this.offset-=K;var O=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);if(L.length-1){this.yylineno-=L.length-1}var N=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:L?(L.length===O.length?this.yylloc.first_column:0)+O[O.length-L.length].length-L[0].length:this.yylloc.first_column-K};if(this.options.ranges){this.yylloc.range=[N[0],N[0]+this.yyleng-K]}return this},more:function(){this._more=true;return this},less:function(K){this.unput(this.match.slice(K))},pastInput:function(){var K=this.matched.substr(0,this.matched.length-this.match.length);return(K.length>20?"...":"")+K.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var K=this.match;if(K.length<20){K+=this._input.substr(0,20-K.length)}return(K.substr(0,20)+(K.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var K=this.pastInput();var L=new Array(K.length+1).join("-");return K+this.upcomingInput()+"\n"+L+"^"},next:function(){if(this.done){return this.EOF}if(!this._input){this.done=true}var Q,O,L,N,M,K;if(!this._more){this.yytext="";this.match=""}var R=this._currentRules();for(var P=0;P<R.length;P++){L=this._input.match(this.rules[R[P]]);if(L&&(!O||L[0].length>O[0].length)){O=L;N=P;if(!this.options.flex){break}}}if(O){K=O[0].match(/(?:\r\n?|\n).*/g);if(K){this.yylineno+=K.length}this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:K?K[K.length-1].length-K[K.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+O[0].length};this.yytext+=O[0];this.match+=O[0];this.matches=O;this.yyleng=this.yytext.length;if(this.options.ranges){this.yylloc.range=[this.offset,this.offset+=this.yyleng]}this._more=false;this._input=this._input.slice(O[0].length);this.matched+=O[0];Q=this.performAction.call(this,this.yy,this,R[N],this.conditionStack[this.conditionStack.length-1]);if(this.done&&this._input){this.done=false}if(Q){return Q}else{return}}if(this._input===""){return this.EOF}else{return this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}},lex:function D(){var K=this.next();if(typeof K!=="undefined"){return K}else{return this.lex()}},begin:function E(K){this.conditionStack.push(K)},popState:function J(){return this.conditionStack.pop()},_currentRules:function H(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function E(K){this.begin(K)}});G.options={};G.performAction=function F(O,L,N,K){var M=K;switch(N){case 0:L.yytext="\\";return 14;break;case 1:if(L.yytext.slice(-1)!=="\\"){this.begin("mu")}if(L.yytext.slice(-1)==="\\"){L.yytext=L.yytext.substr(0,L.yyleng-1),this.begin("emu")}if(L.yytext){return 14}break;case 2:return 14;break;case 3:if(L.yytext.slice(-1)!=="\\"){this.popState()}if(L.yytext.slice(-1)==="\\"){L.yytext=L.yytext.substr(0,L.yyleng-1)}return 14;break;case 4:L.yytext=L.yytext.substr(0,L.yyleng-4);this.popState();return 15;break;case 5:return 25;break;case 6:return 16;break;case 7:return 20;break;case 8:return 19;break;case 9:return 19;break;case 10:return 23;break;case 11:return 22;break;case 12:this.popState();this.begin("com");break;case 13:L.yytext=L.yytext.substr(3,L.yyleng-5);this.popState();return 15;break;case 14:return 22;break;case 15:return 37;break;case 16:return 36;break;case 17:return 36;break;case 18:return 40;break;case 19:break;case 20:this.popState();return 24;break;case 21:this.popState();return 18;break;case 22:L.yytext=L.yytext.substr(1,L.yyleng-2).replace(/\\"/g,'"');return 31;break;case 23:L.yytext=L.yytext.substr(1,L.yyleng-2).replace(/\\'/g,"'");return 31;break;case 24:return 38;break;case 25:return 33;break;case 26:return 33;break;case 27:return 32;break;case 28:return 36;break;case 29:L.yytext=L.yytext.substr(1,L.yyleng-2);return 36;break;case 30:return"INVALID";break;case 31:return 5;break}};G.rules=[/^(?:\\\\(?=(\{\{)))/,/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\{\{>)/,/^(?:\{\{#)/,/^(?:\{\{\/)/,/^(?:\{\{\^)/,/^(?:\{\{\s*else\b)/,/^(?:\{\{\{)/,/^(?:\{\{&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{)/,/^(?:=)/,/^(?:\.(?=[}\/ ]))/,/^(?:\.\.)/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}\}\})/,/^(?:\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=[}\s]))/,/^(?:false(?=[}\s]))/,/^(?:-?[0-9]+(?=[}\s]))/,/^(?:[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.]))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/];G.conditions={mu:{rules:[5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],inclusive:false},emu:{rules:[3],inclusive:false},com:{rules:[4],inclusive:false},INITIAL:{rules:[0,1,2,31],inclusive:true}};return G})();C.lexer=l;function A(){this.yy={}}A.prototype=C;C.Parser=A;return new A})();d.Parser=r;d.parse=function(l){if(l.constructor===d.AST.ProgramNode){return l}d.Parser.yy=d.AST;return d.Parser.parse(l)};d.AST={};d.AST.ProgramNode=function(v,l){this.type="program";this.statements=v;if(l){this.inverse=new d.AST.ProgramNode(l)}};d.AST.MustacheNode=function(B,w,v){this.type="mustache";this.escaped=!v;this.hash=w;var A=this.id=B[0];var z=this.params=B.slice(1);var l=this.eligibleHelper=A.isSimple;this.isHelper=l&&(z.length||w)};d.AST.PartialNode=function(l,v){this.type="partial";this.partialName=l;this.context=v};d.AST.BlockNode=function(w,v,l,A){var z=function(B,C){if(B.original!==C.original){throw new d.Exception(B.original+" doesn't match "+C.original)}};z(w.id,A);this.type="block";this.mustache=w;this.program=v;this.inverse=l;if(this.inverse&&!this.program){this.isInverse=true}};d.AST.ContentNode=function(l){this.type="content";this.string=l};d.AST.HashNode=function(l){this.type="hash";this.pairs=l};d.AST.IdNode=function(C){this.type="ID";var B="",z=[],D=0;for(var A=0,v=C.length;A<v;A++){var w=C[A].part;B+=(C[A].separator||"")+w;if(w===".."||w==="."||w==="this"){if(z.length>0){throw new d.Exception("Invalid path: "+B)}else{if(w===".."){D++}else{this.isScoped=true}}}else{z.push(w)}}this.original=B;this.parts=z;this.string=z.join(".");this.depth=D;this.isSimple=C.length===1&&!this.isScoped&&D===0;this.stringModeValue=this.string};d.AST.PartialNameNode=function(l){this.type="PARTIAL_NAME";this.name=l.original};d.AST.DataNode=function(l){this.type="DATA";this.id=l};d.AST.StringNode=function(l){this.type="STRING";this.original=this.string=this.stringModeValue=l};d.AST.IntegerNode=function(l){this.type="INTEGER";this.original=this.integer=l;this.stringModeValue=Number(l)};d.AST.BooleanNode=function(l){this.type="BOOLEAN";this.bool=l;this.stringModeValue=l==="true"};d.AST.CommentNode=function(l){this.type="comment";this.comment=l};var q=["description","fileName","lineNumber","message","name","number","stack"];d.Exception=function(w){var v=Error.prototype.constructor.apply(this,arguments);for(var l=0;l<q.length;l++){this[q[l]]=v[q[l]]}};d.Exception.prototype=new Error();d.SafeString=function(l){this.string=l};d.SafeString.prototype.toString=function(){return this.string.toString()};var k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var e=/[&<>"'`]/g;var p=/[&<>"'`]/;var u=function(l){return k[l]||"&amp;"};d.Utils={extend:function(w,v){for(var l in v){if(v.hasOwnProperty(l)){w[l]=v[l]}}},escapeExpression:function(l){if(l instanceof d.SafeString){return l.toString()}else{if(l==null||l===false){return""}}l=l.toString();if(!p.test(l)){return l}return l.replace(e,u)},isEmpty:function(l){if(!l&&l!==0){return true}else{if(n.call(l)==="[object Array]"&&l.length===0){return true}else{return false}}}};var j=d.Compiler=function(){};var g=d.JavaScriptCompiler=function(){};j.prototype={compiler:j,disassemble:function(){var C=this.opcodes,B,z=[],E,D;for(var A=0,v=C.length;A<v;A++){B=C[A];if(B.opcode==="DECLARE"){z.push("DECLARE "+B.name+"="+B.value)}else{E=[];for(var w=0;w<B.args.length;w++){D=B.args[w];if(typeof D==="string"){D='"'+D.replace("\n","\\n")+'"'}E.push(D)}z.push(B.opcode+" "+E.join(" "))}}return z.join("\n")},equals:function(v){var l=this.opcodes.length;if(v.opcodes.length!==l){return false}for(var A=0;A<l;A++){var B=this.opcodes[A],w=v.opcodes[A];if(B.opcode!==w.opcode||B.args.length!==w.args.length){return false}for(var z=0;z<B.args.length;z++){if(B.args[z]!==w.args[z]){return false}}}l=this.children.length;if(v.children.length!==l){return false}for(A=0;A<l;A++){if(!this.children[A].equals(v.children[A])){return false}}return true},guid:0,compile:function(l,w){this.children=[];this.depths={list:[]};this.options=w;var z=this.options.knownHelpers;this.options.knownHelpers={helperMissing:true,blockHelperMissing:true,each:true,"if":true,unless:true,"with":true,log:true};if(z){for(var v in z){this.options.knownHelpers[v]=z[v]}}return this.program(l)},accept:function(l){return this[l.type](l)},program:function(z){var w=z.statements,B;this.opcodes=[];for(var A=0,v=w.length;A<v;A++){B=w[A];this[B.type](B)}this.isSimple=v===1;this.depths.list=this.depths.list.sort(function(C,l){return C-l});return this},compileProgram:function(z){var v=new this.compiler().compile(z,this.options);var A=this.guid++,C;this.usePartial=this.usePartial||v.usePartial;this.children[A]=v;for(var B=0,w=v.depths.list.length;B<w;B++){C=v.depths.list[B];if(C<2){continue}else{this.addDepth(C-1)}}return A},block:function(A){var z=A.mustache,v=A.program,l=A.inverse;if(v){v=this.compileProgram(v)}if(l){l=this.compileProgram(l)}var w=this.classifyMustache(z);if(w==="helper"){this.helperMustache(z,v,l)}else{if(w==="simple"){this.simpleMustache(z);this.opcode("pushProgram",v);this.opcode("pushProgram",l);this.opcode("emptyHash");this.opcode("blockValue")}else{this.ambiguousMustache(z,v,l);this.opcode("pushProgram",v);this.opcode("pushProgram",l);this.opcode("emptyHash");this.opcode("ambiguousBlockValue")}}this.opcode("append")},hash:function(A){var z=A.pairs,C,B;this.opcode("pushHash");for(var w=0,v=z.length;w<v;w++){C=z[w];B=C[1];if(this.options.stringParams){if(B.depth){this.addDepth(B.depth)}this.opcode("getContext",B.depth||0);this.opcode("pushStringParam",B.stringModeValue,B.type)}else{this.accept(B)}this.opcode("assignToHash",C[0])}this.opcode("popHash")},partial:function(l){var v=l.partialName;this.usePartial=true;if(l.context){this.ID(l.context)}else{this.opcode("push","depth0")}this.opcode("invokePartial",v.name);this.opcode("append")},content:function(l){this.opcode("appendContent",l.string)},mustache:function(w){var l=this.options;var v=this.classifyMustache(w);if(v==="simple"){this.simpleMustache(w)}else{if(v==="helper"){this.helperMustache(w)}else{this.ambiguousMustache(w)}}if(w.escaped&&!l.noEscape){this.opcode("appendEscaped")}else{this.opcode("append")}},ambiguousMustache:function(A,w,v){var B=A.id,z=B.parts[0],l=w!=null||v!=null;this.opcode("getContext",B.depth);this.opcode("pushProgram",w);this.opcode("pushProgram",v);this.opcode("invokeAmbiguous",z,l)},simpleMustache:function(l){var v=l.id;if(v.type==="DATA"){this.DATA(v)}else{if(v.parts.length){this.ID(v)}else{this.addDepth(v.depth);this.opcode("getContext",v.depth);this.opcode("pushContext")}}this.opcode("resolvePossibleLambda")},helperMustache:function(z,v,l){var A=this.setupFullMustacheParams(z,v,l),w=z.id.parts[0];if(this.options.knownHelpers[w]){this.opcode("invokeKnownHelper",A.length,w)}else{if(this.options.knownHelpersOnly){throw new Error("You specified knownHelpersOnly, but used the unknown helper "+w)}else{this.opcode("invokeHelper",A.length,w)}}},ID:function(A){this.addDepth(A.depth);this.opcode("getContext",A.depth);var w=A.parts[0];if(!w){this.opcode("pushContext")}else{this.opcode("lookupOnContext",A.parts[0])}for(var z=1,v=A.parts.length;z<v;z++){this.opcode("lookup",A.parts[z])}},DATA:function(z){this.options.data=true;if(z.id.isScoped||z.id.depth){throw new d.Exception("Scoped data references are not supported: "+z.original)}this.opcode("lookupData");var A=z.id.parts;for(var w=0,v=A.length;w<v;w++){this.opcode("lookup",A[w])}},STRING:function(l){this.opcode("pushString",l.string)},INTEGER:function(l){this.opcode("pushLiteral",l.integer)},BOOLEAN:function(l){this.opcode("pushLiteral",l.bool)},comment:function(){},opcode:function(l){this.opcodes.push({opcode:l,args:[].slice.call(arguments,1)})},declare:function(l,v){this.opcodes.push({opcode:"DECLARE",name:l,value:v})},addDepth:function(l){if(isNaN(l)){throw new Error("EWOT")}if(l===0){return}if(!this.depths[l]){this.depths[l]=true;this.depths.list.push(l)}},classifyMustache:function(z){var w=z.isHelper;var A=z.eligibleHelper;var v=this.options;if(A&&!w){var l=z.id.parts[0];if(v.knownHelpers[l]){w=true}else{if(v.knownHelpersOnly){A=false}}}if(w){return"helper"}else{if(A){return"ambiguous"}else{return"simple"}}},pushParams:function(w){var l=w.length,v;while(l--){v=w[l];if(this.options.stringParams){if(v.depth){this.addDepth(v.depth)}this.opcode("getContext",v.depth||0);this.opcode("pushStringParam",v.stringModeValue,v.type)}else{this[v.type](v)}}},setupMustacheParams:function(l){var v=l.params;this.pushParams(v);if(l.hash){this.hash(l.hash)}else{this.opcode("emptyHash")}return v},setupFullMustacheParams:function(w,v,l){var z=w.params;this.pushParams(z);this.opcode("pushProgram",v);this.opcode("pushProgram",l);if(w.hash){this.hash(w.hash)}else{this.opcode("emptyHash")}return z}};var s=function(l){this.value=l};g.prototype={nameLookup:function(v,l){if(/^[0-9]+$/.test(l)){return v+"["+l+"]"}else{if(g.isValidJavaScriptVariableName(l)){return v+"."+l}else{return v+"['"+l+"']"}}},appendToBuffer:function(l){if(this.environment.isSimple){return"return "+l+";"}else{return{appendToBuffer:true,content:l,toString:function(){return"buffer += "+l+";"}}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(l,v,z,w){this.environment=l;this.options=v||{};d.log(d.logger.DEBUG,this.environment.disassemble()+"\n\n");this.name=this.environment.name;this.isChild=!!z;this.context=z||{programs:[],environments:[],aliases:{}};this.preamble();this.stackSlot=0;this.stackVars=[];this.registers={list:[]};this.compileStack=[];this.inlineStack=[];this.compileChildren(l,v);var B=l.opcodes,A;this.i=0;for(m=B.length;this.i<m;this.i++){A=B[this.i];if(A.opcode==="DECLARE"){this[A.name]=A.value}else{this[A.opcode].apply(this,A.args)}}return this.createFunctionContext(w)},nextOpcode:function(){var l=this.environment.opcodes;return l[this.i+1]},eat:function(){this.i=this.i+1},preamble:function(){var l=[];if(!this.isChild){var v=this.namespace;var w="helpers = this.merge(helpers, "+v+".helpers);";if(this.environment.usePartial){w=w+" partials = this.merge(partials, "+v+".partials);"}if(this.options.data){w=w+" data = data || {};"}l.push(w)}else{l.push("")}if(!this.environment.isSimple){l.push(", buffer = "+this.initializeBuffer())}else{l.push("")}this.lastContext=0;this.source=l},createFunctionContext:function(E){var z=this.stackVars.concat(this.registers.list);if(z.length>0){this.source[1]=this.source[1]+", "+z.join(", ")}if(!this.isChild){for(var D in this.context.aliases){if(this.context.aliases.hasOwnProperty(D)){this.source[1]=this.source[1]+", "+D+"="+this.context.aliases[D]}}}if(this.source[1]){this.source[1]="var "+this.source[1].substring(2)+";"}if(!this.isChild){this.source[1]+="\n"+this.context.programs.join("\n")+"\n"}if(!this.environment.isSimple){this.source.push("return buffer;")}var B=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"];for(var C=0,A=this.environment.depths.list.length;C<A;C++){B.push("depth"+this.environment.depths.list[C])}var v=this.mergeSource();if(!this.isChild){var F=d.COMPILER_REVISION,w=d.REVISION_CHANGES[F];v="this.compilerInfo = ["+F+",'"+w+"'];\n"+v}if(E){B.push(v);return Function.apply(this,B)}else{var G="function "+(this.name||"")+"("+B.join(",")+") {\n  "+v+"}";d.log(d.logger.DEBUG,G+"\n\n");return G}},mergeSource:function(){var A="",w;for(var z=0,l=this.source.length;z<l;z++){var v=this.source[z];if(v.appendToBuffer){if(w){w=w+"\n    + "+v.content}else{w=v.content}}else{if(w){A+="buffer += "+w+";\n  ";w=c}A+=v+"\n  "}}return A},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var l=["depth0"];this.setupParams(0,l);this.replaceStack(function(v){l.splice(1,0,v);return"blockHelperMissing.call("+l.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var v=["depth0"];this.setupParams(0,v);var l=this.topStack();v.splice(1,0,l);v[v.length-1]="options";this.source.push("if (!"+this.lastHelper+") { "+l+" = blockHelperMissing.call("+v.join(", ")+"); }")},appendContent:function(l){this.source.push(this.appendToBuffer(this.quotedString(l)))},append:function(){this.flushInline();var l=this.popStack();this.source.push("if("+l+" || "+l+" === 0) { "+this.appendToBuffer(l)+" }");if(this.environment.isSimple){this.source.push("else { "+this.appendToBuffer("''")+" }")}},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression";this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(l){if(this.lastContext!==l){this.lastContext=l}},lookupOnContext:function(l){this.push(this.nameLookup("depth"+this.lastContext,l,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"';this.replaceStack(function(l){return"typeof "+l+" === functionType ? "+l+".apply(depth0) : "+l})},lookup:function(l){this.replaceStack(function(v){return v+" == null || "+v+" === false ? "+v+" : "+this.nameLookup(v,l,"context")})},lookupData:function(l){this.push("data")},pushStringParam:function(l,v){this.pushStackLiteral("depth"+this.lastContext);this.pushString(v);if(typeof l==="string"){this.pushString(l)}else{this.pushStackLiteral(l)}},emptyHash:function(){this.pushStackLiteral("{}");if(this.options.stringParams){this.register("hashTypes","{}");this.register("hashContexts","{}")}},pushHash:function(){this.hash={values:[],types:[],contexts:[]}},popHash:function(){var l=this.hash;this.hash=c;if(this.options.stringParams){this.register("hashContexts","{"+l.contexts.join(",")+"}");this.register("hashTypes","{"+l.types.join(",")+"}")}this.push("{\n    "+l.values.join(",\n    ")+"\n  }")},pushString:function(l){this.pushStackLiteral(this.quotedString(l))},push:function(l){this.inlineStack.push(l);return l},pushLiteral:function(l){this.pushStackLiteral(l)},pushProgram:function(l){if(l!=null){this.pushStackLiteral(this.programExpression(l))}else{this.pushStackLiteral(null)}},invokeHelper:function(w,l){this.context.aliases.helperMissing="helpers.helperMissing";var v=this.lastHelper=this.setupHelper(w,l,true);var z=this.nameLookup("depth"+this.lastContext,l,"context");this.push(v.name+" || "+z);this.replaceStack(function(A){return A+" ? "+A+".call("+v.callParams+") : helperMissing.call("+v.helperMissingParams+")"})},invokeKnownHelper:function(w,l){var v=this.setupHelper(w,l);this.push(v.name+".call("+v.callParams+")")},invokeAmbiguous:function(l,A){this.context.aliases.functionType='"function"';this.pushStackLiteral("{}");var v=this.setupHelper(0,l,A);var w=this.lastHelper=this.nameLookup("helpers",l,"helper");var B=this.nameLookup("depth"+this.lastContext,l,"context");var z=this.nextStack();this.source.push("if ("+z+" = "+w+") { "+z+" = "+z+".call("+v.callParams+"); }");this.source.push("else { "+z+" = "+B+"; "+z+" = typeof "+z+" === functionType ? "+z+".apply(depth0) : "+z+"; }")},invokePartial:function(l){var v=[this.nameLookup("partials",l,"partial"),"'"+l+"'",this.popStack(),"helpers","partials"];if(this.options.data){v.push("data")}this.context.aliases.self="this";this.push("self.invokePartial("+v.join(", ")+")")},assignToHash:function(v){var z=this.popStack(),l,w;if(this.options.stringParams){w=this.popStack();l=this.popStack()}var A=this.hash;if(l){A.contexts.push("'"+v+"': "+l)}if(w){A.types.push("'"+v+"': "+w)}A.values.push("'"+v+"': ("+z+")")},compiler:g,compileChildren:function(v,A){var C=v.children,E,D;for(var B=0,w=C.length;B<w;B++){E=C[B];D=new this.compiler();var z=this.matchExistingProgram(E);if(z==null){this.context.programs.push("");z=this.context.programs.length;E.index=z;E.name="program"+z;this.context.programs[z]=D.compile(E,A,this.context);this.context.environments[z]=E}else{E.index=z;E.name="program"+z}}},matchExistingProgram:function(z){for(var w=0,v=this.context.environments.length;w<v;w++){var l=this.context.environments[w];if(l&&l.equals(z)){return w}}},programExpression:function(w){this.context.aliases.self="this";if(w==null){return"self.noop"}var D=this.environment.children[w],C=D.depths.list,B;var A=[D.index,D.name,"data"];for(var z=0,v=C.length;z<v;z++){B=C[z];if(B===1){A.push("depth0")}else{A.push("depth"+(B-1))}}return(C.length===0?"self.program(":"self.programWithDepth(")+A.join(", ")+")"},register:function(l,v){this.useRegister(l);this.source.push(l+" = "+v+";")},useRegister:function(l){if(!this.registers[l]){this.registers[l]=true;this.registers.list.push(l)}},pushStackLiteral:function(l){return this.push(new s(l))},pushStack:function(v){this.flushInline();var l=this.incrStack();if(v){this.source.push(l+" = "+v+";")}this.compileStack.push(l);return l},replaceStack:function(C){var z="",B=this.isInline(),l;if(B){var A=this.popStack(true);if(A instanceof s){l=A.value}else{var v=this.stackSlot?this.topStackName():this.incrStack();z="("+this.push(v)+" = "+A+"),";l=this.topStack()}}else{l=this.topStack()}var w=C.call(this,l);if(B){if(this.inlineStack.length||this.compileStack.length){this.popStack()}this.push("("+z+w+")")}else{if(!/^stack/.test(l)){l=this.nextStack()}this.source.push(l+" = ("+z+w+");")}return l},nextStack:function(){return this.pushStack()},incrStack:function(){this.stackSlot++;if(this.stackSlot>this.stackVars.length){this.stackVars.push("stack"+this.stackSlot)}return this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var w=this.inlineStack;if(w.length){this.inlineStack=[];for(var v=0,l=w.length;v<l;v++){var z=w[v];if(z instanceof s){this.compileStack.push(z)}else{this.pushStack(z)}}}},isInline:function(){return this.inlineStack.length},popStack:function(l){var w=this.isInline(),v=(w?this.inlineStack:this.compileStack).pop();if(!l&&(v instanceof s)){return v.value}else{if(!w){this.stackSlot--}return v}},topStack:function(v){var l=(this.isInline()?this.inlineStack:this.compileStack),w=l[l.length-1];if(!v&&(w instanceof s)){return w.value}else{return w}},quotedString:function(l){return'"'+l.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(A,w,v){var z=[];this.setupParams(A,z,v);var l=this.nameLookup("helpers",w,"helper");return{params:z,name:l,callParams:["depth0"].concat(z).join(", "),helperMissingParams:v&&["depth0",this.quotedString(w)].concat(z).join(", ")}},setupParams:function(z,w,l){var F=[],D=[],E=[],v,A,C;F.push("hash:"+this.popStack());A=this.popStack();C=this.popStack();if(C||A){if(!C){this.context.aliases.self="this";C="self.noop"}if(!A){this.context.aliases.self="this";A="self.noop"}F.push("inverse:"+A);F.push("fn:"+C)}for(var B=0;B<z;B++){v=this.popStack();w.push(v);if(this.options.stringParams){E.push(this.popStack());D.push(this.popStack())}}if(this.options.stringParams){F.push("contexts:["+D.join(",")+"]");F.push("types:["+E.join(",")+"]");F.push("hashContexts:hashContexts");F.push("hashTypes:hashTypes")}if(this.options.data){F.push("data:data")}F="{"+F.join(",")+"}";if(l){this.register("options",F);w.push("options")}else{w.push(F)}return w.join(", ")}};var f=("break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield").split(" ");var a=g.RESERVED_WORDS={};for(var o=0,m=f.length;o<m;o++){a[f[o]]=true}g.isValidJavaScriptVariableName=function(l){if(!g.RESERVED_WORDS[l]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(l)){return true}return false};d.precompile=function(w,z){if(w==null||(typeof w!=="string"&&w.constructor!==d.AST.ProgramNode)){throw new d.Exception("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+w)}z=z||{};if(!("data" in z)){z.data=true}var v=d.parse(w);var l=new j().compile(v,z);return new g().compile(l,z)};d.compile=function(l,v){if(l==null||(typeof l!=="string"&&l.constructor!==d.AST.ProgramNode)){throw new d.Exception("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+l)}v=v||{};if(!("data" in v)){v.data=true}var z;function w(){var C=d.parse(l);var B=new j().compile(C,v);var A=new g().compile(B,v,c,true);return d.template(A)}return function(B,A){if(!z){z=w()}return z.call(this,B,A)}};d.VM={template:function(l){var v={escapeExpression:d.Utils.escapeExpression,invokePartial:d.VM.invokePartial,programs:[],program:function(z,A,B){var w=this.programs[z];if(B){w=d.VM.program(z,A,B)}else{if(!w){w=this.programs[z]=d.VM.program(z,A)}}return w},merge:function(A,z){var w=A||z;if(A&&z){w={};d.Utils.extend(w,z);d.Utils.extend(w,A)}return w},programWithDepth:d.VM.programWithDepth,noop:d.VM.noop,compilerInfo:null};return function(C,B){B=B||{};var z=l.call(v,d,C,B.helpers,B.partials,B.data);var D=v.compilerInfo||[],A=D[0]||1,F=d.COMPILER_REVISION;if(A!==F){if(A<F){var w=d.REVISION_CHANGES[F],E=d.REVISION_CHANGES[A];throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+w+") or downgrade your runtime to an older version ("+E+")."}else{throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+D[1]+")."}}return z}},programWithDepth:function(w,z,A){var v=Array.prototype.slice.call(arguments,3);var l=function(C,B){B=B||{};return z.apply(this,[C,B.data||A].concat(v))};l.program=w;l.depth=v.length;return l},program:function(v,w,z){var l=function(B,A){A=A||{};return w(B,A.data||z)};l.program=v;l.depth=0;return l},noop:function(){return""},invokePartial:function(l,w,A,B,z,C){var v={helpers:B,partials:z,data:C};if(l===c){throw new d.Exception("The partial "+w+" could not be found")}else{if(l instanceof Function){return l(A,v)}else{if(!d.compile){throw new d.Exception("The partial "+w+" could not be compiled when running in runtime-only mode")}else{z[w]=d.compile(l,{data:C!==c});return z[w](A,v)}}}}};d.template=d.VM.template})(Handlebars);
/*!
* Pub/Sub implementation
* http://addyosmani.com/
* Licensed under the GPL
* http://jsfiddle.net/LxPrq/
*/
(function(c,d,b){var f={},e=-1,a={};a.publish=function(h,g){if(!f[h]){return false}setTimeout(function(){var k=f[h],j=k?k.length:0;while(j--){k[j].func(h,g)}},0);return true};a.subscribe=function(g,j){if(!f[g]){f[g]=[]}var h=(++e).toString();f[g].push({token:h,func:j});return h};a.unsubscribe=function(l){for(var g in f){if(f[g]){for(var k=0,h=f[g].length;k<h;k++){if(f[g][k].token===l){f[g].splice(k,1);return l}}}}return false};getPubSubz=function(){return a};c.pubsubz=getPubSubz()}(this,this.document));if(typeof jwplayer=="undefined"){var jwplayer=function(b){if(jwplayer.api){return jwplayer.api.selectPlayer(b)}};var $jw=jwplayer;jwplayer.version="5.10.2295 (Licensed version)";jwplayer.vid=document.createElement("video");jwplayer.audio=document.createElement("audio");jwplayer.source=document.createElement("source");(function(c){c.utils=function(){};c.utils.typeOf=function(a){var b=typeof a;if(b==="object"){if(a){if(a instanceof Array){b="array"}}else{b="null"}}return b};c.utils.extend=function(){var f=c.utils.extend["arguments"];if(f.length>1){for(var a=1;a<f.length;a++){for(var b in f[a]){f[0][b]=f[a][b]}}return f[0]}return null};c.utils.clone=function(a){var h;var g=c.utils.clone["arguments"];if(g.length==1){switch(c.utils.typeOf(g[0])){case"object":h={};for(var b in g[0]){h[b]=c.utils.clone(g[0][b])}break;case"array":h=[];for(var b in g[0]){h[b]=c.utils.clone(g[0][b])}break;default:return g[0];break}}return h};c.utils.extension=function(a){if(!a){return""}a=a.substring(a.lastIndexOf("/")+1,a.length);a=a.split("?")[0];if(a.lastIndexOf(".")>-1){return a.substr(a.lastIndexOf(".")+1,a.length).toLowerCase()}return};c.utils.html=function(b,a){b.innerHTML=a};c.utils.wrap=function(b,a){if(b.parentNode){b.parentNode.replaceChild(a,b)}a.appendChild(b)};c.utils.ajax=function(a,b,k){var h;if(window.XMLHttpRequest){h=new XMLHttpRequest()}else{h=new ActiveXObject("Microsoft.XMLHTTP")}h.onreadystatechange=function(){if(h.readyState===4){if(h.status===200){if(b){if(!c.utils.exists(h.responseXML)){try{if(window.DOMParser){var f=(new DOMParser()).parseFromString(h.responseText,"text/xml");if(f){h=c.utils.extend({},h,{responseXML:f})}}else{f=new ActiveXObject("Microsoft.XMLDOM");f.async="false";f.loadXML(h.responseText);h=c.utils.extend({},h,{responseXML:f})}}catch(e){if(k){k(a)}}}b(h)}}else{if(k){k(a)}}}};try{h.open("GET",a,true);h.send(null)}catch(j){if(k){k(a)}}return h};c.utils.load=function(b,a,f){b.onreadystatechange=function(){if(b.readyState===4){if(b.status===200){if(a){a()}}else{if(f){f()}}}}};c.utils.find=function(a,b){return a.getElementsByTagName(b)};c.utils.append=function(b,a){b.appendChild(a)};c.utils.isIE=function(){return((!+"\v1")||(typeof window.ActiveXObject!="undefined"))};c.utils.userAgentMatch=function(a){var b=navigator.userAgent.toLowerCase();return(b.match(a)!==null)};c.utils.isIOS=function(){return c.utils.userAgentMatch(/iP(hone|ad|od)/i)};c.utils.isIPad=function(){return c.utils.userAgentMatch(/iPad/i)};c.utils.isIPod=function(){return c.utils.userAgentMatch(/iP(hone|od)/i)};c.utils.isAndroid=function(){return c.utils.userAgentMatch(/android/i)};c.utils.isLegacyAndroid=function(){return c.utils.userAgentMatch(/android 2.[012]/i)};c.utils.isBlackberry=function(){return c.utils.userAgentMatch(/blackberry/i)};c.utils.isMobile=function(){return c.utils.userAgentMatch(/(iP(hone|ad|od))|android/i)};c.utils.getFirstPlaylistItemFromConfig=function(f){var b={};var a;if(f.playlist&&f.playlist.length){a=f.playlist[0]}else{a=f}b.file=a.file;b.levels=a.levels;b.streamer=a.streamer;b.playlistfile=a.playlistfile;b.provider=a.provider;if(!b.provider){if(b.file&&(b.file.toLowerCase().indexOf("youtube.com")>-1||b.file.toLowerCase().indexOf("youtu.be")>-1)){b.provider="youtube"}if(b.streamer&&b.streamer.toLowerCase().indexOf("rtmp://")==0){b.provider="rtmp"}if(a.type){b.provider=a.type.toLowerCase()}}if(b.provider=="audio"){b.provider="sound"}return b};c.utils.getOuterHTML=function(b){if(b.outerHTML){return b.outerHTML}else{try{return new XMLSerializer().serializeToString(b)}catch(a){return""}}};c.utils.setOuterHTML=function(b,h){if(b.outerHTML){b.outerHTML=h}else{var a=document.createElement("div");a.innerHTML=h;var k=document.createRange();k.selectNodeContents(a);var j=k.extractContents();b.parentNode.insertBefore(j,b);b.parentNode.removeChild(b)}};c.utils.hasFlash=function(){if(typeof navigator.plugins!="undefined"&&typeof navigator.plugins["Shockwave Flash"]!="undefined"){return true}if(typeof window.ActiveXObject!="undefined"){try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash");return true}catch(a){}}return false};c.utils.getPluginName=function(a){if(a.lastIndexOf("/")>=0){a=a.substring(a.lastIndexOf("/")+1,a.length)}if(a.lastIndexOf("-")>=0){a=a.substring(0,a.lastIndexOf("-"))}if(a.lastIndexOf(".swf")>=0){a=a.substring(0,a.lastIndexOf(".swf"))}if(a.lastIndexOf(".js")>=0){a=a.substring(0,a.lastIndexOf(".js"))}return a};c.utils.getPluginVersion=function(a){if(a.lastIndexOf("-")>=0){if(a.lastIndexOf(".js")>=0){return a.substring(a.lastIndexOf("-")+1,a.lastIndexOf(".js"))}else{if(a.lastIndexOf(".swf")>=0){return a.substring(a.lastIndexOf("-")+1,a.lastIndexOf(".swf"))}else{return a.substring(a.lastIndexOf("-")+1)}}}return""};c.utils.getAbsolutePath=function(b,l){if(!c.utils.exists(l)){l=document.location.href}if(!c.utils.exists(b)){return undefined}if(d(b)){return b}var a=l.substring(0,l.indexOf("://")+3);var m=l.substring(a.length,l.indexOf("/",a.length+1));var p;if(b.indexOf("/")===0){p=b.split("/")}else{var o=l.split("?")[0];o=o.substring(a.length+m.length+1,o.lastIndexOf("/"));p=o.split("/").concat(b.split("/"))}var q=[];for(var n=0;n<p.length;n++){if(!p[n]||!c.utils.exists(p[n])||p[n]=="."){continue}else{if(p[n]==".."){q.pop()}else{q.push(p[n])}}}return a+m+"/"+q.join("/")};function d(b){if(!c.utils.exists(b)){return}var a=b.indexOf("://");var f=b.indexOf("?");return(a>0&&(f<0||(f>a)))}c.utils.pluginPathType={ABSOLUTE:"ABSOLUTE",RELATIVE:"RELATIVE",CDN:"CDN"};c.utils.getPluginPathType=function(g){if(typeof g!="string"){return}g=g.split("?")[0];var b=g.indexOf("://");if(b>0){return c.utils.pluginPathType.ABSOLUTE}var h=g.indexOf("/");var a=c.utils.extension(g);if(b<0&&h<0&&(!a||!isNaN(a))){return c.utils.pluginPathType.CDN}return c.utils.pluginPathType.RELATIVE};c.utils.mapEmpty=function(b){for(var a in b){return false}return true};c.utils.mapLength=function(b){var f=0;for(var a in b){f++}return f};c.utils.log=function(a,b){if(typeof console!="undefined"&&typeof console.log!="undefined"){if(b){console.log(a,b)}else{console.log(a)}}};c.utils.css=function(j,a,k){if(c.utils.exists(j)){for(var h in a){try{if(typeof a[h]==="undefined"){continue}else{if(typeof a[h]=="number"&&!(h=="zIndex"||h=="opacity")){if(isNaN(a[h])){continue}if(h.match(/color/i)){a[h]="#"+c.utils.strings.pad(a[h].toString(16),6)}else{a[h]=Math.ceil(a[h])+"px"}}}j.style[h]=a[h]}catch(b){}}}};c.utils.isYouTube=function(a){return(a.indexOf("youtube.com")>-1||a.indexOf("youtu.be")>-1)};c.utils.transform=function(k,l,m,b,a){if(!c.utils.exists(l)){l=1}if(!c.utils.exists(m)){m=1}if(!c.utils.exists(b)){b=0}if(!c.utils.exists(a)){a=0}if(l==1&&m==1&&b==0&&a==0){k.style.webkitTransform="";k.style.MozTransform="";k.style.OTransform=""}else{var j="scale("+l+","+m+") translate("+b+"px,"+a+"px)";k.style.webkitTransform=j;k.style.MozTransform=j;k.style.OTransform=j}};c.utils.stretch=function(w,a,b,B,s,A){if(typeof b=="undefined"||typeof B=="undefined"||typeof s=="undefined"||typeof A=="undefined"){return}var E=b/s;var C=B/A;var u=0;var v=0;var D=false;var F={};if(a.parentElement){a.parentElement.style.overflow="hidden"}c.utils.transform(a);switch(w.toUpperCase()){case c.utils.stretching.NONE:F.width=s;F.height=A;F.top=(B-F.height)/2;F.left=(b-F.width)/2;break;case c.utils.stretching.UNIFORM:if(E>C){F.width=s*C;F.height=A*C;if(F.width/b>0.95){D=true;E=Math.ceil(100*b/F.width)/100;C=1;F.width=b}}else{F.width=s*E;F.height=A*E;if(F.height/B>0.95){D=true;E=1;C=Math.ceil(100*B/F.height)/100;F.height=B}}F.top=(B-F.height)/2;F.left=(b-F.width)/2;break;case c.utils.stretching.FILL:if(E>C){F.width=s*E;F.height=A*E}else{F.width=s*C;F.height=A*C}F.top=(B-F.height)/2;F.left=(b-F.width)/2;break;case c.utils.stretching.EXACTFIT:F.width=s;F.height=A;var r=Math.round((s/2)*(1-1/E));var z=Math.round((A/2)*(1-1/C));D=true;F.top=F.left=0;break;default:break}if(D){c.utils.transform(a,E,C,r,z)}c.utils.css(a,F)};c.utils.stretching={NONE:"NONE",FILL:"FILL",UNIFORM:"UNIFORM",EXACTFIT:"EXACTFIT"};c.utils.deepReplaceKeyName=function(a,o,q){switch(c.utils.typeOf(a)){case"array":for(var m=0;m<a.length;m++){a[m]=c.utils.deepReplaceKeyName(a[m],o,q)}break;case"object":for(var n in a){var b,l;if(o instanceof Array&&q instanceof Array){if(o.length!=q.length){continue}else{b=o;l=q}}else{b=[o];l=[q]}var p=n;for(var m=0;m<b.length;m++){p=p.replace(new RegExp(o[m],"g"),q[m])}a[p]=c.utils.deepReplaceKeyName(a[n],o,q);if(n!=p){delete a[n]}}break}return a};c.utils.isInArray=function(a,b){if(!(a)||!(a instanceof Array)){return false}for(var f=0;f<a.length;f++){if(b===a[f]){return true}}return false};c.utils.exists=function(a){switch(typeof(a)){case"string":return(a.length>0);break;case"object":return(a!==null);case"undefined":return false}return true};c.utils.empty=function(a){if(typeof a.hasChildNodes=="function"){while(a.hasChildNodes()){a.removeChild(a.firstChild)}}};c.utils.parseDimension=function(a){if(typeof a=="string"){if(a===""){return 0}else{if(a.lastIndexOf("%")>-1){return a}else{return parseInt(a.replace("px",""),10)}}}return a};c.utils.getDimensions=function(a){if(a&&a.style){return{x:c.utils.parseDimension(a.style.left),y:c.utils.parseDimension(a.style.top),width:c.utils.parseDimension(a.style.width),height:c.utils.parseDimension(a.style.height)}}else{return{}}};c.utils.getElementWidth=function(a){if(!a){return null}else{if(a==document.body){return c.utils.parentNode(a).clientWidth}else{if(a.clientWidth>0){return a.clientWidth}else{if(a.style){return c.utils.parseDimension(a.style.width)}else{return null}}}}};c.utils.getElementHeight=function(a){if(!a){return null}else{if(a==document.body){return c.utils.parentNode(a).clientHeight}else{if(a.clientHeight>0){return a.clientHeight}else{if(a.style){return c.utils.parseDimension(a.style.height)}else{return null}}}}};c.utils.timeFormat=function(a){str="00:00";if(a>0){str=Math.floor(a/60)<10?"0"+Math.floor(a/60)+":":Math.floor(a/60)+":";str+=Math.floor(a%60)<10?"0"+Math.floor(a%60):Math.floor(a%60)}return str};c.utils.useNativeFullscreen=function(){return(navigator&&navigator.vendor&&navigator.vendor.indexOf("Apple")==0)};c.utils.parentNode=function(a){if(!a){return document.body}else{if(a.parentNode){return a.parentNode}else{if(a.parentElement){return a.parentElement}else{return a}}}};c.utils.getBoundingClientRect=function(a){if(typeof a.getBoundingClientRect=="function"){return a.getBoundingClientRect()}else{return{left:a.offsetLeft+document.body.scrollLeft,top:a.offsetTop+document.body.scrollTop,width:a.offsetWidth,height:a.offsetHeight}}};c.utils.translateEventResponse=function(h,k){var a=c.utils.extend({},k);if(h==c.api.events.JWPLAYER_FULLSCREEN&&!a.fullscreen){a.fullscreen=a.message=="true"?true:false;delete a.message}else{if(typeof a.data=="object"){a=c.utils.extend(a,a.data);delete a.data}else{if(typeof a.metadata=="object"){c.utils.deepReplaceKeyName(a.metadata,["__dot__","__spc__","__dsh__"],["."," ","-"])}}}var j=["position","duration","offset"];for(var b in j){if(a[j[b]]){a[j[b]]=Math.round(a[j[b]]*1000)/1000}}return a};c.utils.saveCookie=function(b,a){document.cookie="jwplayer."+b+"="+a+"; path=/"};c.utils.getCookies=function(){var a={};var b=document.cookie.split("; ");for(var g=0;g<b.length;g++){var h=b[g].split("=");if(h[0].indexOf("jwplayer.")==0){a[h[0].substring(9,h[0].length)]=h[1]}}return a};c.utils.readCookie=function(a){return c.utils.getCookies()[a]}})(jwplayer);(function(b){b.events=function(){};b.events.COMPLETE="COMPLETE";b.events.ERROR="ERROR"})(jwplayer);(function(jwplayer){jwplayer.events.eventdispatcher=function(debug){var _debug=debug;var _listeners;var _globallisteners;this.resetEventListeners=function(){_listeners={};_globallisteners=[]};this.resetEventListeners();this.addEventListener=function(type,listener,count){try{if(!jwplayer.utils.exists(_listeners[type])){_listeners[type]=[]}if(typeof(listener)=="string"){eval("listener = "+listener)}_listeners[type].push({listener:listener,count:count})}catch(err){jwplayer.utils.log("error",err)}return false};this.removeEventListener=function(type,listener){if(!_listeners[type]){return}try{for(var listenerIndex=0;listenerIndex<_listeners[type].length;listenerIndex++){if(_listeners[type][listenerIndex].listener.toString()==listener.toString()){_listeners[type].splice(listenerIndex,1);break}}}catch(err){jwplayer.utils.log("error",err)}return false};this.addGlobalListener=function(listener,count){try{if(typeof(listener)=="string"){eval("listener = "+listener)}_globallisteners.push({listener:listener,count:count})}catch(err){jwplayer.utils.log("error",err)}return false};this.removeGlobalListener=function(listener){if(!listener){return}try{for(var globalListenerIndex=0;globalListenerIndex<_globallisteners.length;globalListenerIndex++){if(_globallisteners[globalListenerIndex].listener.toString()==listener.toString()){_globallisteners.splice(globalListenerIndex,1);break}}}catch(err){jwplayer.utils.log("error",err)}return false};this.sendEvent=function(type,data){if(!jwplayer.utils.exists(data)){data={}}if(_debug){jwplayer.utils.log(type,data)}if(typeof _listeners[type]!="undefined"){for(var listenerIndex=0;listenerIndex<_listeners[type].length;listenerIndex++){try{_listeners[type][listenerIndex].listener(data)}catch(err){jwplayer.utils.log("There was an error while handling a listener: "+err.toString(),_listeners[type][listenerIndex].listener)}if(_listeners[type][listenerIndex]){if(_listeners[type][listenerIndex].count===1){delete _listeners[type][listenerIndex]}else{if(_listeners[type][listenerIndex].count>0){_listeners[type][listenerIndex].count=_listeners[type][listenerIndex].count-1}}}}}for(var globalListenerIndex=0;globalListenerIndex<_globallisteners.length;globalListenerIndex++){try{_globallisteners[globalListenerIndex].listener(data)}catch(err){jwplayer.utils.log("There was an error while handling a listener: "+err.toString(),_globallisteners[globalListenerIndex].listener)}if(_globallisteners[globalListenerIndex]){if(_globallisteners[globalListenerIndex].count===1){delete _globallisteners[globalListenerIndex]}else{if(_globallisteners[globalListenerIndex].count>0){_globallisteners[globalListenerIndex].count=_globallisteners[globalListenerIndex].count-1}}}}}}})(jwplayer);(function(d){var c={};d.utils.animations=function(){};d.utils.animations.transform=function(b,a){b.style.webkitTransform=a;b.style.MozTransform=a;b.style.OTransform=a;b.style.msTransform=a};d.utils.animations.transformOrigin=function(b,a){b.style.webkitTransformOrigin=a;b.style.MozTransformOrigin=a;b.style.OTransformOrigin=a;b.style.msTransformOrigin=a};d.utils.animations.rotate=function(b,a){d.utils.animations.transform(b,["rotate(",a,"deg)"].join(""))};d.utils.cancelAnimation=function(a){delete c[a.id]};d.utils.fadeTo=function(a,r,s,o,p,u){if(c[a.id]!=u&&d.utils.exists(u)){return}if(a.style.opacity==r){return}var v=new Date().getTime();if(u>v){setTimeout(function(){d.utils.fadeTo(a,r,s,o,0,u)},u-v)}if(a.style.display=="none"){a.style.display="block"}if(!d.utils.exists(o)){o=a.style.opacity===""?1:a.style.opacity}if(a.style.opacity==r&&a.style.opacity!==""&&d.utils.exists(u)){if(r===0){a.style.display="none"}return}if(!d.utils.exists(u)){u=v;c[a.id]=u}if(!d.utils.exists(p)){p=0}var n=(s>0)?((v-u)/(s*1000)):0;n=n>1?1:n;var b=r-o;var q=o+(n*b);if(q>1){q=1}else{if(q<0){q=0}}a.style.opacity=q;if(p>0){c[a.id]=u+p*1000;d.utils.fadeTo(a,r,s,o,0,c[a.id]);return}setTimeout(function(){d.utils.fadeTo(a,r,s,o,0,u)},10)}})(jwplayer);(function(b){b.utils.arrays=function(){};b.utils.arrays.indexOf=function(f,e){for(var a=0;a<f.length;a++){if(f[a]==e){return a}}return -1};b.utils.arrays.remove=function(f,e){var a=b.utils.arrays.indexOf(f,e);if(a>-1){f.splice(a,1)}}})(jwplayer);(function(b){b.utils.extensionmap={"3gp":{html5:"video/3gpp",flash:"video"},"3gpp":{html5:"video/3gpp"},"3g2":{html5:"video/3gpp2",flash:"video"},"3gpp2":{html5:"video/3gpp2"},flv:{flash:"video"},f4a:{html5:"audio/mp4"},f4b:{html5:"audio/mp4",flash:"video"},f4v:{html5:"video/mp4",flash:"video"},mov:{html5:"video/quicktime",flash:"video"},m4a:{html5:"audio/mp4",flash:"video"},m4b:{html5:"audio/mp4"},m4p:{html5:"audio/mp4"},m4v:{html5:"video/mp4",flash:"video"},mp4:{html5:"video/mp4",flash:"video"},rbs:{flash:"sound"},aac:{html5:"audio/aac",flash:"video"},mp3:{html5:"audio/mp3",flash:"sound"},ogg:{html5:"audio/ogg"},oga:{html5:"audio/ogg"},ogv:{html5:"video/ogg"},webm:{html5:"video/webm"},m3u8:{html5:"audio/x-mpegurl"},gif:{flash:"image"},jpeg:{flash:"image"},jpg:{flash:"image"},swf:{flash:"image"},png:{flash:"image"},wav:{html5:"audio/x-wav"}}})(jwplayer);(function(o){o.utils.mediaparser=function(){};var m={element:{width:"width",height:"height",id:"id","class":"className",name:"name"},media:{src:"file",preload:"preload",autoplay:"autostart",loop:"repeat",controls:"controls"},source:{src:"file",type:"type",media:"media","data-jw-width":"width","data-jw-bitrate":"bitrate"},video:{poster:"image"}};var n={};o.utils.mediaparser.parseMedia=function(a){return p(a)};function q(a,b){if(!o.utils.exists(b)){b=m[a]}else{o.utils.extend(b,m[a])}return b}function p(f,d){if(n[f.tagName.toLowerCase()]&&!o.utils.exists(d)){return n[f.tagName.toLowerCase()](f)}else{d=q("element",d);var e={};for(var c in d){if(c!="length"){var a=f.getAttribute(c);if(o.utils.exists(a)){e[d[c]]=a}}}var b=f.style["#background-color"];if(b&&!(b=="transparent"||b=="rgba(0, 0, 0, 0)")){e.screencolor=b}return e}}function l(f,c){c=q("media",c);var b=[];var d=o.utils.selectors("source",f);for(var a in d){if(!isNaN(a)){b.push(k(d[a]))}}var e=p(f,c);if(o.utils.exists(e.file)){b[0]={file:e.file}}e.levels=b;return e}function k(a,b){b=q("source",b);var c=p(a,b);c.width=c.width?c.width:0;c.bitrate=c.bitrate?c.bitrate:0;return c}function j(a,b){b=q("video",b);var c=l(a,b);return c}n.media=l;n.audio=l;n.source=k;n.video=j})(jwplayer);(function(b){b.utils.loaderstatus={NEW:"NEW",LOADING:"LOADING",ERROR:"ERROR",COMPLETE:"COMPLETE"};b.utils.scriptloader=function(f){var e=b.utils.loaderstatus.NEW;var a=new b.events.eventdispatcher();b.utils.extend(this,a);this.load=function(){if(e==b.utils.loaderstatus.NEW){e=b.utils.loaderstatus.LOADING;var c=document.createElement("script");c.onload=function(d){e=b.utils.loaderstatus.COMPLETE;a.sendEvent(b.events.COMPLETE)};c.onerror=function(d){e=b.utils.loaderstatus.ERROR;a.sendEvent(b.events.ERROR)};c.onreadystatechange=function(){if(c.readyState=="loaded"||c.readyState=="complete"){e=b.utils.loaderstatus.COMPLETE;a.sendEvent(b.events.COMPLETE)}};document.getElementsByTagName("head")[0].appendChild(c);c.src=f}};this.getStatus=function(){return e}}})(jwplayer);(function(b){b.utils.selectors=function(a,f){if(!b.utils.exists(f)){f=document}a=b.utils.strings.trim(a);var h=a.charAt(0);if(h=="#"){return f.getElementById(a.substr(1))}else{if(h=="."){if(f.getElementsByClassName){return f.getElementsByClassName(a.substr(1))}else{return b.utils.selectors.getElementsByTagAndClass("*",a.substr(1))}}else{if(a.indexOf(".")>0){var g=a.split(".");return b.utils.selectors.getElementsByTagAndClass(g[0],g[1])}else{return f.getElementsByTagName(a)}}}return null};b.utils.selectors.getElementsByTagAndClass=function(o,l,m){var k=[];if(!b.utils.exists(m)){m=document}var n=m.getElementsByTagName(o);for(var p=0;p<n.length;p++){if(b.utils.exists(n[p].className)){var q=n[p].className.split(" ");for(var a=0;a<q.length;a++){if(q[a]==l){k.push(n[p])}}}}return k}})(jwplayer);(function(b){b.utils.strings=function(){};b.utils.strings.trim=function(a){return a.replace(/^\s*/,"").replace(/\s*$/,"")};b.utils.strings.pad=function(f,e,a){if(!a){a="0"}while(f.length<e){f=a+f}return f};b.utils.strings.serialize=function(a){if(a==null){return null}else{if(a=="true"){return true}else{if(a=="false"){return false}else{if(isNaN(Number(a))||a.length>5||a.length==0){return a}else{return Number(a)}}}}};b.utils.strings.seconds=function(e){e=e.replace(",",".");var a=e.split(":");var f=0;if(e.substr(-1)=="s"){f=Number(e.substr(0,e.length-1))}else{if(e.substr(-1)=="m"){f=Number(e.substr(0,e.length-1))*60}else{if(e.substr(-1)=="h"){f=Number(e.substr(0,e.length-1))*3600}else{if(a.length>1){f=Number(a[a.length-1]);f+=Number(a[a.length-2])*60;if(a.length==3){f+=Number(a[a.length-3])*3600}}else{f=Number(e)}}}}return f};b.utils.strings.xmlAttribute=function(a,f){for(var e=0;e<a.attributes.length;e++){if(a.attributes[e].name&&a.attributes[e].name.toLowerCase()==f.toLowerCase()){return a.attributes[e].value.toString()}}return""};b.utils.strings.jsonToString=function(l){var j=j||{};if(j&&j.stringify){return j.stringify(l)}var o=typeof(l);if(o!="object"||l===null){if(o=="string"){l='"'+l.replace(/"/g,'\\"')+'"'}else{return String(l)}}else{var k=[],a=(l&&l.constructor==Array);for(var n in l){var m=l[n];switch(typeof(m)){case"string":m='"'+m.replace(/"/g,'\\"')+'"';break;case"object":if(b.utils.exists(m)){m=b.utils.strings.jsonToString(m)}break}if(a){if(typeof(m)!="function"){k.push(String(m))}}else{if(typeof(m)!="function"){k.push('"'+n+'":'+String(m))}}}if(a){return"["+String(k)+"]"}else{return"{"+String(k)+"}"}}}})(jwplayer);(function(k){var j=new RegExp(/^(#|0x)[0-9a-fA-F]{3,6}/);k.utils.typechecker=function(a,b){b=!k.utils.exists(b)?f(a):b;return h(a,b)};function f(b){var a=["true","false","t","f"];if(a.toString().indexOf(b.toLowerCase().replace(" ",""))>=0){return"boolean"}else{if(j.test(b)){return"color"}else{if(!isNaN(parseInt(b,10))&&parseInt(b,10).toString().length==b.length){return"integer"}else{if(!isNaN(parseFloat(b))&&parseFloat(b).toString().length==b.length){return"float"}}}}return"string"}function h(a,b){if(!k.utils.exists(b)){return a}switch(b){case"color":if(a.length>0){return g(a)}return null;case"integer":return parseInt(a,10);case"float":return parseFloat(a);case"boolean":if(a.toLowerCase()=="true"){return true}else{if(a=="1"){return true}}return false}return a}function g(a){switch(a.toLowerCase()){case"blue":return parseInt("0000FF",16);case"green":return parseInt("00FF00",16);case"red":return parseInt("FF0000",16);case"cyan":return parseInt("00FFFF",16);case"magenta":return parseInt("FF00FF",16);case"yellow":return parseInt("FFFF00",16);case"black":return parseInt("000000",16);case"white":return parseInt("FFFFFF",16);default:a=a.replace(/(#|0x)?([0-9A-F]{3,6})$/gi,"$2");if(a.length==3){a=a.charAt(0)+a.charAt(0)+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2)}return parseInt(a,16)}return parseInt("000000",16)}})(jwplayer);(function(b){b.utils.parsers=function(){};b.utils.parsers.localName=function(a){if(!a){return""}else{if(a.localName){return a.localName}else{if(a.baseName){return a.baseName}else{return""}}}};b.utils.parsers.textContent=function(a){if(!a){return""}else{if(a.textContent){return a.textContent}else{if(a.text){return a.text}else{return""}}}}})(jwplayer);(function(b){b.utils.parsers.jwparser=function(){};b.utils.parsers.jwparser.PREFIX="jwplayer";b.utils.parsers.jwparser.parseEntry=function(f,e){for(var a=0;a<f.childNodes.length;a++){if(f.childNodes[a].prefix==b.utils.parsers.jwparser.PREFIX){e[b.utils.parsers.localName(f.childNodes[a])]=b.utils.strings.serialize(b.utils.parsers.textContent(f.childNodes[a]));if(b.utils.parsers.localName(f.childNodes[a])=="file"&&e.levels){delete e.levels}}if(!e.file&&String(e.link).toLowerCase().indexOf("youtube")>-1){e.file=e.link}}return e};b.utils.parsers.jwparser.getProvider=function(d){if(d.type){return d.type}else{if(d.file.indexOf("youtube.com/w")>-1||d.file.indexOf("youtube.com/v")>-1||d.file.indexOf("youtu.be/")>-1){return"youtube"}else{if(d.streamer&&d.streamer.indexOf("rtmp")==0){return"rtmp"}else{if(d.streamer&&d.streamer.indexOf("http")==0){return"http"}else{var a=b.utils.strings.extension(d.file);if(extensions.hasOwnProperty(a)){return extensions[a]}}}}}return""}})(jwplayer);(function(b){b.utils.parsers.mediaparser=function(){};b.utils.parsers.mediaparser.PREFIX="media";b.utils.parsers.mediaparser.parseGroup=function(j,g){var h=false;for(var k=0;k<j.childNodes.length;k++){if(j.childNodes[k].prefix==b.utils.parsers.mediaparser.PREFIX){if(!b.utils.parsers.localName(j.childNodes[k])){continue}switch(b.utils.parsers.localName(j.childNodes[k]).toLowerCase()){case"content":if(!h){g.file=b.utils.strings.xmlAttribute(j.childNodes[k],"url")}if(b.utils.strings.xmlAttribute(j.childNodes[k],"duration")){g.duration=b.utils.strings.seconds(b.utils.strings.xmlAttribute(j.childNodes[k],"duration"))}if(b.utils.strings.xmlAttribute(j.childNodes[k],"start")){g.start=b.utils.strings.seconds(b.utils.strings.xmlAttribute(j.childNodes[k],"start"))}if(j.childNodes[k].childNodes&&j.childNodes[k].childNodes.length>0){g=b.utils.parsers.mediaparser.parseGroup(j.childNodes[k],g)}if(b.utils.strings.xmlAttribute(j.childNodes[k],"width")||b.utils.strings.xmlAttribute(j.childNodes[k],"bitrate")||b.utils.strings.xmlAttribute(j.childNodes[k],"url")){if(!g.levels){g.levels=[]}g.levels.push({width:b.utils.strings.xmlAttribute(j.childNodes[k],"width"),bitrate:b.utils.strings.xmlAttribute(j.childNodes[k],"bitrate"),file:b.utils.strings.xmlAttribute(j.childNodes[k],"url")})}break;case"title":g.title=b.utils.parsers.textContent(j.childNodes[k]);break;case"description":g.description=b.utils.parsers.textContent(j.childNodes[k]);break;case"keywords":g.tags=b.utils.parsers.textContent(j.childNodes[k]);break;case"thumbnail":g.image=b.utils.strings.xmlAttribute(j.childNodes[k],"url");break;case"credit":g.author=b.utils.parsers.textContent(j.childNodes[k]);break;case"player":var a=j.childNodes[k].url;if(a.indexOf("youtube.com")>=0||a.indexOf("youtu.be")>=0){h=true;g.file=b.utils.strings.xmlAttribute(j.childNodes[k],"url")}break;case"group":b.utils.parsers.mediaparser.parseGroup(j.childNodes[k],g);break}}}return g}})(jwplayer);(function(c){c.utils.parsers.rssparser=function(){};c.utils.parsers.rssparser.parse=function(a){var h=[];for(var b=0;b<a.childNodes.length;b++){if(c.utils.parsers.localName(a.childNodes[b]).toLowerCase()=="channel"){for(var g=0;g<a.childNodes[b].childNodes.length;g++){if(c.utils.parsers.localName(a.childNodes[b].childNodes[g]).toLowerCase()=="item"){h.push(d(a.childNodes[b].childNodes[g]))}}}}return h};function d(b){var a={};for(var f=0;f<b.childNodes.length;f++){if(!c.utils.parsers.localName(b.childNodes[f])){continue}switch(c.utils.parsers.localName(b.childNodes[f]).toLowerCase()){case"enclosure":a.file=c.utils.strings.xmlAttribute(b.childNodes[f],"url");break;case"title":a.title=c.utils.parsers.textContent(b.childNodes[f]);break;case"pubdate":a.date=c.utils.parsers.textContent(b.childNodes[f]);break;case"description":a.description=c.utils.parsers.textContent(b.childNodes[f]);break;case"link":a.link=c.utils.parsers.textContent(b.childNodes[f]);break;case"category":if(a.tags){a.tags+=c.utils.parsers.textContent(b.childNodes[f])}else{a.tags=c.utils.parsers.textContent(b.childNodes[f])}break}}a=c.utils.parsers.mediaparser.parseGroup(b,a);a=c.utils.parsers.jwparser.parseEntry(b,a);return new c.html5.playlistitem(a)}})(jwplayer);(function(e){var f={};var d={};e.plugins=function(){};e.plugins.loadPlugins=function(a,b){d[a]=new e.plugins.pluginloader(new e.plugins.model(f),b);return d[a]};e.plugins.registerPlugin=function(a,c,j){var k=e.utils.getPluginName(a);if(f[k]){f[k].registerPlugin(a,c,j)}else{e.utils.log("A plugin ("+a+") was registered with the player that was not loaded. Please check your configuration.");for(var b in d){d[b].pluginFailed()}}}})(jwplayer);(function(b){b.plugins.model=function(a){this.addPlugin=function(f){var e=b.utils.getPluginName(f);if(!a[e]){a[e]=new b.plugins.plugin(f)}return a[e]}}})(jwplayer);(function(b){b.plugins.pluginmodes={FLASH:"FLASH",JAVASCRIPT:"JAVASCRIPT",HYBRID:"HYBRID"};b.plugins.plugin=function(v){var s="http://lp.longtailvideo.com";var n=b.utils.loaderstatus.NEW;var m;var o;var a;var u=new b.events.eventdispatcher();b.utils.extend(this,u);function r(){switch(b.utils.getPluginPathType(v)){case b.utils.pluginPathType.ABSOLUTE:return v;case b.utils.pluginPathType.RELATIVE:return b.utils.getAbsolutePath(v,window.location.href);case b.utils.pluginPathType.CDN:var d=b.utils.getPluginName(v);var e=b.utils.getPluginVersion(v);var c=(window.location.href.indexOf("https://")==0)?s.replace("http://","https://secure"):s;return c+"/"+b.version.split(".")[0]+"/"+d+"/"+d+(e!==""?("-"+e):"")+".js"}}function p(c){a=setTimeout(function(){n=b.utils.loaderstatus.COMPLETE;u.sendEvent(b.events.COMPLETE)},1000)}function q(c){n=b.utils.loaderstatus.ERROR;u.sendEvent(b.events.ERROR)}this.load=function(){if(n==b.utils.loaderstatus.NEW){if(v.lastIndexOf(".swf")>0){m=v;n=b.utils.loaderstatus.COMPLETE;u.sendEvent(b.events.COMPLETE);return}n=b.utils.loaderstatus.LOADING;var c=new b.utils.scriptloader(r());c.addEventListener(b.events.COMPLETE,p);c.addEventListener(b.events.ERROR,q);c.load()}};this.registerPlugin=function(d,e,c){if(a){clearTimeout(a);a=undefined}if(e&&c){m=c;o=e}else{if(typeof e=="string"){m=e}else{if(typeof e=="function"){o=e}else{if(!e&&!c){m=d}}}}n=b.utils.loaderstatus.COMPLETE;u.sendEvent(b.events.COMPLETE)};this.getStatus=function(){return n};this.getPluginName=function(){return b.utils.getPluginName(v)};this.getFlashPath=function(){if(m){switch(b.utils.getPluginPathType(m)){case b.utils.pluginPathType.ABSOLUTE:return m;case b.utils.pluginPathType.RELATIVE:if(v.lastIndexOf(".swf")>0){return b.utils.getAbsolutePath(m,window.location.href)}return b.utils.getAbsolutePath(m,r());case b.utils.pluginPathType.CDN:if(m.indexOf("-")>-1){return m+"h"}return m+"-h"}}return null};this.getJS=function(){return o};this.getPluginmode=function(){if(typeof m!="undefined"&&typeof o!="undefined"){return b.plugins.pluginmodes.HYBRID}else{if(typeof m!="undefined"){return b.plugins.pluginmodes.FLASH}else{if(typeof o!="undefined"){return b.plugins.pluginmodes.JAVASCRIPT}}}};this.getNewInstance=function(e,c,d){return new o(e,c,d)};this.getURL=function(){return v}}})(jwplayer);(function(b){b.plugins.pluginloader=function(m,p){var n={};var a=b.utils.loaderstatus.NEW;var q=false;var s=false;var r=new b.events.eventdispatcher();b.utils.extend(this,r);function o(){if(!s){s=true;a=b.utils.loaderstatus.COMPLETE;r.sendEvent(b.events.COMPLETE)}}function l(){if(!s){var c=0;for(plugin in n){var d=n[plugin].getStatus();if(d==b.utils.loaderstatus.LOADING||d==b.utils.loaderstatus.NEW){c++}}if(c==0){o()}}}this.setupPlugins=function(k,d,e){var c={length:0,plugins:{}};var h={length:0,plugins:{}};for(var j in n){var g=n[j].getPluginName();if(n[j].getFlashPath()){c.plugins[n[j].getFlashPath()]=d.plugins[j];c.plugins[n[j].getFlashPath()].pluginmode=n[j].getPluginmode();c.length++}if(n[j].getJS()){var f=document.createElement("div");f.id=k.id+"_"+g;f.style.position="absolute";f.style.zIndex=h.length+10;h.plugins[g]=n[j].getNewInstance(k,d.plugins[j],f);h.length++;if(typeof h.plugins[g].resize!="undefined"){k.onReady(e(h.plugins[g],f,true));k.onResize(e(h.plugins[g],f))}}}k.plugins=h.plugins;return c};this.load=function(){a=b.utils.loaderstatus.LOADING;q=true;for(var c in p){if(b.utils.exists(c)){n[c]=m.addPlugin(c);n[c].addEventListener(b.events.COMPLETE,l);n[c].addEventListener(b.events.ERROR,l)}}for(c in n){n[c].load()}q=false;l()};this.pluginFailed=function(){o()};this.getStatus=function(){return a}}})(jwplayer);(function(c){var d=[];c.api=function(H){this.container=H;this.id=H.id;var z={};var J={};var u={};var I=[];var E=undefined;var B=false;var D=[];var a=undefined;var v=c.utils.getOuterHTML(H);var K={};var C={};this.getBuffer=function(){return this.callInternal("jwGetBuffer")};this.getContainer=function(){return this.container};function G(e,f){return function(h,j,g,l){if(e.renderingMode=="flash"||e.renderingMode=="html5"){var k;if(j){C[h]=j;k="jwplayer('"+e.id+"').callback('"+h+"')"}else{if(!j&&C[h]){delete C[h]}}E.jwDockSetButton(h,k,g,l)}return f}}this.getPlugin=function(g){var e=this;var f={};if(g=="dock"){return c.utils.extend(f,{setButton:G(e,f),show:function(){e.callInternal("jwDockShow");return f},hide:function(){e.callInternal("jwDockHide");return f},onShow:function(h){e.componentListener("dock",c.api.events.JWPLAYER_COMPONENT_SHOW,h);return f},onHide:function(h){e.componentListener("dock",c.api.events.JWPLAYER_COMPONENT_HIDE,h);return f}})}else{if(g=="controlbar"){return c.utils.extend(f,{show:function(){e.callInternal("jwControlbarShow");return f},hide:function(){e.callInternal("jwControlbarHide");return f},onShow:function(h){e.componentListener("controlbar",c.api.events.JWPLAYER_COMPONENT_SHOW,h);return f},onHide:function(h){e.componentListener("controlbar",c.api.events.JWPLAYER_COMPONENT_HIDE,h);return f}})}else{if(g=="display"){return c.utils.extend(f,{show:function(){e.callInternal("jwDisplayShow");return f},hide:function(){e.callInternal("jwDisplayHide");return f},onShow:function(h){e.componentListener("display",c.api.events.JWPLAYER_COMPONENT_SHOW,h);return f},onHide:function(h){e.componentListener("display",c.api.events.JWPLAYER_COMPONENT_HIDE,h);return f}})}else{return this.plugins[g]}}}};this.callback=function(e){if(C[e]){return C[e]()}};this.getDuration=function(){return this.callInternal("jwGetDuration")};this.getFullscreen=function(){return this.callInternal("jwGetFullscreen")};this.getHeight=function(){return this.callInternal("jwGetHeight")};this.getLockState=function(){return this.callInternal("jwGetLockState")};this.getMeta=function(){return this.getItemMeta()};this.getMute=function(){return this.callInternal("jwGetMute")};this.getPlaylist=function(){var e=this.callInternal("jwGetPlaylist");if(this.renderingMode=="flash"){c.utils.deepReplaceKeyName(e,["__dot__","__spc__","__dsh__"],["."," ","-"])}for(var f=0;f<e.length;f++){if(!c.utils.exists(e[f].index)){e[f].index=f}}return e};this.getPlaylistItem=function(e){if(!c.utils.exists(e)){e=this.getCurrentItem()}return this.getPlaylist()[e]};this.getPosition=function(){return this.callInternal("jwGetPosition")};this.getRenderingMode=function(){return this.renderingMode};this.getState=function(){return this.callInternal("jwGetState")};this.getVolume=function(){return this.callInternal("jwGetVolume")};this.getWidth=function(){return this.callInternal("jwGetWidth")};this.setFullscreen=function(e){if(!c.utils.exists(e)){this.callInternal("jwSetFullscreen",!this.callInternal("jwGetFullscreen"))}else{this.callInternal("jwSetFullscreen",e)}return this};this.setMute=function(e){if(!c.utils.exists(e)){this.callInternal("jwSetMute",!this.callInternal("jwGetMute"))}else{this.callInternal("jwSetMute",e)}return this};this.lock=function(){return this};this.unlock=function(){return this};this.load=function(e){this.callInternal("jwLoad",e);return this};this.playlistItem=function(e){this.callInternal("jwPlaylistItem",e);return this};this.playlistPrev=function(){this.callInternal("jwPlaylistPrev");return this};this.playlistNext=function(){this.callInternal("jwPlaylistNext");return this};this.resize=function(f,g){if(this.renderingMode=="html5"){E.jwResize(f,g)}else{this.container.width=f;this.container.height=g;var e=document.getElementById(this.id+"_wrapper");if(e){e.style.width=f+"px";e.style.height=g+"px"}}return this};this.play=function(e){if(typeof e=="undefined"){e=this.getState();if(e==c.api.events.state.PLAYING||e==c.api.events.state.BUFFERING){this.callInternal("jwPause")}else{this.callInternal("jwPlay")}}else{this.callInternal("jwPlay",e)}return this};this.pause=function(e){if(typeof e=="undefined"){e=this.getState();if(e==c.api.events.state.PLAYING||e==c.api.events.state.BUFFERING){this.callInternal("jwPause")}else{this.callInternal("jwPlay")}}else{this.callInternal("jwPause",e)}return this};this.stop=function(){this.callInternal("jwStop");return this};this.seek=function(e){this.callInternal("jwSeek",e);return this};this.setVolume=function(e){this.callInternal("jwSetVolume",e);return this};this.loadInstream=function(e,f){a=new c.api.instream(this,E,e,f);return a};this.onBufferChange=function(e){return this.eventListener(c.api.events.JWPLAYER_MEDIA_BUFFER,e)};this.onBufferFull=function(e){return this.eventListener(c.api.events.JWPLAYER_MEDIA_BUFFER_FULL,e)};this.onError=function(e){return this.eventListener(c.api.events.JWPLAYER_ERROR,e)};this.onFullscreen=function(e){return this.eventListener(c.api.events.JWPLAYER_FULLSCREEN,e)};this.onMeta=function(e){return this.eventListener(c.api.events.JWPLAYER_MEDIA_META,e)};this.onMute=function(e){return this.eventListener(c.api.events.JWPLAYER_MEDIA_MUTE,e)};this.onPlaylist=function(e){return this.eventListener(c.api.events.JWPLAYER_PLAYLIST_LOADED,e)};this.onPlaylistItem=function(e){return this.eventListener(c.api.events.JWPLAYER_PLAYLIST_ITEM,e)};this.onReady=function(e){return this.eventListener(c.api.events.API_READY,e)};this.onResize=function(e){return this.eventListener(c.api.events.JWPLAYER_RESIZE,e)};this.onComplete=function(e){return this.eventListener(c.api.events.JWPLAYER_MEDIA_COMPLETE,e)};this.onSeek=function(e){return this.eventListener(c.api.events.JWPLAYER_MEDIA_SEEK,e)};this.onTime=function(e){return this.eventListener(c.api.events.JWPLAYER_MEDIA_TIME,e)};this.onVolume=function(e){return this.eventListener(c.api.events.JWPLAYER_MEDIA_VOLUME,e)};this.onBeforePlay=function(e){return this.eventListener(c.api.events.JWPLAYER_MEDIA_BEFOREPLAY,e)};this.onBeforeComplete=function(e){return this.eventListener(c.api.events.JWPLAYER_MEDIA_BEFORECOMPLETE,e)};this.onBuffer=function(e){return this.stateListener(c.api.events.state.BUFFERING,e)};this.onPause=function(e){return this.stateListener(c.api.events.state.PAUSED,e)};this.onPlay=function(e){return this.stateListener(c.api.events.state.PLAYING,e)};this.onIdle=function(e){return this.stateListener(c.api.events.state.IDLE,e)};this.remove=function(){if(!B){throw"Cannot call remove() before player is ready";return}b(this)};function b(e){D=[];if(c.utils.getOuterHTML(e.container)!=v){c.api.destroyPlayer(e.id,v)}}this.setup=function(f){if(c.embed){var g=this.id;b(this);var e=c(g);e.config=f;return new c.embed(e)}return this};this.registerPlugin=function(e,f,g){c.plugins.registerPlugin(e,f,g)};this.setPlayer=function(f,e){E=f;this.renderingMode=e};this.stateListener=function(f,e){if(!J[f]){J[f]=[];this.eventListener(c.api.events.JWPLAYER_PLAYER_STATE,F(f))}J[f].push(e);return this};this.detachMedia=function(){if(this.renderingMode=="html5"){return this.callInternal("jwDetachMedia")}};this.attachMedia=function(){if(this.renderingMode=="html5"){return this.callInternal("jwAttachMedia")}};function F(e){return function(g){var h=g.newstate,k=g.oldstate;if(h==e){var f=J[h];if(f){for(var j=0;j<f.length;j++){if(typeof f[j]=="function"){f[j].call(this,{oldstate:k,newstate:h})}}}}}}this.componentListener=function(g,f,e){if(!u[g]){u[g]={}}if(!u[g][f]){u[g][f]=[];this.eventListener(f,A(g,f))}u[g][f].push(e);return this};function A(f,e){return function(g){if(f==g.component){var h=u[f][e];if(h){for(var j=0;j<h.length;j++){if(typeof h[j]=="function"){h[j].call(this,g)}}}}}}this.addInternalListener=function(g,f){try{g.jwAddEventListener(f,'function(dat) { jwplayer("'+this.id+'").dispatchEvent("'+f+'", dat); }')}catch(e){c.utils.log("Could not add internal listener")}};this.eventListener=function(f,e){if(!z[f]){z[f]=[];if(E&&B){this.addInternalListener(E,f)}}z[f].push(e);return this};this.dispatchEvent=function(e){if(z[e]){var f=_utils.translateEventResponse(e,arguments[1]);for(var g=0;g<z[e].length;g++){if(typeof z[e][g]=="function"){z[e][g].call(this,f)}}}};this.dispatchInstreamEvent=function(e){if(a){a.dispatchEvent(e,arguments)}};this.callInternal=function(){if(B){var e=arguments[0],g=[];for(var f=1;f<arguments.length;f++){g.push(arguments[f])}if(typeof E!="undefined"&&typeof E[e]=="function"){if(g.length==2){return(E[e])(g[0],g[1])}else{if(g.length==1){return(E[e])(g[0])}else{return(E[e])()}}}return null}else{D.push(arguments)}};this.playerReady=function(e){B=true;if(!E){this.setPlayer(document.getElementById(e.id))}this.container=document.getElementById(this.id);for(var f in z){this.addInternalListener(E,f)}this.eventListener(c.api.events.JWPLAYER_PLAYLIST_ITEM,function(g){K={}});this.eventListener(c.api.events.JWPLAYER_MEDIA_META,function(g){c.utils.extend(K,g.metadata)});this.dispatchEvent(c.api.events.API_READY);while(D.length>0){this.callInternal.apply(this,D.shift())}};this.getItemMeta=function(){return K};this.getCurrentItem=function(){return this.callInternal("jwGetPlaylistIndex")};function w(f,j,e){var h=[];if(!j){j=0}if(!e){e=f.length-1}for(var g=j;g<=e;g++){h.push(f[g])}return h}return this};c.api.selectPlayer=function(b){var f;if(!c.utils.exists(b)){b=0}if(b.nodeType){f=b}else{if(typeof b=="string"){f=document.getElementById(b)}}if(f){var a=c.api.playerById(f.id);if(a){return a}else{return c.api.addPlayer(new c.api(f))}}else{if(typeof b=="number"){return c.getPlayers()[b]}}return null};c.api.events={API_READY:"jwplayerAPIReady",JWPLAYER_READY:"jwplayerReady",JWPLAYER_FULLSCREEN:"jwplayerFullscreen",JWPLAYER_RESIZE:"jwplayerResize",JWPLAYER_ERROR:"jwplayerError",JWPLAYER_MEDIA_BEFOREPLAY:"jwplayerMediaBeforePlay",JWPLAYER_MEDIA_BEFORECOMPLETE:"jwplayerMediaBeforeComplete",JWPLAYER_COMPONENT_SHOW:"jwplayerComponentShow",JWPLAYER_COMPONENT_HIDE:"jwplayerComponentHide",JWPLAYER_MEDIA_BUFFER:"jwplayerMediaBuffer",JWPLAYER_MEDIA_BUFFER_FULL:"jwplayerMediaBufferFull",JWPLAYER_MEDIA_ERROR:"jwplayerMediaError",JWPLAYER_MEDIA_LOADED:"jwplayerMediaLoaded",JWPLAYER_MEDIA_COMPLETE:"jwplayerMediaComplete",JWPLAYER_MEDIA_SEEK:"jwplayerMediaSeek",JWPLAYER_MEDIA_TIME:"jwplayerMediaTime",JWPLAYER_MEDIA_VOLUME:"jwplayerMediaVolume",JWPLAYER_MEDIA_META:"jwplayerMediaMeta",JWPLAYER_MEDIA_MUTE:"jwplayerMediaMute",JWPLAYER_PLAYER_STATE:"jwplayerPlayerState",JWPLAYER_PLAYLIST_LOADED:"jwplayerPlaylistLoaded",JWPLAYER_PLAYLIST_ITEM:"jwplayerPlaylistItem",JWPLAYER_INSTREAM_CLICK:"jwplayerInstreamClicked",JWPLAYER_INSTREAM_DESTROYED:"jwplayerInstreamDestroyed"};c.api.events.state={BUFFERING:"BUFFERING",IDLE:"IDLE",PAUSED:"PAUSED",PLAYING:"PLAYING"};c.api.playerById=function(a){for(var b=0;b<d.length;b++){if(d[b].id==a){return d[b]}}return null};c.api.addPlayer=function(b){for(var a=0;a<d.length;a++){if(d[a]==b){return b}}d.push(b);return b};c.api.destroyPlayer=function(m,p){var n=-1;for(var a=0;a<d.length;a++){if(d[a].id==m){n=a;continue}}if(n>=0){try{d[n].callInternal("jwDestroy")}catch(b){}var q=document.getElementById(d[n].id);if(document.getElementById(d[n].id+"_wrapper")){q=document.getElementById(d[n].id+"_wrapper")}if(q){if(p){c.utils.setOuterHTML(q,p)}else{var e=document.createElement("div");var o=q.id;if(q.id.indexOf("_wrapper")==q.id.length-8){newID=q.id.substring(0,q.id.length-8)}e.setAttribute("id",o);q.parentNode.replaceChild(e,q)}}d.splice(n,1)}return null};c.getPlayers=function(){return d.slice(0)}})(jwplayer);var _userPlayerReady=(typeof playerReady=="function")?playerReady:undefined;playerReady=function(c){var d=jwplayer.api.playerById(c.id);if(d){d.playerReady(c)}else{jwplayer.api.selectPlayer(c.id).playerReady(c)}if(_userPlayerReady){_userPlayerReady.call(this,c)}};(function(b){b.api.instream=function(G,A,u,a){var B=G;var H=A;var C=u;var z=a;var E={};var r={};function D(){B.callInternal("jwLoadInstream",u,a)}function v(d,c){H.jwInstreamAddEventListener(c,'function(dat) { jwplayer("'+B.id+'").dispatchInstreamEvent("'+c+'", dat); }')}function F(d,c){if(!E[d]){E[d]=[];v(H,d)}E[d].push(c);return this}function s(d,c){if(!r[d]){r[d]=[];F(b.api.events.JWPLAYER_PLAYER_STATE,w(d))}r[d].push(c);return this}function w(c){return function(g){var h=g.newstate,e=g.oldstate;if(h==c){var f=r[h];if(f){for(var d=0;d<f.length;d++){if(typeof f[d]=="function"){f[d].call(this,{oldstate:e,newstate:h,type:g.type})}}}}}}this.dispatchEvent=function(c,d){if(E[c]){var e=_utils.translateEventResponse(c,d[1]);for(var f=0;f<E[c].length;f++){if(typeof E[c][f]=="function"){E[c][f].call(this,e)}}}};this.onError=function(c){return F(b.api.events.JWPLAYER_ERROR,c)};this.onFullscreen=function(c){return F(b.api.events.JWPLAYER_FULLSCREEN,c)};this.onMeta=function(c){return F(b.api.events.JWPLAYER_MEDIA_META,c)};this.onMute=function(c){return F(b.api.events.JWPLAYER_MEDIA_MUTE,c)};this.onComplete=function(c){return F(b.api.events.JWPLAYER_MEDIA_COMPLETE,c)};this.onSeek=function(c){return F(b.api.events.JWPLAYER_MEDIA_SEEK,c)};this.onTime=function(c){return F(b.api.events.JWPLAYER_MEDIA_TIME,c)};this.onVolume=function(c){return F(b.api.events.JWPLAYER_MEDIA_VOLUME,c)};this.onBuffer=function(c){return s(b.api.events.state.BUFFERING,c)};this.onPause=function(c){return s(b.api.events.state.PAUSED,c)};this.onPlay=function(c){return s(b.api.events.state.PLAYING,c)};this.onIdle=function(c){return s(b.api.events.state.IDLE,c)};this.onInstreamClick=function(c){return F(b.api.events.JWPLAYER_INSTREAM_CLICK,c)};this.onInstreamDestroyed=function(c){return F(b.api.events.JWPLAYER_INSTREAM_DESTROYED,c)};this.play=function(c){H.jwInstreamPlay(c)};this.pause=function(c){H.jwInstreamPause(c)};this.seek=function(c){H.jwInstreamSeek(c)};this.destroy=function(){H.jwInstreamDestroy()};this.getState=function(){return H.jwInstreamGetState()};this.getDuration=function(){return H.jwInstreamGetDuration()};this.getPosition=function(){return H.jwInstreamGetPosition()};D()}})(jwplayer);(function(e){var f=e.utils;e.embed=function(c){var a={width:400,height:300,components:{controlbar:{position:"over"}}};var l=f.mediaparser.parseMedia(c.container);var m=new e.embed.config(f.extend(a,l,c.config),this);var b=e.plugins.loadPlugins(c.id,m.plugins);function o(j,g){for(var h in g){if(typeof j[h]=="function"){(j[h]).call(j,g[h])}}}function n(){if(b.getStatus()==f.loaderstatus.COMPLETE){for(var u=0;u<m.modes.length;u++){if(m.modes[u].type&&e.embed[m.modes[u].type]){var j=m.modes[u].config;var z=m;if(j){z=f.extend(f.clone(m),j);var A=["file","levels","playlist"];for(var v=0;v<A.length;v++){var h=A[v];if(f.exists(j[h])){for(var w=0;w<A.length;w++){if(w!=v){var k=A[w];if(f.exists(z[k])&&!f.exists(j[k])){delete z[k]}}}}}}var g=new e.embed[m.modes[u].type](document.getElementById(c.id),m.modes[u],z,b,c);if(g.supportsConfig()){g.embed();o(c,m.events);return c}}}f.log("No suitable players found");new e.embed.logo(f.extend({hide:true},m.components.logo),"none",c.id)}}b.addEventListener(e.events.COMPLETE,n);b.addEventListener(e.events.ERROR,n);b.load();return c};function d(){if(!document.body){return setTimeout(d,15)}var c=f.selectors.getElementsByTagAndClass("video","jwplayer");for(var b=0;b<c.length;b++){var a=c[b];if(a.id==""){a.id="jwplayer_"+Math.round(Math.random()*100000)}e(a.id).setup({})}}d()})(jwplayer);(function(q){var l=q.utils;function n(a){var b=[{type:"flash",src:a?a:"/jwplayer/player.swf"},{type:"html5"},{type:"download"}];if(l.isAndroid()){b[0]=b.splice(1,1,b[0])[0]}return b}var v={players:"modes",autoplay:"autostart"};function u(c){var d=c.toLowerCase();var a=["left","right","top","bottom"];for(var b=0;b<a.length;b++){if(d==a[b]){return true}}return false}function s(a){var b=false;b=(a instanceof Array)||(typeof a=="object"&&!a.position&&!a.size);return b}function m(a){if(typeof a=="string"){if(parseInt(a).toString()==a||a.toLowerCase().indexOf("px")>-1){return parseInt(a)}}return a}var o=["playlist","dock","controlbar","logo","display"];function p(b){var d={};switch(l.typeOf(b.plugins)){case"object":for(var e in b.plugins){d[l.getPluginName(e)]=e}break;case"string":var c=b.plugins.split(",");for(var a=0;a<c.length;a++){d[l.getPluginName(c[a])]=c[a]}break}return d}function r(d,e,f,b){if(l.typeOf(d[e])!="object"){d[e]={}}var a=d[e][f];if(l.typeOf(a)!="object"){d[e][f]=a={}}if(b){if(e=="plugins"){var c=l.getPluginName(f);a[b]=d[c+"."+b];delete d[c+"."+b]}else{a[b]=d[f+"."+b];delete d[f+"."+b]}}}q.embed.deserialize=function(a){var f=p(a);for(var b in f){r(a,"plugins",f[b])}for(var c in a){if(c.indexOf(".")>-1){var d=c.split(".");var e=d[0];var c=d[1];if(l.isInArray(o,e)){r(a,"components",e,c)}else{if(f[e]){r(a,"plugins",f[e],c)}}}}return a};q.embed.config=function(g,h){var j=l.extend({},g);var w;if(s(j.playlist)){w=j.playlist;delete j.playlist}j=q.embed.deserialize(j);j.height=m(j.height);j.width=m(j.width);if(typeof j.plugins=="string"){var f=j.plugins.split(",");if(typeof j.plugins!="object"){j.plugins={}}for(var b=0;b<f.length;b++){var a=l.getPluginName(f[b]);if(typeof j[a]=="object"){j.plugins[f[b]]=j[a];delete j[a]}else{j.plugins[f[b]]={}}}}for(var k=0;k<o.length;k++){var c=o[k];if(l.exists(j[c])){if(typeof j[c]!="object"){if(!j.components[c]){j.components[c]={}}if(c=="logo"){j.components[c].file=j[c]}else{j.components[c].position=j[c]}delete j[c]}else{if(!j.components[c]){j.components[c]={}}l.extend(j.components[c],j[c]);delete j[c]}}if(typeof j[c+"size"]!="undefined"){if(!j.components[c]){j.components[c]={}}j.components[c].size=j[c+"size"];delete j[c+"size"]}}if(typeof j.icons!="undefined"){if(!j.components.display){j.components.display={}}j.components.display.icons=j.icons;delete j.icons}for(var d in v){if(j[d]){if(!j[v[d]]){j[v[d]]=j[d]}delete j[d]}}var e;if(j.flashplayer&&!j.modes){e=n(j.flashplayer);delete j.flashplayer}else{if(j.modes){if(typeof j.modes=="string"){e=n(j.modes)}else{if(j.modes instanceof Array){e=j.modes}else{if(typeof j.modes=="object"&&j.modes.type){e=[j.modes]}}}delete j.modes}else{e=n()}}j.modes=e;if(w){j.playlist=w}return j}})(jwplayer);(function(b){b.embed.download=function(m,h,a,l,j){this.embed=function(){var z=b.utils.extend({},a);var d={};var A=a.width?a.width:480;if(typeof A!="number"){A=parseInt(A,10)}var v=a.height?a.height:320;if(typeof v!="number"){v=parseInt(v,10)}var C,f,g;var E={};if(a.playlist&&a.playlist.length){E.file=a.playlist[0].file;f=a.playlist[0].image;E.levels=a.playlist[0].levels}else{E.file=a.file;f=a.image;E.levels=a.levels}if(E.file){C=E.file}else{if(E.levels&&E.levels.length){C=E.levels[0].file}}g=C?"pointer":"auto";var w={display:{style:{cursor:g,width:A,height:v,backgroundColor:"#000",position:"relative",textDecoration:"none",border:"none",display:"block"}},display_icon:{style:{cursor:g,position:"absolute",display:C?"block":"none",top:0,left:0,border:0,margin:0,padding:0,zIndex:3,width:50,height:50,backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAALdJREFUeNrs18ENgjAYhmFouDOCcQJGcARHgE10BDcgTOIosAGwQOuPwaQeuFRi2p/3Sb6EC5L3QCxZBgAAAOCorLW1zMn65TrlkH4NcV7QNcUQt7Gn7KIhxA+qNIR81spOGkL8oFJDyLJRdosqKDDkK+iX5+d7huzwM40xptMQMkjIOeRGo+VkEVvIPfTGIpKASfYIfT9iCHkHrBEzf4gcUQ56aEzuGK/mw0rHpy4AAACAf3kJMACBxjAQNRckhwAAAABJRU5ErkJggg==)"}},display_iconBackground:{style:{cursor:g,position:"absolute",display:C?"block":"none",top:((v-50)/2),left:((A-50)/2),border:0,width:50,height:50,margin:0,padding:0,zIndex:2,backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAEpJREFUeNrszwENADAIA7DhX8ENoBMZ5KR10EryckCJiIiIiIiIiIiIiIiIiIiIiIh8GmkRERERERERERERERERERERERGRHSPAAPlXH1phYpYaAAAAAElFTkSuQmCC)"}},display_image:{style:{width:A,height:v,display:f?"block":"none",position:"absolute",cursor:g,left:0,top:0,margin:0,padding:0,textDecoration:"none",zIndex:1,border:"none"}}};var B=function(p,n,q){var o=document.createElement(p);if(q){o.id=q}else{o.id=m.id+"_jwplayer_"+n}b.utils.css(o,w[n].style);return o};d.display=B("a","display",m.id);if(C){d.display.setAttribute("href",b.utils.getAbsolutePath(C))}d.display_image=B("img","display_image");d.display_image.setAttribute("alt","Click to download...");if(f){d.display_image.setAttribute("src",b.utils.getAbsolutePath(f))}if(true){d.display_icon=B("div","display_icon");d.display_iconBackground=B("div","display_iconBackground");d.display.appendChild(d.display_image);d.display_iconBackground.appendChild(d.display_icon);d.display.appendChild(d.display_iconBackground)}_css=b.utils.css;_hide=function(n){_css(n,{display:"none"})};function c(n){_imageWidth=d.display_image.naturalWidth;_imageHeight=d.display_image.naturalHeight;D()}function D(){b.utils.stretch(b.utils.stretching.UNIFORM,d.display_image,A,v,_imageWidth,_imageHeight)}d.display_image.onerror=function(n){_hide(d.display_image)};d.display_image.onload=c;m.parentNode.replaceChild(d.display,m);var e=(a.plugins&&a.plugins.logo)?a.plugins.logo:{};d.display.appendChild(new b.embed.logo(a.components.logo,"download",m.id));j.container=document.getElementById(j.id);j.setPlayer(d.display,"download")};this.supportsConfig=function(){if(a){var c=b.utils.getFirstPlaylistItemFromConfig(a);if(typeof c.file=="undefined"&&typeof c.levels=="undefined"){return true}else{if(c.file){return k(c.file,c.provider,c.playlistfile)}else{if(c.levels&&c.levels.length){for(var d=0;d<c.levels.length;d++){if(c.levels[d].file&&k(c.levels[d].file,c.provider,c.playlistfile)){return true}}}}}}else{return true}};function k(f,d,g){if(g){return false}var e=["image","sound","youtube","http"];if(d&&(e.toString().indexOf(d)>-1)){return true}if(!d||(d&&d=="video")){var c=b.utils.extension(f);if(c&&b.utils.extensionmap[c]){return true}}return false}}})(jwplayer);(function(b){b.embed.flash=function(s,r,n,u,p){function a(e,f,d){var c=document.createElement("param");c.setAttribute("name",f);c.setAttribute("value",d);e.appendChild(c)}function o(d,c,e){return function(h){if(e){document.getElementById(p.id+"_wrapper").appendChild(c)}var f=document.getElementById(p.id).getPluginConfig("display");d.resize(f.width,f.height);var g={left:f.x,top:f.y};b.utils.css(c,g)}}function v(e){if(!e){return{}}var c={};for(var f in e){var g=e[f];for(var d in g){c[f+"."+d]=g[d]}}return c}function q(e,f){if(e[f]){var c=e[f];for(var g in c){var h=c[g];if(typeof h=="string"){if(!e[g]){e[g]=h}}else{for(var d in h){if(!e[g+"."+d]){e[g+"."+d]=h[d]}}}}delete e[f]}}function z(f){if(!f){return{}}var c={},d=[];for(var j in f){var g=b.utils.getPluginName(j);var h=f[j];d.push(j);for(var e in h){c[g+"."+e]=h[e]}}c.plugins=d.join(",");return c}function w(c){var e=c.netstreambasepath?"":"netstreambasepath="+encodeURIComponent(window.location.href.split("#")[0])+"&";for(var d in c){if(typeof(c[d])=="object"){e+=d+"="+encodeURIComponent("[[JSON]]"+b.utils.strings.jsonToString(c[d]))+"&"}else{e+=d+"="+encodeURIComponent(c[d])+"&"}}return e.substring(0,e.length-1)}this.embed=function(){n.id=p.id;var g;var c=b.utils.extend({},n);var f=c.width;var k=c.height;if(s.id+"_wrapper"==s.parentNode.id){g=document.getElementById(s.id+"_wrapper")}else{g=document.createElement("div");g.id=s.id+"_wrapper";b.utils.wrap(s,g);b.utils.css(g,{position:"relative",width:f,height:k})}var e=u.setupPlugins(p,c,o);if(e.length>0){b.utils.extend(c,z(e.plugins))}else{delete c.plugins}var E=["height","width","modes","events"];for(var B=0;B<E.length;B++){delete c[E[B]]}var d="opaque";if(c.wmode){d=c.wmode}q(c,"components");q(c,"providers");if(typeof c["dock.position"]!="undefined"){if(c["dock.position"].toString().toLowerCase()=="false"){c.dock=c["dock.position"];delete c["dock.position"]}}var l=b.utils.getCookies();for(var h in l){if(typeof(c[h])=="undefined"){c[h]=l[h]}}var j="#000000";var C;if(b.utils.isIE()){var m='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" bgcolor="'+j+'" width="100%" height="100%" id="'+s.id+'" name="'+s.id+'" tabindex=0"">';m+='<param name="movie" value="'+r.src+'">';m+='<param name="allowfullscreen" value="true">';m+='<param name="allowscriptaccess" value="always">';m+='<param name="seamlesstabbing" value="true">';m+='<param name="wmode" value="'+d+'">';m+='<param name="flashvars" value="'+w(c)+'">';m+="</object>";b.utils.setOuterHTML(s,m);C=document.getElementById(s.id)}else{var D=document.createElement("object");D.setAttribute("type","application/x-shockwave-flash");D.setAttribute("data",r.src);D.setAttribute("width","100%");D.setAttribute("height","100%");D.setAttribute("bgcolor","#000000");D.setAttribute("id",s.id);D.setAttribute("name",s.id);D.setAttribute("tabindex",0);a(D,"allowfullscreen","true");a(D,"allowscriptaccess","always");a(D,"seamlesstabbing","true");a(D,"wmode",d);a(D,"flashvars",w(c));s.parentNode.replaceChild(D,s);C=D}p.container=C;p.setPlayer(C,"flash")};this.supportsConfig=function(){if(b.utils.hasFlash()){if(n){var c=b.utils.getFirstPlaylistItemFromConfig(n);if(typeof c.file=="undefined"&&typeof c.levels=="undefined"){return true}else{if(c.file){return flashCanPlay(c.file,c.provider)}else{if(c.levels&&c.levels.length){for(var d=0;d<c.levels.length;d++){if(c.levels[d].file&&flashCanPlay(c.levels[d].file,c.provider)){return true}}}}}}else{return true}}return false};flashCanPlay=function(f,d){var e=["video","http","sound","image"];if(d&&(e.toString().indexOf(d)<0)){return true}var c=b.utils.extension(f);if(!c){return true}if(b.utils.exists(b.utils.extensionmap[c])&&!b.utils.exists(b.utils.extensionmap[c].flash)){return false}return true}}})(jwplayer);(function(b){b.embed.html5=function(m,h,a,l,j){function k(d,c,e){return function(g){var f=document.getElementById(m.id+"_displayarea");if(e){f.appendChild(c)}d.resize(f.clientWidth,f.clientHeight);c.left=f.style.left;c.top=f.style.top}}this.embed=function(){if(b.html5){l.setupPlugins(j,a,k);m.innerHTML="";var e=b.utils.extend({screencolor:"0x000000"},a);var f=["plugins","modes","events"];for(var d=0;d<f.length;d++){delete e[f[d]]}if(e.levels&&!e.sources){e.sources=a.levels}if(e.skin&&e.skin.toLowerCase().indexOf(".zip")>0){e.skin=e.skin.replace(/\.zip/i,".xml")}var c=new (b.html5(m)).setup(e);j.container=document.getElementById(j.id);j.setPlayer(c,"html5")}else{return null}};this.supportsConfig=function(){if(!!b.vid.canPlayType){if(a){var c=b.utils.getFirstPlaylistItemFromConfig(a);if(typeof c.file=="undefined"&&typeof c.levels=="undefined"){return true}else{if(c.file){return html5CanPlay(b.vid,c.file,c.provider,c.playlistfile)}else{if(c.levels&&c.levels.length){for(var d=0;d<c.levels.length;d++){if(c.levels[d].file&&html5CanPlay(b.vid,c.levels[d].file,c.provider,c.playlistfile)){return true}}}}}}else{return true}}return false};html5CanPlay=function(e,f,d,g){if(g){return false}if(d&&d=="youtube"){return true}if(d&&d!="video"&&d!="http"&&d!="sound"){return false}if(navigator.userAgent.match(/BlackBerry/i)!==null){return false}var c=b.utils.extension(f);if(!b.utils.exists(c)||!b.utils.exists(b.utils.extensionmap[c])){return true}if(!b.utils.exists(b.utils.extensionmap[c].html5)){return false}if(b.utils.isLegacyAndroid()&&c.match(/m4v|mp4/)){return true}return browserCanPlay(e,b.utils.extensionmap[c].html5)};browserCanPlay=function(c,d){if(!d){return true}if(c.canPlayType(d)){return true}else{if(d=="audio/mp3"&&navigator.userAgent.match(/safari/i)){return c.canPlayType("audio/mpeg")}else{return false}}}}})(jwplayer);(function(b){b.embed.logo=function(s,u,D){var w={prefix:"http://l.longtailvideo.com/"+u+"/",file:"",link:"",linktarget:"_top",margin:8,out:0.5,over:1,timeout:5,hide:false,position:"bottom-left"};_css=b.utils.css;var F;var z;v();function v(){q();E();B()}function q(){if(w.prefix){var c=b.version.split(/\W/).splice(0,2).join("/");if(w.prefix.indexOf(c)<0){w.prefix+=c+"/"}}z=b.utils.extend({},w,s)}function a(){var c={border:"none",textDecoration:"none",position:"absolute",cursor:"pointer",zIndex:10};c.display=z.hide?"none":"block";var d=z.position.toLowerCase().split("-");for(var e in d){c[d[e]]=z.margin}return c}function E(){F=document.createElement("img");F.id=D+"_jwplayer_logo";F.style.display="none";F.onload=function(c){_css(F,a());C()};if(!z.file){return}if(z.file.indexOf("http://")===0){F.src=z.file}else{F.src=z.prefix+z.file}}if(!z.file){return}function B(){if(z.link){F.onmouseover=A;F.onmouseout=C;F.onclick=r}else{this.mouseEnabled=false}}function r(c){if(typeof c!="undefined"){c.preventDefault();c.stopPropagation()}if(z.link){window.open(z.link,z.linktarget)}return}function C(c){if(z.link){F.style.opacity=z.out}return}function A(c){if(z.hide){F.style.opacity=z.over}return}return F}})(jwplayer);(function(b){b.html5=function(a){var d=a;this.setup=function(c){b.utils.extend(this,new b.html5.api(d,c));return this};return this}})(jwplayer);(function(f){var g=f.utils;var e=g.css;var h=g.isIOS();f.html5.view=function(ax,ac,aC){var ay=ax;var al=ac;var aB=aC;var c;var aD;var aq;var aw;var ae;var U;var V;var af=false;var am=false;var aj,W;var aE,b,ap;function Y(){c=document.createElement("div");c.id=al.id;c.className=al.className;_videowrapper=document.createElement("div");_videowrapper.id=c.id+"_video_wrapper";al.id=c.id+"_video";e(c,{position:"relative",height:aB.height,width:aB.width,padding:0,backgroundColor:j(),zIndex:0});function j(){if(ay.skin.getComponentSettings("display")&&ay.skin.getComponentSettings("display").backgroundcolor){return ay.skin.getComponentSettings("display").backgroundcolor}return parseInt("000000",16)}e(al,{width:"100%",height:"100%",top:0,left:0,zIndex:1,margin:"auto",display:"block"});e(_videowrapper,{overflow:"hidden",position:"absolute",top:0,left:0,bottom:0,right:0});g.wrap(al,c);g.wrap(al,_videowrapper);aw=document.createElement("div");aw.id=c.id+"_displayarea";c.appendChild(aw);_instreamArea=document.createElement("div");_instreamArea.id=c.id+"_instreamarea";e(_instreamArea,{overflow:"hidden",position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:100,background:"000000",display:"none"});c.appendChild(_instreamArea)}function Z(){for(var k=0;k<aB.plugins.order.length;k++){var j=aB.plugins.order[k];if(g.exists(aB.plugins.object[j].getDisplayElement)){aB.plugins.object[j].height=g.parseDimension(aB.plugins.object[j].getDisplayElement().style.height);aB.plugins.object[j].width=g.parseDimension(aB.plugins.object[j].getDisplayElement().style.width);aB.plugins.config[j].currentPosition=aB.plugins.config[j].position}}ao()}function ar(j){am=aB.fullscreen}function av(j){if(b){return}switch(j.newstate){case f.api.events.state.PLAYING:if(aB.getMedia()&&aB.getMedia().hasChrome()){aw.style.display="none"}break;default:aw.style.display="block";break}az()}function ao(k){var m=aB.getMedia()?aB.getMedia().getDisplayElement():null;if(g.exists(m)){if(V!=m){if(V&&V.parentNode){V.parentNode.replaceChild(m,V)}V=m}for(var l=0;l<aB.plugins.order.length;l++){var j=aB.plugins.order[l];if(g.exists(aB.plugins.object[j].getDisplayElement)){aB.plugins.config[j].currentPosition=aB.plugins.config[j].position}}}ad(aB.width,aB.height)}this.setup=function(){if(aB&&aB.getMedia()){al=aB.getMedia().getDisplayElement()}Y();Z();ay.jwAddEventListener(f.api.events.JWPLAYER_PLAYER_STATE,av);ay.jwAddEventListener(f.api.events.JWPLAYER_MEDIA_LOADED,ao);ay.jwAddEventListener(f.api.events.JWPLAYER_MEDIA_BEFOREPLAY,ar);ay.jwAddEventListener(f.api.events.JWPLAYER_MEDIA_META,function(k){az()});var j;if(g.exists(window.onresize)){j=window.onresize}window.onresize=function(l){if(g.exists(j)){try{j(l)}catch(m){}}if(ay.jwGetFullscreen()){if(!ai()){var k=g.getBoundingClientRect(document.body);aB.width=Math.abs(k.left)+Math.abs(k.right);aB.height=window.innerHeight;ad(aB.width,aB.height)}}else{ad(aB.width,aB.height)}}};function X(j){switch(j.keyCode){case 27:if(ay.jwGetFullscreen()){ay.jwSetFullscreen(false)}break;case 32:if(ay.jwGetState()!=f.api.events.state.IDLE&&ay.jwGetState()!=f.api.events.state.PAUSED){ay.jwPause()}else{ay.jwPlay()}break}}function ad(p,r){if(c.style.display=="none"){return}var m=[].concat(aB.plugins.order);m.reverse();ae=m.length+2;if(am&&ai()){try{if(aB.fullscreen&&!aB.getMedia().getDisplayElement().webkitDisplayingFullscreen){aB.fullscreen=false}}catch(j){}}if(!aB.fullscreen){aD=p;aq=r;if(typeof p=="string"&&p.indexOf("%")>0){aD=g.getElementWidth(g.parentNode(c))*parseInt(p.replace("%"),"")/100}else{aD=p}if(typeof r=="string"&&r.indexOf("%")>0){aq=g.getElementHeight(g.parentNode(c))*parseInt(r.replace("%"),"")/100}else{aq=r}var l={top:0,bottom:0,left:0,right:0,width:aD,height:aq,position:"absolute"};e(aw,l);var q={};var u;try{u=aB.plugins.object.display.getDisplayElement()}catch(j){}if(u){q.width=g.parseDimension(u.style.width);q.height=g.parseDimension(u.style.height)}var s=g.extend({},l,q,{zIndex:_instreamArea.style.zIndex,display:_instreamArea.style.display});e(_instreamArea,s);e(c,{height:aq,width:aD});var k=an(ab,m);if(k.length>0){ae+=k.length;var n=k.indexOf("playlist"),o=k.indexOf("controlbar");if(n>=0&&o>=0){k[n]=k.splice(o,1,k[n])[0]}an(au,k,true)}aj=g.getElementWidth(aw);W=g.getElementHeight(aw)}else{if(!ai()&&!h){an(aF,m,true)}}az()}var at;function an(r,m,l){at=0;var k=[];for(var n=0;n<m.length;n++){var j=m[n];if(g.exists(aB.plugins.object[j].getDisplayElement)){if(aB.plugins.config[j].currentPosition!=f.html5.view.positions.NONE){var p=r(j,ae--);if(!p){k.push(j)}else{var o=p.width;var q=p.height;if(l){delete p.width;delete p.height}e(aB.plugins.object[j].getDisplayElement(),p);aB.plugins.object[j].resize(o,q)}}else{e(aB.plugins.object[j].getDisplayElement(),{display:"none"})}}}return k}function ab(k,j){if(g.exists(aB.plugins.object[k].getDisplayElement)){if(aB.plugins.config[k].position&&a(aB.plugins.config[k].position)){if(!g.exists(aB.plugins.object[k].getDisplayElement().parentNode)){c.appendChild(aB.plugins.object[k].getDisplayElement())}var l=ak(k);l.zIndex=j;return l}}return false}function au(k,j){if(!g.exists(aB.plugins.object[k].getDisplayElement().parentNode)){aw.appendChild(aB.plugins.object[k].getDisplayElement())}return{position:"absolute",width:(g.getElementWidth(aw)-g.parseDimension(aw.style.right)),height:(g.getElementHeight(aw)-g.parseDimension(aw.style.bottom)),zIndex:j}}function aF(k,j){return{position:"fixed",width:aB.width,height:aB.height,zIndex:j}}var az=this.resizeMedia=function(){aw.style.position="absolute";var j=aB.getMedia()?aB.getMedia().getDisplayElement():ap;if(!j){return}if(j&&j.tagName.toLowerCase()=="video"){if(!j.videoWidth||!j.videoHeight){j.style.width=aw.style.width;j.style.height=aw.style.height;return}j.style.position="absolute";g.fadeTo(j,1,0.25);if(j.parentNode){j.parentNode.style.left=aw.style.left;j.parentNode.style.top=aw.style.top}if(aB.fullscreen&&ay.jwGetStretching()==f.utils.stretching.EXACTFIT&&!g.isMobile()){var l=document.createElement("div");g.stretch(f.utils.stretching.UNIFORM,l,g.getElementWidth(aw),g.getElementHeight(aw),aj,W);g.stretch(f.utils.stretching.EXACTFIT,j,g.parseDimension(l.style.width),g.parseDimension(l.style.height),j.videoWidth?j.videoWidth:400,j.videoHeight?j.videoHeight:300);e(j,{left:l.style.left,top:l.style.top})}else{if(!h){g.stretch(ay.jwGetStretching(),j,g.getElementWidth(aw),g.getElementHeight(aw),j.videoWidth?j.videoWidth:400,j.videoHeight?j.videoHeight:300)}}}else{var k=aB.plugins.object.display.getDisplayElement();if(k){aB.getMedia().resize(g.parseDimension(k.style.width),g.parseDimension(k.style.height))}else{aB.getMedia().resize(g.parseDimension(aw.style.width),g.parseDimension(aw.style.height))}}};var ak=this.getComponentPosition=function(k){var j={position:"absolute",margin:0,padding:0,top:null};var l=aB.plugins.config[k].currentPosition.toLowerCase();switch(l.toUpperCase()){case f.html5.view.positions.TOP:j.top=g.parseDimension(aw.style.top);j.left=g.parseDimension(aw.style.left);j.width=g.getElementWidth(aw)-g.parseDimension(aw.style.left)-g.parseDimension(aw.style.right);j.height=aB.plugins.object[k].height;aw.style[l]=g.parseDimension(aw.style[l])+aB.plugins.object[k].height+"px";aw.style.height=g.getElementHeight(aw)-j.height+"px";break;case f.html5.view.positions.RIGHT:j.top=g.parseDimension(aw.style.top);j.right=g.parseDimension(aw.style.right);j.width=aB.plugins.object[k].width;j.height=g.getElementHeight(aw)-g.parseDimension(aw.style.top)-g.parseDimension(aw.style.bottom);aw.style.width=g.getElementWidth(aw)-j.width+"px";break;case f.html5.view.positions.BOTTOM:j.left=g.parseDimension(aw.style.left);j.width=g.getElementWidth(aw)-g.parseDimension(aw.style.left)-g.parseDimension(aw.style.right);j.height=aB.plugins.object[k].height;j.bottom=g.parseDimension(aw.style.bottom+at);at+=j.height;aw.style.height=g.getElementHeight(aw)-j.height+"px";break;case f.html5.view.positions.LEFT:j.top=g.parseDimension(aw.style.top);j.left=g.parseDimension(aw.style.left);j.width=aB.plugins.object[k].width;j.height=g.getElementHeight(aw)-g.parseDimension(aw.style.top)-g.parseDimension(aw.style.bottom);aw.style[l]=g.parseDimension(aw.style[l])+aB.plugins.object[k].width+"px";aw.style.width=g.getElementWidth(aw)-j.width+"px";break;default:break}return j};this.resize=ad;var aa,aA,d;var ah=this.fullscreen=function(j){if(h){return}var o;try{o=aB.getMedia().getDisplayElement()}catch(p){}if(j){aA=aB.width;d=aB.height}var n={position:"fixed",width:"100%",height:"100%",top:0,left:0,zIndex:2147483000},m={position:"relative",height:aA,width:d,zIndex:0};if(ai()&&o&&o.webkitSupportsFullscreen){if(j&&!o.webkitDisplayingFullscreen){try{e(o,n);g.transform(o);aa=aw.style.display;aw.style.display="none";o.webkitEnterFullscreen()}catch(k){}}else{if(!j){e(o,m);az();if(o.webkitDisplayingFullscreen){try{o.webkitExitFullscreen()}catch(k){}}aw.style.display=aa}}af=false}else{if(j){document.onkeydown=X;clearInterval(U);var l=g.getBoundingClientRect(document.body);aB.width=Math.abs(l.left)+Math.abs(l.right);aB.height=window.innerHeight;e(c,n);n.zIndex=1;if(aB.getMedia()&&aB.getMedia().getDisplayElement()){e(aB.getMedia().getDisplayElement(),n)}n.zIndex=2;e(aw,n);af=true}else{document.onkeydown="";aB.width=aD;aB.height=aq;e(c,m);af=false}ad(aB.width,aB.height)}};function a(j){return([f.html5.view.positions.TOP,f.html5.view.positions.RIGHT,f.html5.view.positions.BOTTOM,f.html5.view.positions.LEFT].toString().indexOf(j.toUpperCase())>-1)}function ai(){if(ay.jwGetState()!=f.api.events.state.IDLE&&!af&&(aB.getMedia()&&aB.getMedia().getDisplayElement()&&aB.getMedia().getDisplayElement().webkitSupportsFullscreen)&&g.useNativeFullscreen()){return true}return false}this.setupInstream=function(k,j){g.css(_instreamArea,{display:"block",position:"absolute"});aw.style.display="none";_instreamArea.appendChild(k);ap=j;b=true};var ag=this.destroyInstream=function(){_instreamArea.style.display="none";_instreamArea.innerHTML="";aw.style.display="block";ap=null;b=false;ad(aB.width,aB.height)}};f.html5.view.positions={TOP:"TOP",RIGHT:"RIGHT",BOTTOM:"BOTTOM",LEFT:"LEFT",OVER:"OVER",NONE:"NONE"}})(jwplayer);(function(d){var c={backgroundcolor:"",margin:10,font:"Arial,sans-serif",fontsize:10,fontcolor:parseInt("000000",16),fontstyle:"normal",fontweight:"bold",buttoncolor:parseInt("ffffff",16),position:d.html5.view.positions.BOTTOM,idlehide:false,hideplaylistcontrols:false,forcenextprev:false,layout:{left:{position:"left",elements:[{name:"play",type:"button"},{name:"divider",type:"divider"},{name:"prev",type:"button"},{name:"divider",type:"divider"},{name:"next",type:"button"},{name:"divider",type:"divider"},{name:"elapsed",type:"text"}]},center:{position:"center",elements:[{name:"time",type:"slider"}]},right:{position:"right",elements:[{name:"duration",type:"text"},{name:"blank",type:"button"},{name:"divider",type:"divider"},{name:"mute",type:"button"},{name:"volume",type:"slider"},{name:"divider",type:"divider"},{name:"fullscreen",type:"button"}]}}};_utils=d.utils;_css=_utils.css;_hide=function(a){_css(a,{display:"none"})};_show=function(a){_css(a,{display:"block"})};d.html5.controlbar=function(bc,b){window.controlbar=this;var bd=bc;var aR=_utils.extend({},c,bd.skin.getComponentSettings("controlbar"),b);if(aR.position==d.html5.view.positions.NONE||typeof d.html5.view.positions[aR.position]=="undefined"){return}if(_utils.mapLength(bd.skin.getComponentLayout("controlbar"))>0){aR.layout=bd.skin.getComponentLayout("controlbar")}var aN;var au;var aO;var aP;var a2="none";var bg;var be;var aK;var bh;var bi;var aZ;var at={};var a8=false;var bl={};var av=-1;var aV;var bf=false;var a9;var bk;var ap=false;var aL=false;var aJ;var aY=new d.html5.eventdispatcher();_utils.extend(this,aY);function aD(){if(!aV){aV=bd.skin.getSkinElement("controlbar","background");if(!aV){aV={width:0,height:0,src:null}}}return aV}function ax(){aO=0;aP=0;au=0;if(!a8){var e={height:aD().height,backgroundColor:aR.backgroundcolor};aN=document.createElement("div");aN.id=bd.id+"_jwplayer_controlbar";_css(aN,e)}var f=(bd.skin.getSkinElement("controlbar","capLeft"));var g=(bd.skin.getSkinElement("controlbar","capRight"));if(f){a0("capLeft","left",false,aN)}aT("background",aN,{position:"absolute",height:aD().height,left:(f?f.width:0),zIndex:0},"img");if(aD().src){at.background.src=aD().src}aT("elements",aN,{position:"relative",height:aD().height,zIndex:1});if(g){a0("capRight","right",false,aN)}}this.getDisplayElement=function(){return aN};this.resize=function(e,g){ar();_utils.cancelAnimation(aN);bi=e;aZ=g;if(aL!=bd.jwGetFullscreen()){aL=bd.jwGetFullscreen();if(!aL){a()}bk=undefined}var f=a1();aE({id:bd.id,duration:aK,position:be});a3({id:bd.id,bufferPercent:bh});return f};this.show=function(){if(bf){bf=false;_show(aN);ao()}};this.hide=function(){if(!bf){bf=true;_hide(aN);aQ()}};function a7(){var f=["timeSlider","volumeSlider","timeSliderRail","volumeSliderRail"];for(var e in f){var g=f[e];if(typeof at[g]!="undefined"){bl[g]=_utils.getBoundingClientRect(at[g])}}}var bj;function a(e){if(bf){return}clearTimeout(a9);if(aR.position==d.html5.view.positions.OVER||bd.jwGetFullscreen()){switch(bd.jwGetState()){case d.api.events.state.PAUSED:case d.api.events.state.IDLE:if(aN&&aN.style.opacity<1&&(!aR.idlehide||_utils.exists(e))){bj=false;setTimeout(function(){if(!bj){an()}},100)}if(aR.idlehide){a9=setTimeout(function(){aX()},2000)}break;default:bj=true;if(e){an()}a9=setTimeout(function(){aX()},2000);break}}else{an()}}function aX(){if(!bf){aQ();if(aN.style.opacity==1){_utils.cancelAnimation(aN);_utils.fadeTo(aN,0,0.1,1,0)}}}function an(){if(!bf){ao();if(aN.style.opacity==0){_utils.cancelAnimation(aN);_utils.fadeTo(aN,1,0.1,0,0)}}}function aH(e){return function(){if(ap&&bk!=e){bk=e;aY.sendEvent(e,{component:"controlbar",boundingRect:aw()})}}}var ao=aH(d.api.events.JWPLAYER_COMPONENT_SHOW);var aQ=aH(d.api.events.JWPLAYER_COMPONENT_HIDE);function aw(){if(aR.position==d.html5.view.positions.OVER||bd.jwGetFullscreen()){return _utils.getDimensions(aN)}else{return{x:0,y:0,width:0,height:0}}}function aT(e,f,g,j){var h;if(!a8){if(!j){j="div"}h=document.createElement(j);at[e]=h;h.id=aN.id+"_"+e;f.appendChild(h)}else{h=document.getElementById(aN.id+"_"+e)}if(_utils.exists(g)){_css(h,g)}return h}function ay(){if(bd.jwGetHeight()<=40){aR.layout=_utils.clone(aR.layout);for(var e=0;e<aR.layout.left.elements.length;e++){if(aR.layout.left.elements[e].name=="fullscreen"){aR.layout.left.elements.splice(e,1)}}for(e=0;e<aR.layout.right.elements.length;e++){if(aR.layout.right.elements[e].name=="fullscreen"){aR.layout.right.elements.splice(e,1)}}ba()}aB(aR.layout.left);aB(aR.layout.center);aB(aR.layout.right)}function aB(f,j){var e=f.position=="right"?"right":"left";var g=_utils.extend([],f.elements);if(_utils.exists(j)){g.reverse()}var f=aT(f.position+"Group",at.elements,{"float":"left",styleFloat:"left",cssFloat:"left",height:"100%"});for(var h=0;h<g.length;h++){aS(g[h],e,f)}}function aA(){return au++}function aS(k,h,f){var l,n,m,o,e;if(!f){f=at.elements}if(k.type=="divider"){a0("divider"+aA(),h,true,f,undefined,k.width,k.element);return}switch(k.name){case"play":a0("playButton",h,false,f);a0("pauseButton",h,true,f);aq("playButton","jwPlay");aq("pauseButton","jwPause");break;case"prev":a0("prevButton",h,true,f);aq("prevButton","jwPlaylistPrev");break;case"stop":a0("stopButton",h,true,f);aq("stopButton","jwStop");break;case"next":a0("nextButton",h,true,f);aq("nextButton","jwPlaylistNext");break;case"elapsed":a0("elapsedText",h,true,f,null,null,bd.skin.getSkinElement("controlbar","elapsedBackground"));break;case"time":n=!_utils.exists(bd.skin.getSkinElement("controlbar","timeSliderCapLeft"))?0:bd.skin.getSkinElement("controlbar","timeSliderCapLeft").width;m=!_utils.exists(bd.skin.getSkinElement("controlbar","timeSliderCapRight"))?0:bd.skin.getSkinElement("controlbar","timeSliderCapRight").width;l=h=="left"?n:m;e={height:aD().height,position:"relative","float":"left",styleFloat:"left",cssFloat:"left"};var j=aT("timeSlider",f,e);a0("timeSliderCapLeft",h,true,j,"relative");a0("timeSliderRail",h,false,j,"relative");a0("timeSliderBuffer",h,false,j,"absolute");a0("timeSliderProgress",h,false,j,"absolute");a0("timeSliderThumb",h,false,j,"absolute");a0("timeSliderCapRight",h,true,j,"relative");aW("time");break;case"fullscreen":a0("fullscreenButton",h,false,f);a0("normalscreenButton",h,true,f);aq("fullscreenButton","jwSetFullscreen",true);aq("normalscreenButton","jwSetFullscreen",false);break;case"volume":n=!_utils.exists(bd.skin.getSkinElement("controlbar","volumeSliderCapLeft"))?0:bd.skin.getSkinElement("controlbar","volumeSliderCapLeft").width;m=!_utils.exists(bd.skin.getSkinElement("controlbar","volumeSliderCapRight"))?0:bd.skin.getSkinElement("controlbar","volumeSliderCapRight").width;l=h=="left"?n:m;o=bd.skin.getSkinElement("controlbar","volumeSliderRail").width+n+m;e={height:aD().height,position:"relative",width:o,"float":"left",styleFloat:"left",cssFloat:"left"};var g=aT("volumeSlider",f,e);a0("volumeSliderCapLeft",h,false,g,"relative");a0("volumeSliderRail",h,false,g,"relative");a0("volumeSliderProgress",h,false,g,"absolute");a0("volumeSliderThumb",h,false,g,"absolute");a0("volumeSliderCapRight",h,false,g,"relative");aW("volume");break;case"mute":a0("muteButton",h,false,f);a0("unmuteButton",h,true,f);aq("muteButton","jwSetMute",true);aq("unmuteButton","jwSetMute",false);break;case"duration":a0("durationText",h,true,f,null,null,bd.skin.getSkinElement("controlbar","durationBackground"));break}}function a0(l,h,n,e,k,o,m){if(_utils.exists(bd.skin.getSkinElement("controlbar",l))||l.indexOf("Text")>0||l.indexOf("divider")===0){var j={height:"100%",position:k?k:"relative",display:"block","float":"left",styleFloat:"left",cssFloat:"left"};if((l.indexOf("next")===0||l.indexOf("prev")===0)&&(bd.jwGetPlaylist().length<2||aR.hideplaylistcontrols.toString()=="true")){if(aR.forcenextprev.toString()!="true"){n=false;j.display="none"}}var p;if(l.indexOf("Text")>0){l.innerhtml="00:00";j.font=aR.fontsize+"px/"+(aD().height+1)+"px "+aR.font;j.color=aR.fontcolor;j.textAlign="center";j.fontWeight=aR.fontweight;j.fontStyle=aR.fontstyle;j.cursor="default";if(m){j.background="url("+m.src+") no-repeat center";j.backgroundSize="100% "+aD().height+"px"}j.padding="0 5px"}else{if(l.indexOf("divider")===0){if(o){if(!isNaN(parseInt(o))){p=parseInt(o)}}else{if(m){var g=bd.skin.getSkinElement("controlbar",m);if(g){j.background="url("+g.src+") repeat-x center left";p=g.width}}else{j.background="url("+bd.skin.getSkinElement("controlbar","divider").src+") repeat-x center left";p=bd.skin.getSkinElement("controlbar","divider").width}}}else{j.background="url("+bd.skin.getSkinElement("controlbar",l).src+") repeat-x center left";p=bd.skin.getSkinElement("controlbar",l).width}}if(h=="left"){if(n){aO+=p}}else{if(h=="right"){if(n){aP+=p}}}if(_utils.typeOf(e)=="undefined"){e=at.elements}j.width=p;if(a8){_css(at[l],j)}else{var f=aT(l,e,j);if(_utils.exists(bd.skin.getSkinElement("controlbar",l+"Over"))){f.onmouseover=function(q){f.style.backgroundImage=["url(",bd.skin.getSkinElement("controlbar",l+"Over").src,")"].join("")};f.onmouseout=function(q){f.style.backgroundImage=["url(",bd.skin.getSkinElement("controlbar",l).src,")"].join("")}}if(l.indexOf("divider")==0){f.setAttribute("class","divider")}f.innerHTML="&nbsp;"}}}function aM(){bd.jwAddEventListener(d.api.events.JWPLAYER_PLAYLIST_LOADED,aU);bd.jwAddEventListener(d.api.events.JWPLAYER_PLAYLIST_ITEM,a5);bd.jwAddEventListener(d.api.events.JWPLAYER_MEDIA_BUFFER,a3);bd.jwAddEventListener(d.api.events.JWPLAYER_PLAYER_STATE,a6);bd.jwAddEventListener(d.api.events.JWPLAYER_MEDIA_TIME,aE);bd.jwAddEventListener(d.api.events.JWPLAYER_MEDIA_MUTE,aC);bd.jwAddEventListener(d.api.events.JWPLAYER_MEDIA_VOLUME,bb);bd.jwAddEventListener(d.api.events.JWPLAYER_MEDIA_COMPLETE,az)}function aU(){if(!aR.hideplaylistcontrols){if(bd.jwGetPlaylist().length>1||aR.forcenextprev.toString()=="true"){_show(at.nextButton);_show(at.prevButton)}else{_hide(at.nextButton);_hide(at.prevButton)}a1();aI()}}function a5(e){aK=bd.jwGetPlaylist()[e.index].duration;av=-1;aE({id:bd.id,duration:aK,position:0});a3({id:bd.id,bufferProgress:0})}function aI(){aE({id:bd.id,duration:bd.jwGetDuration(),position:0});a3({id:bd.id,bufferProgress:0});aC({id:bd.id,mute:bd.jwGetMute()});a6({id:bd.id,newstate:d.api.events.state.IDLE});bb({id:bd.id,volume:bd.jwGetVolume()})}function aq(f,e,g){if(a8){return}if(_utils.exists(bd.skin.getSkinElement("controlbar",f))){var h=at[f];if(_utils.exists(h)){_css(h,{cursor:"pointer"});if(e=="fullscreen"){h.onmouseup=function(j){j.stopPropagation();bd.jwSetFullscreen(!bd.jwGetFullscreen())}}else{h.onmouseup=function(j){j.stopPropagation();if(_utils.exists(g)){bd[e](g)}else{bd[e]()}}}}}}function aW(f){if(a8){return}var e=at[f+"Slider"];_css(at.elements,{cursor:"pointer"});_css(e,{cursor:"pointer"});e.onmousedown=function(g){a2=f};e.onmouseup=function(g){g.stopPropagation();aF(g.pageX)};e.onmousemove=function(h){if(a2=="time"){bg=true;var g=h.pageX-bl[f+"Slider"].left-window.pageXOffset;_css(at[a2+"SliderThumb"],{left:g})}}}function aF(g){bg=false;var h;if(a2=="time"){h=g-bl.timeSliderRail.left+window.pageXOffset;var e=h/bl.timeSliderRail.width*aK;if(e<0){e=0}else{if(e>aK){e=aK-3}}if(bd.jwGetState()==d.api.events.state.PAUSED||bd.jwGetState()==d.api.events.state.IDLE){bd.jwPlay()}bd.jwSeek(e)}else{if(a2=="volume"){h=g-bl.volumeSliderRail.left-window.pageXOffset;var f=Math.round(h/bl.volumeSliderRail.width*100);if(f<10){f=0}else{if(f>100){f=100}}if(bd.jwGetMute()){bd.jwSetMute(false)}bd.jwSetVolume(f)}}a2="none"}function a3(g){if(_utils.exists(g.bufferPercent)){bh=g.bufferPercent}if(bl.timeSliderRail){var e=bd.skin.getSkinElement("controlbar","timeSliderCapLeft");var f=bl.timeSliderRail.width;var h=isNaN(Math.round(f*bh/100))?0:Math.round(f*bh/100);_css(at.timeSliderBuffer,{width:h,left:e?e.width:0})}}function aC(e){if(e.mute){_hide(at.muteButton);_show(at.unmuteButton);_hide(at.volumeSliderProgress)}else{_show(at.muteButton);_hide(at.unmuteButton);_show(at.volumeSliderProgress)}}function a6(e){if(e.newstate==d.api.events.state.BUFFERING||e.newstate==d.api.events.state.PLAYING){_show(at.pauseButton);_hide(at.playButton)}else{_hide(at.pauseButton);_show(at.playButton)}a();if(e.newstate==d.api.events.state.IDLE){_hide(at.timeSliderBuffer);_hide(at.timeSliderProgress);_hide(at.timeSliderThumb);aE({id:bd.id,duration:bd.jwGetDuration(),position:0})}else{_show(at.timeSliderBuffer);if(e.newstate!=d.api.events.state.BUFFERING){_show(at.timeSliderProgress);_show(at.timeSliderThumb)}}}function az(e){a3({bufferPercent:0});aE(_utils.extend(e,{position:0,duration:aK}))}function aE(e){if(_utils.exists(e.position)){be=e.position}var j=false;if(_utils.exists(e.duration)&&e.duration!=aK){aK=e.duration;j=true}var g=(be===aK===0)?0:be/aK;var l=bl.timeSliderRail;if(l){var h=isNaN(Math.round(l.width*g))?0:Math.round(l.width*g);var m=bd.skin.getSkinElement("controlbar","timeSliderCapLeft");var f=h+(m?m.width:0);if(at.timeSliderProgress){_css(at.timeSliderProgress,{width:h,left:m?m.width:0});if(!bg){if(at.timeSliderThumb){at.timeSliderThumb.style.left=f+"px"}}}}if(at.durationText){at.durationText.innerHTML=_utils.timeFormat(aK)}if(at.elapsedText){var k=_utils.timeFormat(be);at.elapsedText.innerHTML=k;if(av!=k.length){j=true;av=k.length}}if(j){a1()}}function ba(){var k=at.elements.childNodes;var e,g;for(var h=0;h<k.length;h++){var f=k[h].childNodes;for(var j in f){if(isNaN(parseInt(j,10))){continue}if(f[j].id.indexOf(aN.id+"_divider")===0&&g&&g.id.indexOf(aN.id+"_divider")===0&&f[j].style.backgroundImage==g.style.backgroundImage){f[j].style.display="none"}else{if(f[j].id.indexOf(aN.id+"_divider")===0&&e&&e.style.display!="none"){f[j].style.display="block"}}if(f[j].style.display!="none"){g=f[j]}e=f[j]}}}function aG(){if(bd.jwGetFullscreen()){_show(at.normalscreenButton);_hide(at.fullscreenButton)}else{_hide(at.normalscreenButton);_show(at.fullscreenButton)}if(bd.jwGetState()==d.api.events.state.BUFFERING||bd.jwGetState()==d.api.events.state.PLAYING){_show(at.pauseButton);_hide(at.playButton)}else{_hide(at.pauseButton);_show(at.playButton)}if(bd.jwGetMute()==true){_hide(at.muteButton);_show(at.unmuteButton);_hide(at.volumeSliderProgress)}else{_show(at.muteButton);_hide(at.unmuteButton);_show(at.volumeSliderProgress)}}function a1(){ba();aG();var m={width:bi};var e={"float":"left",styleFloat:"left",cssFloat:"left"};if(aR.position==d.html5.view.positions.OVER||bd.jwGetFullscreen()){m.left=aR.margin;m.width-=2*aR.margin;m.top=aZ-aD().height-aR.margin;m.height=aD().height}var k=bd.skin.getSkinElement("controlbar","capLeft");var g=bd.skin.getSkinElement("controlbar","capRight");e.width=m.width-(k?k.width:0)-(g?g.width:0);var l=_utils.getBoundingClientRect(at.leftGroup).width;var h=_utils.getBoundingClientRect(at.rightGroup).width;var j=e.width-l-h-1;var n=j;var o=bd.skin.getSkinElement("controlbar","timeSliderCapLeft");var f=bd.skin.getSkinElement("controlbar","timeSliderCapRight");if(_utils.exists(o)){n-=o.width}if(_utils.exists(f)){n-=f.width}at.timeSlider.style.width=j+"px";at.timeSliderRail.style.width=n+"px";_css(aN,m);_css(at.elements,e);_css(at.background,e);a7();return m}function bb(e){if(_utils.exists(at.volumeSliderRail)){var h=isNaN(e.volume/100)?1:e.volume/100;var g=_utils.parseDimension(at.volumeSliderRail.style.width);var k=isNaN(Math.round(g*h))?0:Math.round(g*h);var l=_utils.parseDimension(at.volumeSliderRail.style.right);var j=(!_utils.exists(bd.skin.getSkinElement("controlbar","volumeSliderCapLeft")))?0:bd.skin.getSkinElement("controlbar","volumeSliderCapLeft").width;_css(at.volumeSliderProgress,{width:k,left:j});if(at.volumeSliderThumb){var f=(k-Math.round(_utils.parseDimension(at.volumeSliderThumb.style.width)/2));f=Math.min(Math.max(f,0),g-_utils.parseDimension(at.volumeSliderThumb.style.width));_css(at.volumeSliderThumb,{left:f})}if(_utils.exists(at.volumeSliderCapLeft)){_css(at.volumeSliderCapLeft,{left:0})}}}function ar(){try{var e=(bd.id.indexOf("_instream")>0?bd.id.replace("_instream",""):bd.id);aJ=document.getElementById(e);aJ.addEventListener("mousemove",a)}catch(f){_utils.log("Could not add mouse listeners to controlbar: "+f)}}function a4(){ax();ay();a7();a8=true;aM();aR.idlehide=(aR.idlehide.toString().toLowerCase()=="true");if(aR.position==d.html5.view.positions.OVER&&aR.idlehide){aN.style.opacity=0;ap=true}else{aN.style.opacity=1;setTimeout((function(){ap=true;ao()}),1)}ar();aI()}a4();return this}})(jwplayer);(function(d){var e=["width","height","state","playlist","item","position","buffer","duration","volume","mute","fullscreen"];var f=d.utils;d.html5.controller=function(av,Y,aD,aB){var aw=av,ax=aD,aA=aB,ak=Y,W=true,ac=-1,ai=false,aF=false,T,ag=[],at=false;var af=(f.exists(ax.config.debug)&&(ax.config.debug.toString().toLowerCase()=="console")),V=new d.html5.eventdispatcher(ak.id,af);f.extend(this,V);function X(g){if(at){V.sendEvent(g.type,g)}else{ag.push(g)}}function aq(j){if(!at){at=true;V.sendEvent(d.api.events.JWPLAYER_READY,j);if(d.utils.exists(window.playerReady)){playerReady(j)}if(d.utils.exists(window[aD.config.playerReady])){window[aD.config.playerReady](j)}while(ag.length>0){var g=ag.shift();V.sendEvent(g.type,g)}if(aD.config.autostart&&!d.utils.isIOS()){U()}while(al.length>0){var h=al.shift();ah(h.method,h.arguments)}}}ax.addGlobalListener(X);ax.addEventListener(d.api.events.JWPLAYER_MEDIA_BUFFER_FULL,function(){ax.getMedia().play()});ax.addEventListener(d.api.events.JWPLAYER_MEDIA_TIME,function(g){if(g.position>=ax.playlist[ax.item].start&&ac>=0){ax.playlist[ax.item].start=ac;ac=-1}});ax.addEventListener(d.api.events.JWPLAYER_MEDIA_COMPLETE,function(g){setTimeout(ae,25)});ax.addEventListener(d.api.events.JWPLAYER_PLAYLIST_LOADED,U);ax.addEventListener(d.api.events.JWPLAYER_FULLSCREEN,au);function ad(){try{T=ad;if(!ai){ai=true;V.sendEvent(d.api.events.JWPLAYER_MEDIA_BEFOREPLAY);ai=false;if(aF){aF=false;T=null;return}}an(ax.item);if(ax.playlist[ax.item].levels[0].file.length>0){if(W||ax.state==d.api.events.state.IDLE){ax.getMedia().load(ax.playlist[ax.item]);W=false}else{if(ax.state==d.api.events.state.PAUSED){ax.getMedia().play()}}}return true}catch(g){V.sendEvent(d.api.events.JWPLAYER_ERROR,g);T=null}return false}function aE(){try{if(ax.playlist[ax.item].levels[0].file.length>0){switch(ax.state){case d.api.events.state.PLAYING:case d.api.events.state.BUFFERING:if(ax.getMedia()){ax.getMedia().pause()}break;default:if(ai){aF=true}}}return true}catch(g){V.sendEvent(d.api.events.JWPLAYER_ERROR,g)}return false}function aj(h){try{if(ax.playlist[ax.item].levels[0].file.length>0){if(typeof h!="number"){h=parseFloat(h)}switch(ax.state){case d.api.events.state.IDLE:if(ac<0){ac=ax.playlist[ax.item].start;ax.playlist[ax.item].start=h}if(!ai){ad()}break;case d.api.events.state.PLAYING:case d.api.events.state.PAUSED:case d.api.events.state.BUFFERING:ax.seek(h);break}}return true}catch(g){V.sendEvent(d.api.events.JWPLAYER_ERROR,g)}return false}function am(h){T=null;if(!f.exists(h)){h=true}try{if((ax.state!=d.api.events.state.IDLE||h)&&ax.getMedia()){ax.getMedia().stop(h)}if(ai){aF=true}return true}catch(g){V.sendEvent(d.api.events.JWPLAYER_ERROR,g)}return false}function az(){try{if(ax.playlist[ax.item].levels[0].file.length>0){if(ax.config.shuffle){an(a())}else{if(ax.item+1==ax.playlist.length){an(0)}else{an(ax.item+1)}}}if(ax.state!=d.api.events.state.IDLE){var g=ax.state;ax.state=d.api.events.state.IDLE;V.sendEvent(d.api.events.JWPLAYER_PLAYER_STATE,{oldstate:g,newstate:d.api.events.state.IDLE})}ad();return true}catch(h){V.sendEvent(d.api.events.JWPLAYER_ERROR,h)}return false}function aa(){try{if(ax.playlist[ax.item].levels[0].file.length>0){if(ax.config.shuffle){an(a())}else{if(ax.item===0){an(ax.playlist.length-1)}else{an(ax.item-1)}}}if(ax.state!=d.api.events.state.IDLE){var g=ax.state;ax.state=d.api.events.state.IDLE;V.sendEvent(d.api.events.JWPLAYER_PLAYER_STATE,{oldstate:g,newstate:d.api.events.state.IDLE})}ad();return true}catch(h){V.sendEvent(d.api.events.JWPLAYER_ERROR,h)}return false}function a(){var g=null;if(ax.playlist.length>1){while(!f.exists(g)){g=Math.floor(Math.random()*ax.playlist.length);if(g==ax.item){g=null}}}else{g=0}return g}function ab(h){if(!ax.playlist||!ax.playlist[h]){return false}try{if(ax.playlist[h].levels[0].file.length>0){var g=ax.state;if(g!==d.api.events.state.IDLE){if(ax.playlist[ax.item]&&ax.playlist[ax.item].provider==ax.playlist[h].provider){am(false)}else{am()}}an(h);ad()}return true}catch(j){V.sendEvent(d.api.events.JWPLAYER_ERROR,j)}return false}function an(g){if(!ax.playlist[g]){return}ax.setActiveMediaProvider(ax.playlist[g]);if(ax.item!=g){ax.item=g;W=true;V.sendEvent(d.api.events.JWPLAYER_PLAYLIST_ITEM,{index:g})}}function aC(h){try{an(ax.item);var g=ax.getMedia();switch(typeof(h)){case"number":g.volume(h);break;case"string":g.volume(parseInt(h,10));break}ax.setVolume(h);return true}catch(j){V.sendEvent(d.api.events.JWPLAYER_ERROR,j)}return false}function ar(h){try{an(ax.item);var g=ax.getMedia();if(typeof h=="undefined"){g.mute(!ax.mute);ax.setMute(!ax.mute)}else{if(h.toString().toLowerCase()=="true"){g.mute(true);ax.setMute(true)}else{g.mute(false);ax.setMute(false)}}return true}catch(j){V.sendEvent(d.api.events.JWPLAYER_ERROR,j)}return false}function Z(h,j){try{ax.width=h;ax.height=j;aA.resize(h,j);V.sendEvent(d.api.events.JWPLAYER_RESIZE,{width:ax.width,height:ax.height});return true}catch(g){V.sendEvent(d.api.events.JWPLAYER_ERROR,g)}return false}function ao(h,g){try{if(typeof h=="undefined"){h=!ax.fullscreen}if(typeof g=="undefined"){g=true}if(h!=ax.fullscreen){ax.fullscreen=(h.toString().toLowerCase()=="true");aA.fullscreen(ax.fullscreen);if(g){V.sendEvent(d.api.events.JWPLAYER_FULLSCREEN,{fullscreen:ax.fullscreen})}V.sendEvent(d.api.events.JWPLAYER_RESIZE,{width:ax.width,height:ax.height})}return true}catch(j){V.sendEvent(d.api.events.JWPLAYER_ERROR,j)}return false}function b(h){try{am();if(ai){aF=false}ax.loadPlaylist(h);if(ax.playlist[ax.item].provider){an(ax.item);if(ax.config.autostart.toString().toLowerCase()=="true"&&!f.isIOS()&&!ai){ad()}return true}else{return false}}catch(g){V.sendEvent(d.api.events.JWPLAYER_ERROR,g)}return false}function U(g){if(!f.isIOS()){an(ax.item);if(ax.config.autostart.toString().toLowerCase()=="true"&&!f.isIOS()){ad()}}}function au(g){ao(g.fullscreen,false)}function ap(){try{return ax.getMedia().detachMedia()}catch(g){return null}}function ay(){try{var h=ax.getMedia().attachMedia();if(typeof T=="function"){T()}}catch(g){return null}}d.html5.controller.repeatoptions={LIST:"LIST",ALWAYS:"ALWAYS",SINGLE:"SINGLE",NONE:"NONE"};function ae(){if(ax.state!=d.api.events.state.IDLE){return}T=ae;switch(ax.config.repeat.toUpperCase()){case d.html5.controller.repeatoptions.SINGLE:ad();break;case d.html5.controller.repeatoptions.ALWAYS:if(ax.item==ax.playlist.length-1&&!ax.config.shuffle){ab(0)}else{az()}break;case d.html5.controller.repeatoptions.LIST:if(ax.item==ax.playlist.length-1&&!ax.config.shuffle){am();an(0)}else{az()}break;default:am();break}}var al=[];function c(g){return function(){if(at){ah(g,arguments)}else{al.push({method:g,arguments:arguments})}}}function ah(g,h){var j=[];for(i=0;i<h.length;i++){j.push(h[i])}g.apply(this,j)}this.play=c(ad);this.pause=c(aE);this.seek=c(aj);this.stop=c(am);this.next=c(az);this.prev=c(aa);this.item=c(ab);this.setVolume=c(aC);this.setMute=c(ar);this.resize=c(Z);this.setFullscreen=c(ao);this.load=c(b);this.playerReady=aq;this.detachMedia=ap;this.attachMedia=ay;this.beforePlay=function(){return ai};this.destroy=function(){if(ax.getMedia()){ax.getMedia().destroy()}}}})(jwplayer);(function(b){b.html5.defaultSkin=function(){this.text='<?xml version="1.0" ?><skin author="LongTail Video" name="Five" version="1.1"><components><component name="controlbar"><settings><setting name="margin" value="20"/><setting name="fontsize" value="11"/><setting name="fontcolor" value="0x000000"/></settings><layout><group position="left"><button name="play"/><divider name="divider"/><button name="prev"/><divider name="divider"/><button name="next"/><divider name="divider"/><text name="elapsed"/></group><group position="center"><slider name="time"/></group><group position="right"><text name="duration"/><divider name="divider"/><button name="blank"/><divider name="divider"/><button name="mute"/><slider name="volume"/><divider name="divider"/><button name="fullscreen"/></group></layout><elements><element name="background" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAIAAABvFaqvAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAElJREFUOI3t1LERACAMQlFgGvcfxNIhHMK4gsUvUviOmgtNsiAZkBSEKxKEnCYkkQrJn/YwbUNiSDDYRZaQRDaShv+oX9GBZEIuK+8hXVLs+/YAAAAASUVORK5CYII="/><element name="blankButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAYCAYAAAAyJzegAAAAFElEQVQYV2P8//8/AzpgHBUc7oIAGZdH0RjKN8EAAAAASUVORK5CYII="/><element name="capLeft" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAYCAYAAAA7zJfaAAAAQElEQVQIWz3LsRGAMADDQJ0XB5bMINABZ9GENGrszxhjT2WLSqxEJG2JQrTMdV2q5LpOAvyRaVmsi7WdeZ/7+AAaOTq7BVrfOQAAAABJRU5ErkJggg=="/><element name="capRight" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAYCAYAAAA7zJfaAAAAQElEQVQIWz3LsRGAMADDQJ0XB5bMINABZ9GENGrszxhjT2WLSqxEJG2JQrTMdV2q5LpOAvyRaVmsi7WdeZ/7+AAaOTq7BVrfOQAAAABJRU5ErkJggg=="/><element name="divider" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAYCAIAAAC0rgCNAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADhJREFUCB0FwcENgEAAw7Aq+893g8APUILNOQcbFRktVGqUVFRkWNz3xTa2sUaLNUosKlRUvvf5AdbWOTtzmzyWAAAAAElFTkSuQmCC"/><element name="playButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAANUlEQVR42u2RsQkAAAjD/NTTPaW6dXLrINJA1kBpGPMAjDWmOgp1HFQXx+b1KOefO4oxY57R73YnVYCQUCQAAAAASUVORK5CYII="/><element name="pauseButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAAIUlEQVQ4jWNgGAWjYOiD/0gYG3/U0FFDB4Oho2AUDAYAAEwiL9HrpdMVAAAAAElFTkSuQmCC"/><element name="prevButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAAQklEQVQ4y2NgGAWjYOiD/1AMA/JAfB5NjCJD/YH4PRaLyDa0H4lNNUP/DxlD59PCUBCIp3ZEwYA+NZLUKBgFgwEAAN+HLX9sB8u8AAAAAElFTkSuQmCC"/><element name="nextButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAYCAYAAAAVibZIAAAAQElEQVQ4y2NgGAWjYOiD/0B8Hojl0cT+U2ooCL8HYn9qGwrD/bQw9P+QMXQ+tSMqnpoRBUpS+tRMUqNgFAwGAADxZy1/mHvFnAAAAABJRU5ErkJggg=="/><element name="timeSliderRail" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAOElEQVRIDe3BwQkAIRADwAhhw/nU/kWwUK+KPITMABFh19Y+F0acY8CJvX9wYpXgRElwolSIiMf9ZWEDhtwurFsAAAAASUVORK5CYII="/><element name="timeSliderBuffer" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAN0lEQVRIDe3BwQkAMQwDMBcc55mRe9zi7RR+FCwBEWG39vcfGHFm4MTuhhMlwYlVBSdKhYh43AW/LQMKm1spzwAAAABJRU5ErkJggg=="/><element name="timeSliderProgress" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAIElEQVRIiWNgGAWjYBTQBfynMR61YCRYMApGwSigMQAAiVWPcbq6UkIAAAAASUVORK5CYII="/><element name="timeSliderThumb" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAYCAYAAAA/OUfnAAAAO0lEQVQYlWP4//8/Awwz0JgDBP/BeN6Cxf/hnI2btiI4u/fsQ3AOHjqK4Jw4eQbBOX/hEoKDYjSd/AMA4cS4mfLsorgAAAAASUVORK5CYII="/><element name="muteButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAYCAYAAADKx8xXAAAAJklEQVQ4y2NgGAUjDcwH4v/kaPxPikZkxcNVI9mBQ5XoGAWDFwAAsKAXKQQmfbUAAAAASUVORK5CYII="/><element name="unmuteButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAYCAYAAADKx8xXAAAAMklEQVQ4y2NgGAWDHPyntub5xBr6Hwv/Pzk2/yfVG/8psRFE25Oq8T+tQnsIaB4FVAcAi2YVysVY52AAAAAASUVORK5CYII="/><element name="volumeSliderRail" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYAgMAAACdGdVrAAAACVBMVEUAAACmpqampqbBXAu8AAAAAnRSTlMAgJsrThgAAAArSURBVAhbY2AgErBAyA4I2QEhOyBkB4TsYOhAoaCCUCUwDTDtMMNgRuMHAFB5FoGH5T0UAAAAAElFTkSuQmCC"/><element name="volumeSliderProgress" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYAgMAAACdGdVrAAAACVBMVEUAAAAAAAAAAACDY+nAAAAAAnRSTlMAgJsrThgAAAArSURBVAhbY2AgErBAyA4I2QEhOyBkB4TsYOhAoaCCUCUwDTDtMMNgRuMHAFB5FoGH5T0UAAAAAElFTkSuQmCC"/><element name="volumeSliderCapRight" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAYCAYAAAAyJzegAAAAFElEQVQYV2P8//8/AzpgHBUc7oIAGZdH0RjKN8EAAAAASUVORK5CYII="/><element name="fullscreenButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAQklEQVRIiWNgGAWjYMiD/0iYFDmSLbDHImdPLQtgBpEiR7Zl2NijAA5oEkT/0Whi5UiyAJ8BVMsHNMtoo2AUDAIAAGdcIN3IDNXoAAAAAElFTkSuQmCC"/><element name="normalscreenButton" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAP0lEQVRIx2NgGAWjYMiD/1RSQ5QB/wmIUWzJfzx8qhj+n4DYCAY0DyJ7PBbYU8sHMEvwiZFtODXUjIJRMJgBACpWIN2ZxdPTAAAAAElFTkSuQmCC"/></elements></component><component name="display"><elements><element name="background" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyAQMAAAAk8RryAAAABlBMVEUAAAAAAAClZ7nPAAAAAnRSTlOZpuml+rYAAAASSURBVBhXY2AYJuA/GBwY6jQAyDyoK8QcL4QAAAAASUVORK5CYII="/><element name="playIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAiUlEQVR42u3XSw2AMBREURwgAQlIQAISKgUpSEFKJeCg5b0E0kWBTVcD9ySTsL0Jn9IBAAAA+K2UUrBlW/Rr5ZDoIeeuoFkxJD9ss03aIXXQqB9SttoG7ZA6qNcOKdttiwcJh9RB+iFl4SshkRBuLR72+9cvH0SOKI2HRo7x/Fi1/uoCAAAAwLsD8ki99IlO2dQAAAAASUVORK5CYII="/><element name="muteIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAVUlEQVR42u3WMQrAIAxAUW/g/SdvGmvpoOBeSHgPsjj5QTANAACARCJilIhYM0tEvJM+Ik3Id9E957kQIb+F3OdCPC0hPkQriqWx9hp/x/QGAABQyAPLB22VGrpLDgAAAABJRU5ErkJggg=="/><element name="errorIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAA/0lEQVR42u2U0QmEMBAF7cASLMESUoIlpARLSCkpwRJSgiWkhOvAXD4WsgRkyaG5DbyB+Yvg8KITAAAAAAAYk+u61mwk15EjPtlEfihmqIiZR1Qx80ghjgdUuiHXGHSVsoag0x6x8DUoyjD5KovmEJ9NTDMRPIT0mtdIUkjlonuNohO+Ha99DTmkuGgKCTcvebAzx82ZoCWC3/3aIMWSRucaxcjORSFY4xpFdjYJGp1rFGcyCYZ/RVh6AUnfcNZ2zih3/mGj1jVCdiNDwyrq1rA/xMdeEXvDVdnYc1vDc3uPkDObXrlaxbNHSOohQhr/WOeLEWfWTgAAAAAAADzNF9sHJ7PJ57MlAAAAAElFTkSuQmCC"/><element name="bufferIcon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAACBklEQVR42u3Zv0sCYRzH8USTzOsHHEWGkC1HgaDgkktGDjUYtDQ01RDSljQ1BLU02+rk1NTm2NLq4Nx/0L/h9fnCd3j4cnZe1/U8xiO8h3uurufF0/3COd/3/0UWYiEWYiEWYiGJQ+J8xuPxKhXjEMZANinjIZhkGuVRNioE4wVURo4JkHm0xKWmhRAc1bh1EyCUw5BcBIjHiApKa4CErko6DEJwuRo6IRKzyJD8FJAyI3Zp2zRImiBcRhlfo5RtlxCcE3CcDNpGrhYIT2IhAJKilO0VRmzJ32fAMTpBTS0QMfGwlcuKMRftE0DJ0wCJdcOsCkBdXP3Mh9CEFUBTPS9mDZJBG6io4aqVzMdCokCw9H3kT6j/C/9iDdSeUMNC7DkyyxAs/Rk6Qss8FPWRZgdVtUH4DjxEn1zxh+/zj1wHlf4MQhNGrwqA6sY40U8JonRJwEQh+AO3AvCG6gHv4U7IY4krxkroWoAOkoQMGfCBrgIm+YBGqPENpIJ66CJg3x66Y0gnSUidAEEnNr9jjLiWMn5DiWP0OC/oAsCgkq43xBdGDMQr7YASP/vEkHvdl1+JOCcEV5sC4hGEOzTlPuKgd0b0xD4JkRcOgnRRTjdErkYhAsQVq6IdUuPJtmk7BCL3t/h88cx91pKQkI/pkDx6pmYTIjEoxiHsN1YWYiEWYiEWknhflZ5IErA5nr8AAAAASUVORK5CYII="/></elements></component><component name="dock"><settings><setting name="fontcolor" value="0xffffff"/></settings><elements><element name="button" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyAQMAAAAk8RryAAAABlBMVEUAAAAAAAClZ7nPAAAAAnRSTlOZpuml+rYAAAASSURBVBhXY2AYJuA/GBwY6jQAyDyoK8QcL4QAAAAASUVORK5CYII="/></elements></component><component name="playlist"><settings><setting name="backgroundcolor" value="0xe8e8e8"/></settings><elements><element name="item" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAIAAAC1nk4lAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHBJREFUaN7t2MENwCAMBEEe9N8wSKYC/D8YV7CyJoRkVtVImxkZPQInMxoP0XiIxkM0HsGbjjSNBx544IEHHnjggUe/6UQeey0PIh7XTftGxKPj4eXCtLsHHh+ZxkO0Iw8PR55Ni8ZD9Hu/EAoP0dc5RRg9qeRjVF8AAAAASUVORK5CYII="/><element name="sliderCapTop" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAHCAYAAADnCQYGAAAAFUlEQVQokWP8//8/A7UB46ihI9hQAKt6FPPXhVGHAAAAAElFTkSuQmCC"/><element name="sliderRail" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAUCAYAAABiS3YzAAAAKElEQVQ4y2P4//8/Az68bNmy/+iYkB6GUUNHDR01dNTQUUNHDaXcUABUDOKhcxnsSwAAAABJRU5ErkJggg=="/><element name="sliderThumb" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAUCAYAAABiS3YzAAAAJUlEQVQ4T2P4//8/Ay4MBP9xYbz6Rg0dNXTU0FFDRw0dNZRyQwHH4NBa7GJsXAAAAABJRU5ErkJggg=="/><element name="sliderCapBottom" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAHCAYAAADnCQYGAAAAFUlEQVQokWP8//8/A7UB46ihI9hQAKt6FPPXhVGHAAAAAElFTkSuQmCC"/></elements></component></components></skin>';this.xml=null;if(window.DOMParser){parser=new DOMParser();this.xml=parser.parseFromString(this.text,"text/xml")}else{this.xml=new ActiveXObject("Microsoft.XMLDOM");this.xml.async="false";this.xml.loadXML(this.text)}return this}})(jwplayer);(function(b){_utils=b.utils;_css=_utils.css;_hide=function(a){_css(a,{display:"none"})};_show=function(a){_css(a,{display:"block"})};b.html5.display=function(aL,ak){var aM={icons:true,showmute:false};var a=_utils.extend({},aM,ak);var aN=aL;var Y={};var aQ;var az;var aw;var ab;var aB;var ai;var aq;var ah=!_utils.exists(aN.skin.getComponentSettings("display").bufferrotation)?15:parseInt(aN.skin.getComponentSettings("display").bufferrotation,10);var aD=!_utils.exists(aN.skin.getComponentSettings("display").bufferinterval)?100:parseInt(aN.skin.getComponentSettings("display").bufferinterval,10);var ar=-1;var aA=b.api.events.state.IDLE;var ag=true;var aR;var at=false,Z=true;var aG="";var aO=false;var aH=false;var aJ;var ax,ad;var aj=new b.html5.eventdispatcher();_utils.extend(this,aj);var an={display:{style:{cursor:"pointer",top:0,left:0,overflow:"hidden"},click:aI},display_icon:{style:{cursor:"pointer",position:"absolute",top:((aN.skin.getSkinElement("display","background").height-aN.skin.getSkinElement("display","playIcon").height)/2),left:((aN.skin.getSkinElement("display","background").width-aN.skin.getSkinElement("display","playIcon").width)/2),border:0,margin:0,padding:0,zIndex:3,display:"none"}},display_iconBackground:{style:{cursor:"pointer",position:"absolute",top:((az-aN.skin.getSkinElement("display","background").height)/2),left:((aQ-aN.skin.getSkinElement("display","background").width)/2),border:0,backgroundImage:(["url(",aN.skin.getSkinElement("display","background").src,")"]).join(""),width:aN.skin.getSkinElement("display","background").width,height:aN.skin.getSkinElement("display","background").height,margin:0,padding:0,zIndex:2,display:"none"}},display_image:{style:{display:"none",width:aQ,height:az,position:"absolute",cursor:"pointer",left:0,top:0,margin:0,padding:0,textDecoration:"none",zIndex:1}},display_text:{style:{zIndex:4,position:"relative",opacity:0.8,backgroundColor:parseInt("000000",16),color:parseInt("ffffff",16),textAlign:"center",fontFamily:"Arial,sans-serif",padding:"0 5px",fontSize:14}}};aN.jwAddEventListener(b.api.events.JWPLAYER_PLAYER_STATE,aF);aN.jwAddEventListener(b.api.events.JWPLAYER_MEDIA_MUTE,aF);aN.jwAddEventListener(b.api.events.JWPLAYER_PLAYLIST_LOADED,af);aN.jwAddEventListener(b.api.events.JWPLAYER_PLAYLIST_ITEM,aF);aN.jwAddEventListener(b.api.events.JWPLAYER_ERROR,aE);ae();function ae(){Y.display=ao("div","display");Y.display_text=ao("div","display_text");Y.display.appendChild(Y.display_text);Y.display_image=ao("img","display_image");Y.display_image.onerror=function(c){_hide(Y.display_image)};Y.display_image.onload=au;Y.display_icon=ao("div","display_icon");Y.display_iconBackground=ao("div","display_iconBackground");Y.display.appendChild(Y.display_image);Y.display_iconBackground.appendChild(Y.display_icon);Y.display.appendChild(Y.display_iconBackground);aP();setTimeout((function(){aH=true;if(a.icons.toString()=="true"){al()}}),1)}this.getDisplayElement=function(){return Y.display};this.resize=function(c,d){if(aN.jwGetFullscreen()&&_utils.isMobile()){return}_css(Y.display,{width:c,height:d});_css(Y.display_text,{width:(c-10),top:((d-_utils.getBoundingClientRect(Y.display_text).height)/2)});_css(Y.display_iconBackground,{top:((d-aN.skin.getSkinElement("display","background").height)/2),left:((c-aN.skin.getSkinElement("display","background").width)/2)});if(aQ!=c||az!=d){aQ=c;az=d;aR=undefined;al()}if(!aN.jwGetFullscreen()){ax=c;ad=d}aS();aF({})};this.show=function(){if(aO){aO=false;aC(aN.jwGetState())}};this.hide=function(){if(!aO){ap();aO=true}};function au(c){aw=Y.display_image.naturalWidth;ab=Y.display_image.naturalHeight;aS();if(aN.jwGetState()==b.api.events.state.IDLE||aN.jwGetPlaylist()[aN.jwGetPlaylistIndex()].provider=="sound"){_css(Y.display_image,{display:"block",opacity:0});_utils.fadeTo(Y.display_image,1,0.1)}at=false}function aS(){if(aN.jwGetFullscreen()&&aN.jwGetStretching()==b.utils.stretching.EXACTFIT){var c=document.createElement("div");_utils.stretch(b.utils.stretching.UNIFORM,c,aQ,az,ax,ad);_utils.stretch(b.utils.stretching.EXACTFIT,Y.display_image,_utils.parseDimension(c.style.width),_utils.parseDimension(c.style.height),aw,ab);_css(Y.display_image,{left:c.style.left,top:c.style.top})}else{_utils.stretch(aN.jwGetStretching(),Y.display_image,aQ,az,aw,ab)}}function ao(e,d){var c=document.createElement(e);c.id=aN.id+"_jwplayer_"+d;_css(c,an[d].style);return c}function aP(){for(var c in Y){if(_utils.exists(an[c].click)){Y[c].onclick=an[c].click}}}function aI(c){if(typeof c.preventDefault!="undefined"){c.preventDefault()}else{c.returnValue=false}if(typeof aJ=="function"){aJ(c);return}else{if(aN.jwGetState()!=b.api.events.state.PLAYING){aN.jwPlay()}else{aN.jwPause()}}}function aa(c){if(aq){ap();return}Y.display_icon.style.backgroundImage=(["url(",aN.skin.getSkinElement("display",c).src,")"]).join("");_css(Y.display_icon,{width:aN.skin.getSkinElement("display",c).width,height:aN.skin.getSkinElement("display",c).height,top:(aN.skin.getSkinElement("display","background").height-aN.skin.getSkinElement("display",c).height)/2,left:(aN.skin.getSkinElement("display","background").width-aN.skin.getSkinElement("display",c).width)/2});aT();if(_utils.exists(aN.skin.getSkinElement("display",c+"Over"))){Y.display_icon.onmouseover=function(d){Y.display_icon.style.backgroundImage=["url(",aN.skin.getSkinElement("display",c+"Over").src,")"].join("")};Y.display_icon.onmouseout=function(d){Y.display_icon.style.backgroundImage=["url(",aN.skin.getSkinElement("display",c).src,")"].join("")}}else{Y.display_icon.onmouseover=null;Y.display_icon.onmouseout=null}}function ap(){if(a.icons.toString()=="true"){_hide(Y.display_icon);_hide(Y.display_iconBackground);ac()}}function aT(){if(!aO&&a.icons.toString()=="true"){_show(Y.display_icon);_show(Y.display_iconBackground);al()}}function aE(c){aq=true;ap();Y.display_text.innerHTML=c.message;_show(Y.display_text);Y.display_text.style.top=((az-_utils.getBoundingClientRect(Y.display_text).height)/2)+"px"}function am(){Z=false;Y.display_image.style.display="none"}function af(){aA=""}function aF(d){if((d.type==b.api.events.JWPLAYER_PLAYER_STATE||d.type==b.api.events.JWPLAYER_PLAYLIST_ITEM)&&aq){aq=false;_hide(Y.display_text)}var c=aN.jwGetState();if(c==aA){return}aA=c;if(ar>=0){clearTimeout(ar)}if(ag||aN.jwGetState()==b.api.events.state.PLAYING||aN.jwGetState()==b.api.events.state.PAUSED){aC(aN.jwGetState())}else{ar=setTimeout(aK(aN.jwGetState()),500)}}function aK(c){return(function(){aC(c)})}function aC(c){if(_utils.exists(ai)){clearInterval(ai);ai=null;_utils.animations.rotate(Y.display_icon,0)}switch(c){case b.api.events.state.BUFFERING:if(_utils.isIPod()){am();ap()}else{if(aN.jwGetPlaylist()[aN.jwGetPlaylistIndex()].provider=="sound"){ay()}aB=0;ai=setInterval(function(){aB+=ah;_utils.animations.rotate(Y.display_icon,aB%360)},aD);aa("bufferIcon");ag=true}break;case b.api.events.state.PAUSED:if(!_utils.isIPod()){if(aN.jwGetPlaylist()[aN.jwGetPlaylistIndex()].provider!="sound"){_css(Y.display_image,{background:"transparent no-repeat center center"})}aa("playIcon");ag=true}break;case b.api.events.state.IDLE:if(aN.jwGetPlaylist()[aN.jwGetPlaylistIndex()]&&aN.jwGetPlaylist()[aN.jwGetPlaylistIndex()].image){ay()}else{am()}aa("playIcon");ag=true;break;default:if(aN.jwGetPlaylist()[aN.jwGetPlaylistIndex()]&&aN.jwGetPlaylist()[aN.jwGetPlaylistIndex()].provider=="sound"){if(_utils.isIPod()){am();ag=false}else{ay()}}else{am();ag=false}if(aN.jwGetMute()&&a.showmute){aa("muteIcon")}else{ap()}break}ar=-1}function ay(){if(aN.jwGetPlaylist()[aN.jwGetPlaylistIndex()]){var c=aN.jwGetPlaylist()[aN.jwGetPlaylistIndex()].image;if(c){if(c!=aG){aG=c;at=true;Y.display_image.src=_utils.getAbsolutePath(c)}else{if(!(at||Z)){Z=true;Y.display_image.style.opacity=0;Y.display_image.style.display="block";_utils.fadeTo(Y.display_image,1,0.1)}}}}}function av(c){return function(){if(!aH){return}if(!aO&&aR!=c){aR=c;aj.sendEvent(c,{component:"display",boundingRect:_utils.getDimensions(Y.display_iconBackground)})}}}var al=av(b.api.events.JWPLAYER_COMPONENT_SHOW);var ac=av(b.api.events.JWPLAYER_COMPONENT_HIDE);this.setAlternateClickHandler=function(c){aJ=c};this.revertAlternateClickHandler=function(){aJ=undefined};return this}})(jwplayer);(function(e){var f=e.utils;var d=f.css;e.html5.dock=function(H,P){function c(){return{align:e.html5.view.positions.RIGHT}}var X=f.extend({},c(),P);if(X.align=="FALSE"){return}var ab={};var V=[];var aa;var L;var ae=false;var Q=false;var ad={x:0,y:0,width:0,height:0};var a;var W;var b;var Y=new e.html5.eventdispatcher();f.extend(this,Y);var R=document.createElement("div");R.id=H.id+"_jwplayer_dock";R.style.opacity=1;U();H.jwAddEventListener(e.api.events.JWPLAYER_PLAYER_STATE,T);this.getDisplayElement=function(){return R};this.setButton=function(g,k,j,h){if(!k&&ab[g]){f.arrays.remove(V,g);R.removeChild(ab[g].div);delete ab[g]}else{if(k){if(!ab[g]){ab[g]={}}ab[g].handler=k;ab[g].outGraphic=j;ab[g].overGraphic=h;if(!ab[g].div){V.push(g);ab[g].div=document.createElement("div");ab[g].div.style.position="absolute";R.appendChild(ab[g].div);ab[g].div.appendChild(document.createElement("div"));ab[g].div.childNodes[0].style.position="relative";ab[g].div.childNodes[0].style.width="100%";ab[g].div.childNodes[0].style.height="100%";ab[g].div.childNodes[0].style.zIndex=10;ab[g].div.childNodes[0].style.cursor="pointer";ab[g].div.appendChild(document.createElement("img"));ab[g].div.childNodes[1].style.position="absolute";ab[g].div.childNodes[1].style.left=0;ab[g].div.childNodes[1].style.top=0;if(H.skin.getSkinElement("dock","button")){ab[g].div.childNodes[1].src=H.skin.getSkinElement("dock","button").src}ab[g].div.childNodes[1].style.zIndex=9;ab[g].div.childNodes[1].style.cursor="pointer";ab[g].div.onmouseover=function(){if(ab[g].overGraphic){ab[g].div.childNodes[0].style.background=ac(ab[g].overGraphic)}if(H.skin.getSkinElement("dock","buttonOver")){ab[g].div.childNodes[1].src=H.skin.getSkinElement("dock","buttonOver").src}};ab[g].div.onmouseout=function(){if(ab[g].outGraphic){ab[g].div.childNodes[0].style.background=ac(ab[g].outGraphic)}if(H.skin.getSkinElement("dock","button")){ab[g].div.childNodes[1].src=H.skin.getSkinElement("dock","button").src}};if(H.skin.getSkinElement("dock","button")){ab[g].div.childNodes[1].src=H.skin.getSkinElement("dock","button").src}}if(ab[g].outGraphic){ab[g].div.childNodes[0].style.background=ac(ab[g].outGraphic)}else{if(ab[g].overGraphic){ab[g].div.childNodes[0].style.background=ac(ab[g].overGraphic)}}if(k){ab[g].div.onclick=function(l){l.preventDefault();e(H.id).callback(g);if(ab[g].overGraphic){ab[g].div.childNodes[0].style.background=ac(ab[g].overGraphic)}if(H.skin.getSkinElement("dock","button")){ab[g].div.childNodes[1].src=H.skin.getSkinElement("dock","button").src}}}}}Z(aa,L)};function ac(g){return"url("+g+") no-repeat center center"}function N(g){}function Z(v,h){U();if(V.length>0){var u=10;var j=u;var m=-1;var l=H.skin.getSkinElement("dock","button").height;var n=H.skin.getSkinElement("dock","button").width;var p=v-n-u;var k,q;if(X.align==e.html5.view.positions.LEFT){m=1;p=u}for(var s=0;s<V.length;s++){var g=Math.floor(j/h);if((j+l+u)>((g+1)*h)){j=((g+1)*h)+u;g=Math.floor(j/h)}var r=ab[V[s]].div;r.style.top=(j%h)+"px";r.style.left=(p+(H.skin.getSkinElement("dock","button").width+u)*g*m)+"px";var o={x:f.parseDimension(r.style.left),y:f.parseDimension(r.style.top),width:n,height:l};if(!k||(o.x<=k.x&&o.y<=k.y)){k=o}if(!q||(o.x>=q.x&&o.y>=q.y)){q=o}r.style.width=n+"px";r.style.height=l+"px";j+=H.skin.getSkinElement("dock","button").height+u}ad={x:k.x,y:k.y,width:q.x-k.x+q.width,height:k.y-q.y+q.height}}if(Q!=H.jwGetFullscreen()||aa!=v||L!=h){aa=v;L=h;Q=H.jwGetFullscreen();a=undefined;setTimeout(O,1)}}function ag(g){return function(){if(!ae&&a!=g&&V.length>0){a=g;Y.sendEvent(g,{component:"dock",boundingRect:ad})}}}function T(g){if(f.isMobile()){if(g.newstate==e.api.events.state.IDLE){I()}else{af()}}else{S()}}function S(g){if(ae){return}clearTimeout(b);if(P.position==e.html5.view.positions.OVER||H.jwGetFullscreen()){switch(H.jwGetState()){case e.api.events.state.PAUSED:case e.api.events.state.IDLE:if(R&&R.style.opacity<1&&(!P.idlehide||f.exists(g))){M()}if(P.idlehide){b=setTimeout(function(){K()},2000)}break;default:if(f.exists(g)){M()}b=setTimeout(function(){K()},2000);break}}else{M()}}var O=ag(e.api.events.JWPLAYER_COMPONENT_SHOW);var J=ag(e.api.events.JWPLAYER_COMPONENT_HIDE);this.resize=Z;var I=function(){d(R,{display:"block"});if(ae){ae=false;O()}};var af=function(){d(R,{display:"none"});if(!ae){J();ae=true}};function K(){if(!ae){J();if(R.style.opacity==1){f.cancelAnimation(R);f.fadeTo(R,0,0.1,1,0)}}}function M(){if(!ae){O();if(R.style.opacity==0){f.cancelAnimation(R);f.fadeTo(R,1,0.1,0,0)}}}function U(){try{W=document.getElementById(H.id);W.addEventListener("mousemove",S)}catch(g){f.log("Could not add mouse listeners to dock: "+g)}}this.hide=af;this.show=I;return this}})(jwplayer);(function(b){b.html5.eventdispatcher=function(e,a){var f=new b.events.eventdispatcher(a);b.utils.extend(this,f);this.sendEvent=function(d,c){if(!b.utils.exists(c)){c={}}b.utils.extend(c,{id:e,version:b.version,type:d});f.sendEvent(d,c)}}})(jwplayer);(function(d){var c=d.utils;d.html5.instream=function(K,af,M,a){var U={controlbarseekable:"always",controlbarpausable:true,controlbarstoppable:true,playlistclickable:true};var Q,ac,X=K,T=af,ai=M,O=a,Y,N,ad,P,am,al,ak,ag,aa,aj=false,ah,an,ae=this;this.load=function(g,f){ao();aj=true;ac=c.extend(U,f);Q=d.html5.playlistitem(g);S();an=document.createElement("div");an.id=ae.id+"_instream_container";O.detachMedia();Y=ak.getDisplayElement();al=T.playlist[T.item];am=X.jwGetState();if(am==d.api.events.state.BUFFERING||am==d.api.events.state.PLAYING){Y.pause()}N=Y.src?Y.src:Y.currentSrc;ad=Y.innerHTML;P=Y.currentTime;aa=new d.html5.display(ae,c.extend({},T.plugins.config.display));aa.setAlternateClickHandler(function(h){if(_fakemodel.state==d.api.events.state.PAUSED){ae.jwInstreamPlay()}else{V(d.api.events.JWPLAYER_INSTREAM_CLICK,h)}});an.appendChild(aa.getDisplayElement());if(!c.isMobile()){ag=new d.html5.controlbar(ae,c.extend({},T.plugins.config.controlbar,{}));if(T.plugins.config.controlbar.position==d.html5.view.positions.OVER){an.appendChild(ag.getDisplayElement())}else{var e=T.plugins.object.controlbar.getDisplayElement().parentNode;e.appendChild(ag.getDisplayElement())}}ai.setupInstream(an,Y);ab();ak.load(Q)};this.jwInstreamDestroy=function(f){if(!aj){return}aj=false;if(am!=d.api.events.state.IDLE){ak.load(al,false);ak.stop(false)}else{ak.stop(true)}ak.detachMedia();ai.destroyInstream();if(ag){try{ag.getDisplayElement().parentNode.removeChild(ag.getDisplayElement())}catch(e){}}V(d.api.events.JWPLAYER_INSTREAM_DESTROYED,{reason:(f?"complete":"destroyed")},true);O.attachMedia();if(am==d.api.events.state.BUFFERING||am==d.api.events.state.PLAYING){Y.play();if(T.playlist[T.item]==al){T.getMedia().seek(P)}}return};this.jwInstreamAddEventListener=function(f,e){ah.addEventListener(f,e)};this.jwInstreamRemoveEventListener=function(f,e){ah.removeEventListener(f,e)};this.jwInstreamPlay=function(){if(!aj){return}ak.play(true)};this.jwInstreamPause=function(){if(!aj){return}ak.pause(true)};this.jwInstreamSeek=function(e){if(!aj){return}ak.seek(e)};this.jwInstreamGetState=function(){if(!aj){return undefined}return _fakemodel.state};this.jwInstreamGetPosition=function(){if(!aj){return undefined}return _fakemodel.position};this.jwInstreamGetDuration=function(){if(!aj){return undefined}return _fakemodel.duration};this.playlistClickable=function(){return(!aj||ac.playlistclickable.toString().toLowerCase()=="true")};function W(){_fakemodel=new d.html5.model(this,T.getMedia()?T.getMedia().getDisplayElement():T.container,T);ah=new d.html5.eventdispatcher();X.jwAddEventListener(d.api.events.JWPLAYER_RESIZE,ab);X.jwAddEventListener(d.api.events.JWPLAYER_FULLSCREEN,ab)}function ao(){_fakemodel.setMute(T.mute);_fakemodel.setVolume(T.volume)}function S(){if(!ak){ak=new d.html5.mediavideo(_fakemodel,T.getMedia()?T.getMedia().getDisplayElement():T.container);ak.addGlobalListener(L);ak.addEventListener(d.api.events.JWPLAYER_MEDIA_META,b);ak.addEventListener(d.api.events.JWPLAYER_MEDIA_COMPLETE,R);ak.addEventListener(d.api.events.JWPLAYER_MEDIA_BUFFER_FULL,Z)}ak.attachMedia()}function L(e){if(aj){V(e.type,e)}}function Z(e){if(aj){ak.play()}}function R(e){if(aj){setTimeout(function(){ae.jwInstreamDestroy(true)},10)}}function b(e){if(e.metadata.width&&e.metadata.height){ai.resizeMedia()}}function V(f,e,g){if(aj||g){ah.sendEvent(f,e)}}function ab(){var f=T.plugins.object.display.getDisplayElement().style;if(ag){var e=T.plugins.object.controlbar.getDisplayElement().style;ag.resize(c.parseDimension(f.width),c.parseDimension(f.height));_css(ag.getDisplayElement(),c.extend({},e,{zIndex:1001,opacity:1}))}if(aa){aa.resize(c.parseDimension(f.width),c.parseDimension(f.height));_css(aa.getDisplayElement(),c.extend({},f,{zIndex:1000}))}if(ai){ai.resizeMedia()}}this.jwPlay=function(e){if(ac.controlbarpausable.toString().toLowerCase()=="true"){this.jwInstreamPlay()}};this.jwPause=function(e){if(ac.controlbarpausable.toString().toLowerCase()=="true"){this.jwInstreamPause()}};this.jwStop=function(){if(ac.controlbarstoppable.toString().toLowerCase()=="true"){this.jwInstreamDestroy();X.jwStop()}};this.jwSeek=function(e){switch(ac.controlbarseekable.toLowerCase()){case"always":this.jwInstreamSeek(e);break;case"backwards":if(_fakemodel.position>e){this.jwInstreamSeek(e)}break}};this.jwGetPosition=function(){};this.jwGetDuration=function(){};this.jwGetWidth=X.jwGetWidth;this.jwGetHeight=X.jwGetHeight;this.jwGetFullscreen=X.jwGetFullscreen;this.jwSetFullscreen=X.jwSetFullscreen;this.jwGetVolume=function(){return T.volume};this.jwSetVolume=function(e){ak.volume(e);X.jwSetVolume(e)};this.jwGetMute=function(){return T.mute};this.jwSetMute=function(e){ak.mute(e);X.jwSetMute(e)};this.jwGetState=function(){return _fakemodel.state};this.jwGetPlaylist=function(){return[Q]};this.jwGetPlaylistIndex=function(){return 0};this.jwGetStretching=function(){return T.config.stretching};this.jwAddEventListener=function(e,f){ah.addEventListener(e,f)};this.jwRemoveEventListener=function(e,f){ah.removeEventListener(e,f)};this.skin=X.skin;this.id=X.id+"_instream";W();return this}})(jwplayer);(function(d){var c={prefix:"",file:"",link:"",linktarget:"_top",margin:8,out:0.5,over:1,timeout:5,hide:true,position:"bottom-left"};_css=d.utils.css;d.html5.logo=function(C,w){var z=C;var a;var L;var b;var H=false;I();function I(){B();z.jwAddEventListener(d.api.events.JWPLAYER_PLAYER_STATE,G);M();E()}function B(){if(c.prefix){var f=C.version.split(/\W/).splice(0,2).join("/");if(c.prefix.indexOf(f)<0){c.prefix+=f+"/"}}if(w.position==d.html5.view.positions.OVER){w.position=c.position}try{if(window.location.href.indexOf("https")==0){c.prefix=c.prefix.replace("http://l.longtailvideo.com","https://securel.longtailvideo.com")}}catch(e){}L=d.utils.extend({},c,w)}function M(){b=document.createElement("img");b.id=z.id+"_jwplayer_logo";b.style.display="none";b.onload=function(e){_css(b,F());A()};if(!L.file){return}if(L.file.indexOf("/")>=0){b.src=L.file}else{b.src=L.prefix+L.file}}if(!L.file){return}this.resize=function(e,f){};this.getDisplayElement=function(){return b};function E(){if(L.link){b.onmouseover=J;b.onmouseout=A;b.onclick=v}else{this.mouseEnabled=false}}function v(e){if(typeof e!="undefined"){e.stopPropagation()}if(!H){return}z.jwPause();z.jwSetFullscreen(false);if(L.link){window.open(L.link,L.linktarget)}return}function A(e){if(L.link&&H){b.style.opacity=L.out}return}function J(e){if(H){b.style.opacity=L.over}return}function F(){var e={textDecoration:"none",position:"absolute",cursor:"pointer"};e.display=(L.hide.toString()=="true"&&!H)?"none":"block";var f=L.position.toLowerCase().split("-");for(var g in f){e[f[g]]=parseInt(L.margin)}return e}function D(){if(L.hide.toString()=="true"){b.style.display="block";b.style.opacity=0;d.utils.fadeTo(b,L.out,0.1,parseFloat(b.style.opacity));a=setTimeout(function(){K()},L.timeout*1000)}H=true}function K(){H=false;if(L.hide.toString()=="true"){d.utils.fadeTo(b,0,0.1,parseFloat(b.style.opacity))}}function G(e){if(e.newstate==d.api.events.state.BUFFERING){clearTimeout(a);D()}}return this}})(jwplayer);(function(h){var n={ended:h.api.events.state.IDLE,playing:h.api.events.state.PLAYING,pause:h.api.events.state.PAUSED,buffering:h.api.events.state.BUFFERING};var l=h.utils;var j=l.isMobile();var k,m;var o={};h.html5.mediavideo=function(aD,ae){var aa={abort:am,canplay:aw,canplaythrough:aw,durationchange:aq,emptied:am,ended:aw,error:ax,loadeddata:aq,loadedmetadata:aq,loadstart:aw,pause:aw,play:am,playing:aw,progress:ag,ratechange:am,seeked:aw,seeking:aw,stalled:aw,suspend:aw,timeupdate:g,volumechange:aA,waiting:aw,canshowcurrentframe:am,dataunavailable:am,empty:am,load:aE,loadedfirstframe:am,webkitfullscreenchange:aB};var ai={};var Z=new h.html5.eventdispatcher();l.extend(this,Z);var aC=aD,aj=ae,az,aF,ah,a,af,X,Y=false,ar=false,an=false,ab,ad,d;c();this.load=function(r,q){if(typeof q=="undefined"){q=true}if(!ar){return}a=r;an=(a.duration>0);aC.duration=a.duration;l.empty(az);az.style.display="block";az.style.opacity=1;if(k&&m){az.style.width=k;az.style.height=m;k=_previousHieght=0}d=0;av(r.levels);if(r.levels&&r.levels.length>0){if(r.levels.length==1||l.isIOS()){az.src=r.levels[0].file}else{if(az.src){az.removeAttribute("src")}for(var s=0;s<r.levels.length;s++){var p=az.ownerDocument.createElement("source");p.src=r.levels[s].file;az.appendChild(p);d++}}}else{az.src=r.file}az.volume=aC.volume/100;az.muted=aC.mute;if(j){e()}ab=ad=ah=false;aC.buffer=0;if(!l.exists(r.start)){r.start=0}X=(r.start>0)?r.start:-1;at(h.api.events.JWPLAYER_MEDIA_LOADED);if((!j&&r.levels.length==1)||!Y){az.load()}Y=false;if(q){ao(h.api.events.state.BUFFERING);at(h.api.events.JWPLAYER_MEDIA_BUFFER,{bufferPercent:0});ak()}if(az.videoWidth>0&&az.videoHeight>0){aq()}};this.play=function(){if(!ar){return}ak();if(ad){ao(h.api.events.state.PLAYING)}else{az.load();ao(h.api.events.state.BUFFERING)}az.play()};this.pause=function(){if(!ar){return}az.pause();ao(h.api.events.state.PAUSED)};this.seek=function(p){if(!ar){return}if(!ah&&az.readyState>0){if(!(aC.duration<=0||isNaN(aC.duration))&&!(aC.position<=0||isNaN(aC.position))){az.currentTime=p;az.play()}}else{X=p}};var al=this.stop=function(s){if(!ar){return}if(!l.exists(s)){s=true}au();if(s){ad=false;var r=navigator.userAgent;if(az.webkitSupportsFullscreen){try{az.webkitExitFullscreen()}catch(q){}}az.style.opacity=0;ap();if(l.isIE()){az.src=""}else{az.removeAttribute("src")}l.empty(az);az.load();Y=true}if(l.isIPod()){k=az.style.width;m=az.style.height;az.style.width=0;az.style.height=0}else{if(l.isIPad()){az.style.display="none";try{az.webkitExitFullscreen()}catch(p){}}}ao(h.api.events.state.IDLE)};this.fullscreen=function(p){if(p===true){this.resize("100%","100%")}else{this.resize(aC.config.width,aC.config.height)}};this.resize=function(p,q){};this.volume=function(p){if(!j){az.volume=p/100;at(h.api.events.JWPLAYER_MEDIA_VOLUME,{volume:(p/100)})}};this.mute=function(p){if(!j){az.muted=p;at(h.api.events.JWPLAYER_MEDIA_MUTE,{mute:p})}};this.getDisplayElement=function(){return az};this.hasChrome=function(){return j&&(aF==h.api.events.state.PLAYING)};this.detachMedia=function(){ar=false;return this.getDisplayElement()};this.attachMedia=function(){ar=true};this.destroy=function(){if(az&&az.parentNode){au();for(var p in aa){az.removeEventListener(p,ac(p,aa[p]),true)}l.empty(az);aj=az.parentNode;az.parentNode.removeChild(az);delete o[aC.id];az=null}};function ac(p,q){if(ai[p]){return ai[p]}else{ai[p]=function(r){if(l.exists(r.target.parentNode)){q(r)}};return ai[p]}}function c(){aF=h.api.events.state.IDLE;ar=true;az=ay();az.setAttribute("x-webkit-airplay","allow");if(aj.parentNode){az.id=aj.id;aj.parentNode.replaceChild(az,aj)}}function ay(){var q=o[aC.id];if(!q){if(aj.tagName.toLowerCase()=="video"){q=aj}else{q=document.createElement("video")}o[aC.id]=q;if(!q.id){q.id=aj.id}}for(var p in aa){q.addEventListener(p,ac(p,aa[p]),true)}return q}function ao(q){if(q==h.api.events.state.PAUSED&&aF==h.api.events.state.IDLE){return}if(j){switch(q){case h.api.events.state.PLAYING:e();break;case h.api.events.state.BUFFERING:case h.api.events.state.PAUSED:ap();break}}if(aF!=q){var p=aF;aC.state=aF=q;at(h.api.events.JWPLAYER_PLAYER_STATE,{oldstate:p,newstate:q})}}function am(p){}function aA(q){var p=Math.round(az.volume*100);at(h.api.events.JWPLAYER_MEDIA_VOLUME,{volume:p},true);at(h.api.events.JWPLAYER_MEDIA_MUTE,{mute:az.muted},true)}function ag(p){if(!ar){return}var q;if(l.exists(p)&&p.lengthComputable&&p.total){q=p.loaded/p.total*100}else{if(l.exists(az.buffered)&&(az.buffered.length>0)){var r=az.buffered.length-1;if(r>=0){q=az.buffered.end(r)/az.duration*100}}}if(l.useNativeFullscreen()&&l.exists(az.webkitDisplayingFullscreen)){if(aC.fullscreen!=az.webkitDisplayingFullscreen){at(h.api.events.JWPLAYER_FULLSCREEN,{fullscreen:az.webkitDisplayingFullscreen},true)}}if(ad===false&&aF==h.api.events.state.BUFFERING){at(h.api.events.JWPLAYER_MEDIA_BUFFER_FULL);ad=true}if(!ab){if(q==100){ab=true}if(l.exists(q)&&(q>aC.buffer)){aC.buffer=Math.round(q);at(h.api.events.JWPLAYER_MEDIA_BUFFER,{bufferPercent:Math.round(q)})}}}function g(p){if(!ar){return}if(l.exists(p)&&l.exists(p.target)){if(an>0){if(!isNaN(p.target.duration)&&(isNaN(aC.duration)||aC.duration<1)){if(p.target.duration==Infinity){aC.duration=0}else{aC.duration=Math.round(p.target.duration*10)/10}}}if(!ah&&az.readyState>0){ao(h.api.events.state.PLAYING)}if(aF==h.api.events.state.PLAYING){if(az.readyState>0&&(X>-1||!ah)){ah=true;try{if(az.currentTime!=X&&X>-1){az.currentTime=X;X=-1}}catch(q){}az.volume=aC.volume/100;az.muted=aC.mute}aC.position=aC.duration>0?(Math.round(p.target.currentTime*10)/10):0;at(h.api.events.JWPLAYER_MEDIA_TIME,{position:aC.position,duration:aC.duration});if(aC.position>=aC.duration&&(aC.position>0||aC.duration>0)){f();return}}}ag(p)}function aE(p){}function aw(p){if(!ar){return}if(k&&m){az.style.width=k;az.style.height=m;k=_previousHieght=0}if(n[p.type]){if(p.type=="ended"){f()}else{ao(n[p.type])}}}function aq(q){if(!ar){return}var r=Math.round(az.duration*10)/10;var p={height:az.videoHeight,width:az.videoWidth,duration:r};if(!an){if((aC.duration<r||isNaN(aC.duration))&&az.duration!=Infinity){aC.duration=r}}at(h.api.events.JWPLAYER_MEDIA_META,{metadata:p})}function ax(p){if(!ar){return}if(aF==h.api.events.state.IDLE){return}var q="There was an error: ";if((p.target.error&&p.target.tagName.toLowerCase()=="video")||p.target.parentNode.error&&p.target.parentNode.tagName.toLowerCase()=="video"){var r=!l.exists(p.target.error)?p.target.parentNode.error:p.target.error;switch(r.code){case r.MEDIA_ERR_ABORTED:l.log("User aborted the video playback.");return;case r.MEDIA_ERR_NETWORK:q="A network error caused the video download to fail part-way: ";break;case r.MEDIA_ERR_DECODE:q="The video playback was aborted due to a corruption problem or because the video used features your browser did not support: ";break;case r.MEDIA_ERR_SRC_NOT_SUPPORTED:q="The video could not be loaded, either because the server or network failed or because the format is not supported: ";break;default:q="An unknown error occurred: ";break}}else{if(p.target.tagName.toLowerCase()=="source"){d--;if(d>0){return}if(l.userAgentMatch(/firefox/i)){l.log("The video could not be loaded, either because the server or network failed or because the format is not supported.");al(false);return}else{q="The video could not be loaded, either because the server or network failed or because the format is not supported: "}}else{l.log("An unknown error occurred.  Continuing...");return}}al(false);q+=b();_error=true;at(h.api.events.JWPLAYER_ERROR,{message:q});return}function b(){var q="";for(var r in a.levels){var s=a.levels[r];var p=aj.ownerDocument.createElement("source");q+=h.utils.getAbsolutePath(s.file);if(r<(a.levels.length-1)){q+=", "}}return q}function ak(){if(!l.exists(af)){af=setInterval(function(){ag()},100)}}function au(){clearInterval(af);af=null}function f(){if(aF==h.api.events.state.PLAYING){al(false);at(h.api.events.JWPLAYER_MEDIA_BEFORECOMPLETE);at(h.api.events.JWPLAYER_MEDIA_COMPLETE)}}function aB(p){if(l.exists(az.webkitDisplayingFullscreen)){if(aC.fullscreen&&!az.webkitDisplayingFullscreen){at(h.api.events.JWPLAYER_FULLSCREEN,{fullscreen:false},true)}}}function av(q){if(q.length>0&&l.userAgentMatch(/Safari/i)&&!l.userAgentMatch(/Chrome/i)){var s=-1;for(var r=0;r<q.length;r++){switch(l.extension(q[r].file)){case"mp4":if(s<0){s=r}break;case"webm":q.splice(r,1);break}}if(s>0){var p=q.splice(s,1)[0];q.unshift(p)}}}function e(){setTimeout(function(){az.setAttribute("controls","controls")},100)}function ap(){setTimeout(function(){az.removeAttribute("controls")},250)}function at(r,p,q){if(ar||q){if(p){Z.sendEvent(r,p)}else{Z.sendEvent(r)}}}}})(jwplayer);(function(e){var f={ended:e.api.events.state.IDLE,playing:e.api.events.state.PLAYING,pause:e.api.events.state.PAUSED,buffering:e.api.events.state.BUFFERING};var d=e.utils.css;e.html5.mediayoutube=function(r,w){var v=new e.html5.eventdispatcher();e.utils.extend(this,v);var p=r;var s=document.getElementById(w.id);var u=e.api.events.state.IDLE;var b,c;function q(h){if(u!=h){var g=u;p.state=h;u=h;v.sendEvent(e.api.events.JWPLAYER_PLAYER_STATE,{oldstate:g,newstate:h})}}this.getDisplayElement=this.detachMedia=function(){return s};this.attachMedia=function(){};this.play=function(){if(u==e.api.events.state.IDLE){v.sendEvent(e.api.events.JWPLAYER_MEDIA_BUFFER,{bufferPercent:100});v.sendEvent(e.api.events.JWPLAYER_MEDIA_BUFFER_FULL);q(e.api.events.state.PLAYING)}else{if(u==e.api.events.state.PAUSED){q(e.api.events.state.PLAYING)}}};this.pause=function(){q(e.api.events.state.PAUSED)};this.seek=function(g){};this.stop=function(g){if(!_utils.exists(g)){g=true}p.position=0;q(e.api.events.state.IDLE);if(g){d(s,{display:"none"})}};this.volume=function(g){p.setVolume(g);v.sendEvent(e.api.events.JWPLAYER_MEDIA_VOLUME,{volume:Math.round(g)})};this.mute=function(g){s.muted=g;v.sendEvent(e.api.events.JWPLAYER_MEDIA_MUTE,{mute:g})};this.resize=function(g,h){if(g*h>0&&b){b.width=c.width=g;b.height=c.height=h}};this.fullscreen=function(g){if(g===true){this.resize("100%","100%")}else{this.resize(p.config.width,p.config.height)}};this.load=function(g){a(g);d(b,{display:"block"});q(e.api.events.state.BUFFERING);v.sendEvent(e.api.events.JWPLAYER_MEDIA_BUFFER,{bufferPercent:0});v.sendEvent(e.api.events.JWPLAYER_MEDIA_LOADED);this.play()};this.hasChrome=function(){return(u!=e.api.events.state.IDLE)};function a(g){var k=g.levels[0].file;k=["http://www.youtube.com/v/",z(k),"&amp;hl=en_US&amp;fs=1&autoplay=1"].join("");b=document.createElement("object");b.id=s.id;b.style.position="absolute";var h={movie:k,allowfullscreen:"true",allowscriptaccess:"always"};for(var n in h){var j=document.createElement("param");j.name=n;j.value=h[n];b.appendChild(j)}c=document.createElement("embed");b.appendChild(c);var m={src:k,type:"application/x-shockwave-flash",allowfullscreen:"true",allowscriptaccess:"always",width:b.width,height:b.height};for(var l in m){c.setAttribute(l,m[l])}b.appendChild(c);b.style.zIndex=2147483000;if(s!=b&&s.parentNode){s.parentNode.replaceChild(b,s)}s=b}function z(j){var k=j.split(/\?|\#\!/);var g="";for(var h=0;h<k.length;h++){if(k[h].substr(0,2)=="v="){g=k[h].substr(2)}}if(g==""){if(j.indexOf("/v/")>=0){g=j.substr(j.indexOf("/v/")+3)}else{if(j.indexOf("youtu.be")>=0){g=j.substr(j.indexOf("youtu.be/")+9)}else{g=j}}}if(g.indexOf("?")>-1){g=g.substr(0,g.indexOf("?"))}if(g.indexOf("&")>-1){g=g.substr(0,g.indexOf("&"))}return g}this.embed=c;return this}})(jwplayer);(function(jwplayer){var _configurableStateVariables=["width","height","start","duration","volume","mute","fullscreen","item","plugins","stretching"];var _utils=jwplayer.utils;jwplayer.html5.model=function(api,container,options){var _api=api;var _container=container;var _cookies=_utils.getCookies();var _model={id:_container.id,playlist:[],state:jwplayer.api.events.state.IDLE,position:0,buffer:0,container:_container,config:{width:480,height:320,item:-1,skin:undefined,file:undefined,image:undefined,start:0,duration:0,bufferlength:5,volume:_cookies.volume?_cookies.volume:90,mute:_cookies.mute&&_cookies.mute.toString().toLowerCase()=="true"?true:false,fullscreen:false,repeat:"",stretching:jwplayer.utils.stretching.UNIFORM,autostart:false,debug:undefined,screencolor:undefined}};var _media;var _eventDispatcher=new jwplayer.html5.eventdispatcher();var _components=["display","logo","controlbar","playlist","dock"];jwplayer.utils.extend(_model,_eventDispatcher);for(var option in options){if(typeof options[option]=="string"){var type=/color$/.test(option)?"color":null;options[option]=jwplayer.utils.typechecker(options[option],type)}var config=_model.config;var path=option.split(".");for(var edge in path){if(edge==path.length-1){config[path[edge]]=options[option]}else{if(!jwplayer.utils.exists(config[path[edge]])){config[path[edge]]={}}config=config[path[edge]]}}}for(var index in _configurableStateVariables){var configurableStateVariable=_configurableStateVariables[index];_model[configurableStateVariable]=_model.config[configurableStateVariable]}var pluginorder=_components.concat([]);if(jwplayer.utils.exists(_model.plugins)){if(typeof _model.plugins=="string"){var userplugins=_model.plugins.split(",");for(var userplugin in userplugins){if(typeof userplugins[userplugin]=="string"){pluginorder.push(userplugins[userplugin].replace(/^\s+|\s+$/g,""))}}}}if(jwplayer.utils.isMobile()){pluginorder=["display","logo","dock","playlist"];if(!jwplayer.utils.exists(_model.config.repeat)){_model.config.repeat="list"}}else{if(_model.config.chromeless){pluginorder=["logo","dock","playlist"];if(!jwplayer.utils.exists(_model.config.repeat)){_model.config.repeat="list"}}}_model.plugins={order:pluginorder,config:{},object:{}};if(typeof _model.config.components!="undefined"){for(var component in _model.config.components){_model.plugins.config[component]=_model.config.components[component]}}var playlistVisible=false;for(var pluginIndex in _model.plugins.order){var pluginName=_model.plugins.order[pluginIndex];var pluginConfig=!jwplayer.utils.exists(_model.plugins.config[pluginName])?{}:_model.plugins.config[pluginName];_model.plugins.config[pluginName]=!jwplayer.utils.exists(_model.plugins.config[pluginName])?pluginConfig:jwplayer.utils.extend(_model.plugins.config[pluginName],pluginConfig);if(!jwplayer.utils.exists(_model.plugins.config[pluginName].position)){if(pluginName=="playlist"){_model.plugins.config[pluginName].position=jwplayer.html5.view.positions.NONE}else{_model.plugins.config[pluginName].position=jwplayer.html5.view.positions.OVER}}else{if(pluginName=="playlist"){playlistVisible=true}_model.plugins.config[pluginName].position=_model.plugins.config[pluginName].position.toString().toUpperCase()}}if(_model.plugins.config.controlbar&&playlistVisible){_model.plugins.config.controlbar.hideplaylistcontrols=true}if(typeof _model.plugins.config.dock!="undefined"){if(typeof _model.plugins.config.dock!="object"){var position=_model.plugins.config.dock.toString().toUpperCase();_model.plugins.config.dock={position:position}}if(typeof _model.plugins.config.dock.position!="undefined"){_model.plugins.config.dock.align=_model.plugins.config.dock.position;_model.plugins.config.dock.position=jwplayer.html5.view.positions.OVER}if(typeof _model.plugins.config.dock.idlehide=="undefined"){try{_model.plugins.config.dock.idlehide=_model.plugins.config.controlbar.idlehide}catch(e){}}}function _loadExternal(playlistfile){var loader=new jwplayer.html5.playlistloader();loader.addEventListener(jwplayer.api.events.JWPLAYER_PLAYLIST_LOADED,function(evt){_model.playlist=new jwplayer.html5.playlist(evt);_loadComplete(true)});loader.addEventListener(jwplayer.api.events.JWPLAYER_ERROR,function(evt){_model.playlist=new jwplayer.html5.playlist({playlist:[]});_loadComplete(false)});loader.load(playlistfile)}function _loadComplete(){if(_model.config.shuffle){_model.item=_getShuffleItem()}else{if(_model.config.item>=_model.playlist.length){_model.config.item=_model.playlist.length-1}else{if(_model.config.item<0){_model.config.item=0}}_model.item=_model.config.item}_model.position=0;_model.duration=_model.playlist.length>0?_model.playlist[_model.item].duration:0;_eventDispatcher.sendEvent(jwplayer.api.events.JWPLAYER_PLAYLIST_LOADED,{playlist:_model.playlist});_eventDispatcher.sendEvent(jwplayer.api.events.JWPLAYER_PLAYLIST_ITEM,{index:_model.item})}_model.loadPlaylist=function(arg){var input;if(typeof arg=="string"){if(arg.indexOf("[")==0||arg.indexOf("{")=="0"){try{input=eval(arg)}catch(err){input=arg}}else{input=arg}}else{input=arg}var config;switch(jwplayer.utils.typeOf(input)){case"object":config=input;break;case"array":config={playlist:input};break;default:config={file:input};break}_model.playlist=new jwplayer.html5.playlist(config);_model.item=_model.config.item>=0?_model.config.item:0;if(!_model.playlist[0].provider&&_model.playlist[0].file){_loadExternal(_model.playlist[0].file)}else{_loadComplete()}};function _getShuffleItem(){var result=null;if(_model.playlist.length>1){while(!jwplayer.utils.exists(result)){result=Math.floor(Math.random()*_model.playlist.length);if(result==_model.item){result=null}}}else{result=0}return result}function forward(evt){switch(evt.type){case jwplayer.api.events.JWPLAYER_MEDIA_LOADED:_container=_media.getDisplayElement();break;case jwplayer.api.events.JWPLAYER_MEDIA_MUTE:this.mute=evt.mute;break;case jwplayer.api.events.JWPLAYER_MEDIA_VOLUME:this.volume=evt.volume;break}_eventDispatcher.sendEvent(evt.type,evt)}var _mediaProviders={};_model.setActiveMediaProvider=function(playlistItem){if(playlistItem.provider=="audio"){playlistItem.provider="sound"}var provider=playlistItem.provider;var current=_media?_media.getDisplayElement():null;if(provider=="sound"||provider=="http"||provider==""){provider="video"}if(!jwplayer.utils.exists(_mediaProviders[provider])){switch(provider){case"video":_media=new jwplayer.html5.mediavideo(_model,current?current:_container);break;case"youtube":_media=new jwplayer.html5.mediayoutube(_model,current?current:_container);break}if(!jwplayer.utils.exists(_media)){return false}_media.addGlobalListener(forward);_mediaProviders[provider]=_media}else{if(_media!=_mediaProviders[provider]){if(_media){_media.stop()}_media=_mediaProviders[provider]}}return true};_model.getMedia=function(){return _media};_model.seek=function(pos){_eventDispatcher.sendEvent(jwplayer.api.events.JWPLAYER_MEDIA_SEEK,{position:_model.position,offset:pos});return _media.seek(pos)};_model.setVolume=function(newVol){_utils.saveCookie("volume",newVol);_model.volume=newVol};_model.setMute=function(state){_utils.saveCookie("mute",state);_model.mute=state};_model.setupPlugins=function(){if(!jwplayer.utils.exists(_model.plugins)||!jwplayer.utils.exists(_model.plugins.order)||_model.plugins.order.length==0){jwplayer.utils.log("No plugins to set up");return _model}for(var i=0;i<_model.plugins.order.length;i++){try{var pluginName=_model.plugins.order[i];if(jwplayer.utils.exists(jwplayer.html5[pluginName])){if(pluginName=="playlist"){_model.plugins.object[pluginName]=new jwplayer.html5.playlistcomponent(_api,_model.plugins.config[pluginName])}else{_model.plugins.object[pluginName]=new jwplayer.html5[pluginName](_api,_model.plugins.config[pluginName])}}else{_model.plugins.order.splice(plugin,plugin+1)}if(typeof _model.plugins.object[pluginName].addGlobalListener=="function"){_model.plugins.object[pluginName].addGlobalListener(forward)}}catch(err){jwplayer.utils.log("Could not setup "+pluginName)}}};return _model}})(jwplayer);(function(b){b.html5.playlist=function(a){var e=[];if(a.playlist&&a.playlist instanceof Array&&a.playlist.length>0){for(var f in a.playlist){if(!isNaN(parseInt(f))){e.push(new b.html5.playlistitem(a.playlist[f]))}}}else{e.push(new b.html5.playlistitem(a))}return e}})(jwplayer);(function(e){var f={size:180,position:e.html5.view.positions.NONE,itemheight:60,thumbs:true,fontcolor:"#000000",overcolor:"",activecolor:"",backgroundcolor:"#f8f8f8",font:"_sans",fontsize:"",fontstyle:"",fontweight:""};var d={_sans:"Arial, Helvetica, sans-serif",_serif:"Times, Times New Roman, serif",_typewriter:"Courier New, Courier, monospace"};_utils=e.utils;_css=_utils.css;_hide=function(a){_css(a,{display:"none"})};_show=function(a){_css(a,{display:"block"})};e.html5.playlistcomponent=function(L,K){var c=L;var Z=e.utils.extend({},f,c.skin.getComponentSettings("playlist"),K);if(Z.position==e.html5.view.positions.NONE||typeof e.html5.view.positions[Z.position]=="undefined"){return}var b;var T;var J;var aa;var X;var Y;var U=-1;var W={background:undefined,item:undefined,itemOver:undefined,itemImage:undefined,itemActive:undefined};this.getDisplayElement=function(){return b};this.resize=function(g,j){T=g;J=j;if(c.jwGetFullscreen()){_hide(b)}else{var h={display:"block",width:T,height:J};_css(b,h)}};this.show=function(){_show(b)};this.hide=function(){_hide(b)};function V(){b=document.createElement("div");b.id=c.id+"_jwplayer_playlistcomponent";b.style.overflow="hidden";switch(Z.position){case e.html5.view.positions.RIGHT:case e.html5.view.positions.LEFT:b.style.width=Z.size+"px";break;case e.html5.view.positions.TOP:case e.html5.view.positions.BOTTOM:b.style.height=Z.size+"px";break}M();if(W.item){Z.itemheight=W.item.height}b.style.backgroundColor="#C6C6C6";c.jwAddEventListener(e.api.events.JWPLAYER_PLAYLIST_LOADED,I);c.jwAddEventListener(e.api.events.JWPLAYER_PLAYLIST_ITEM,F);c.jwAddEventListener(e.api.events.JWPLAYER_PLAYER_STATE,S)}function P(){var g=document.createElement("ul");_css(g,{width:b.style.width,minWidth:b.style.width,height:b.style.height,backgroundColor:Z.backgroundcolor,backgroundImage:W.background?"url("+W.background.src+")":"",color:Z.fontcolor,listStyle:"none",margin:0,padding:0,fontFamily:d[Z.font]?d[Z.font]:d._sans,fontSize:(Z.fontsize?Z.fontsize:11)+"px",fontStyle:Z.fontstyle,fontWeight:Z.fontweight,overflowY:"auto"});return g}function a(g){return function(){var k=Y.getElementsByClassName("item")[g];var j=Z.fontcolor;var h=W.item?"url("+W.item.src+")":"";if(g==c.jwGetPlaylistIndex()){if(Z.activecolor!==""){j=Z.activecolor}if(W.itemActive){h="url("+W.itemActive.src+")"}}_css(k,{color:Z.overcolor!==""?Z.overcolor:j,backgroundImage:W.itemOver?"url("+W.itemOver.src+")":h})}}function Q(g){return function(){var k=Y.getElementsByClassName("item")[g];var j=Z.fontcolor;var h=W.item?"url("+W.item.src+")":"";if(g==c.jwGetPlaylistIndex()){if(Z.activecolor!==""){j=Z.activecolor}if(W.itemActive){h="url("+W.itemActive.src+")"}}_css(k,{color:j,backgroundImage:h})}}function N(o){var g=aa[o];var h=document.createElement("li");h.className="item";_css(h,{height:Z.itemheight,display:"block",cursor:"pointer",backgroundImage:W.item?"url("+W.item.src+")":"",backgroundSize:"100% "+Z.itemheight+"px"});h.onmouseover=a(o);h.onmouseout=Q(o);var n=document.createElement("div");var r=new Image();var m=0;var l=0;var k=0;if(E()&&(g.image||g["playlist.image"]||W.itemImage)){r.className="image";if(W.itemImage){m=(Z.itemheight-W.itemImage.height)/2;l=W.itemImage.width;k=W.itemImage.height}else{l=Z.itemheight*4/3;k=Z.itemheight}_css(n,{height:k,width:l,"float":"left",styleFloat:"left",cssFloat:"left",margin:"0 5px 0 0",background:"black",overflow:"hidden",margin:m+"px",position:"relative"});_css(r,{position:"relative"});n.appendChild(r);r.onload=function(){e.utils.stretch(e.utils.stretching.FILL,r,l,k,this.naturalWidth,this.naturalHeight)};if(g["playlist.image"]){r.src=g["playlist.image"]}else{if(g.image){r.src=g.image}else{if(W.itemImage){r.src=W.itemImage.src}}}h.appendChild(n)}var s=T-l-m*2;if(J<Z.itemheight*aa.length){s-=15}var u=document.createElement("div");_css(u,{position:"relative",height:"100%",overflow:"hidden"});var q=document.createElement("span");if(g.duration>0){q.className="duration";_css(q,{fontSize:(Z.fontsize?Z.fontsize:11)+"px",fontWeight:(Z.fontweight?Z.fontweight:"bold"),width:"40px",height:Z.fontsize?Z.fontsize+10:20,lineHeight:24,"float":"right",styleFloat:"right",cssFloat:"right"});q.innerHTML=_utils.timeFormat(g.duration);u.appendChild(q)}var j=document.createElement("span");j.className="title";_css(j,{padding:"5px 5px 0 "+(m?0:"5px"),height:Z.fontsize?Z.fontsize+10:20,lineHeight:Z.fontsize?Z.fontsize+10:20,overflow:"hidden","float":"left",styleFloat:"left",cssFloat:"left",width:((g.duration>0)?s-50:s)-10+"px",fontSize:(Z.fontsize?Z.fontsize:13)+"px",fontWeight:(Z.fontweight?Z.fontweight:"bold")});j.innerHTML=g?g.title:"";u.appendChild(j);if(g.description){var p=document.createElement("span");p.className="description";_css(p,{display:"block","float":"left",styleFloat:"left",cssFloat:"left",margin:0,paddingLeft:j.style.paddingLeft,paddingRight:j.style.paddingRight,lineHeight:(Z.fontsize?Z.fontsize+4:16)+"px",overflow:"hidden",position:"relative"});p.innerHTML=g.description;u.appendChild(p)}h.appendChild(u);return h}function I(j){b.innerHTML="";aa=H();if(!aa){return}items=[];Y=P();for(var h=0;h<aa.length;h++){var k=N(h);k.onclick=O(h);Y.appendChild(k);items.push(k)}U=c.jwGetPlaylistIndex();Q(U)();b.appendChild(Y);if(_utils.isIOS()&&window.iScroll){Y.style.height=Z.itemheight*aa.length+"px";var g=new iScroll(b.id)}}function H(){var h=c.jwGetPlaylist();var g=[];for(var j=0;j<h.length;j++){if(!h[j]["ova.hidden"]){g.push(h[j])}}return g}function O(g){return function(){c.jwPlaylistItem(g);c.jwPlay(true)}}function R(){Y.scrollTop=c.jwGetPlaylistIndex()*Z.itemheight}function E(){return Z.thumbs.toString().toLowerCase()=="true"}function F(g){if(U>=0){Q(U)();U=g.index}Q(g.index)();R()}function S(){if(Z.position==e.html5.view.positions.OVER){switch(c.jwGetState()){case e.api.events.state.IDLE:_show(b);break;default:_hide(b);break}}}function M(){for(var g in W){W[g]=G(g)}}function G(g){return c.skin.getSkinElement("playlist",g)}V();return this}})(jwplayer);(function(c){c.html5.playlistitem=function(b){var a={author:"",date:"",description:"",image:"",link:"",mediaid:"",tags:"",title:"",provider:"",file:"",streamer:"",duration:-1,start:0,currentLevel:-1,levels:[]};var f=c.utils.extend({},a,b);if(f.type){f.provider=f.type;delete f.type}if(f.levels.length===0){f.levels[0]=new c.html5.playlistitemlevel(f)}if(!f.provider){f.provider=d(f.levels[0])}else{f.provider=f.provider.toLowerCase()}return f};function d(b){if(c.utils.isYouTube(b.file)){return"youtube"}else{var a=c.utils.extension(b.file);var h;if(a&&c.utils.extensionmap[a]){if(a=="m3u8"){return"video"}h=c.utils.extensionmap[a].html5}else{if(b.type){h=b.type}}if(h){var g=h.split("/")[0];if(g=="audio"){return"sound"}else{if(g=="video"){return g}}}}return""}})(jwplayer);(function(b){b.html5.playlistitemlevel=function(a){var e={file:"",streamer:"",bitrate:0,width:0};for(var f in e){if(b.utils.exists(a[f])){e[f]=a[f]}}return e}})(jwplayer);(function(b){b.html5.playlistloader=function(){var f=new b.html5.eventdispatcher();b.utils.extend(this,f);this.load=function(c){b.utils.ajax(c,e,a)};function e(d){var j=[];try{var j=b.utils.parsers.rssparser.parse(d.responseXML.firstChild);f.sendEvent(b.api.events.JWPLAYER_PLAYLIST_LOADED,{playlist:new b.html5.playlist({playlist:j})})}catch(c){a("Could not parse the playlist")}}function a(c){f.sendEvent(b.api.events.JWPLAYER_ERROR,{message:c?c:"Could not load playlist an unknown reason."})}}})(jwplayer);(function(b){b.html5.skin=function(){var a={};var d=false;this.load=function(f,c){new b.html5.skinloader(f,function(e){d=true;a=e;c()},function(){new b.html5.skinloader("",function(e){d=true;a=e;c()})})};this.getSkinElement=function(h,g){if(d){try{return a[h].elements[g]}catch(c){b.utils.log("No such skin component / element: ",[h,g])}}return null};this.getComponentSettings=function(c){if(d&&a&&a[c]){return a[c].settings}return null};this.getComponentLayout=function(c){if(d){return a[c].layout}return null}}})(jwplayer);(function(b){b.html5.skinloader=function(G,v,C){var w={};var J=v;var B=C;var H=true;var D;var z=G;var L=false;function A(){if(typeof z!="string"||z===""){I(b.html5.defaultSkin().xml)}else{b.utils.ajax(b.utils.getAbsolutePath(z),function(d){try{if(b.utils.exists(d.responseXML)){I(d.responseXML);return}}catch(c){E()}I(b.html5.defaultSkin().xml)},function(c){I(b.html5.defaultSkin().xml)})}}function I(m){var U=m.getElementsByTagName("component");if(U.length===0){return}for(var p=0;p<U.length;p++){var W=U[p].getAttribute("name");var X={settings:{},elements:{},layout:{}};w[W]=X;var s=U[p].getElementsByTagName("elements")[0].getElementsByTagName("element");for(var S=0;S<s.length;S++){K(s[S],W)}var k=U[p].getElementsByTagName("settings")[0];if(k&&k.childNodes.length>0){var j=k.getElementsByTagName("setting");for(var d=0;d<j.length;d++){var c=j[d].getAttribute("name");var n=j[d].getAttribute("value");var o=/color$/.test(c)?"color":null;w[W].settings[c]=b.utils.typechecker(n,o)}}var h=U[p].getElementsByTagName("layout")[0];if(h&&h.childNodes.length>0){var g=h.getElementsByTagName("group");for(var q=0;q<g.length;q++){var Y=g[q];w[W].layout[Y.getAttribute("position")]={elements:[]};for(var e=0;e<Y.attributes.length;e++){var V=Y.attributes[e];w[W].layout[Y.getAttribute("position")][V.name]=V.value}var f=Y.getElementsByTagName("*");for(var r=0;r<f.length;r++){var T=f[r];w[W].layout[Y.getAttribute("position")].elements.push({type:T.tagName});for(var R=0;R<T.attributes.length;R++){var l=T.attributes[R];w[W].layout[Y.getAttribute("position")].elements[r][l.name]=l.value}if(!b.utils.exists(w[W].layout[Y.getAttribute("position")].elements[r].name)){w[W].layout[Y.getAttribute("position")].elements[r].name=T.tagName}}}}H=false;a()}}function a(){clearInterval(D);if(!L){D=setInterval(function(){u()},100)}}function K(k,d){var e=new Image();var h=k.getAttribute("name");var f=k.getAttribute("src");var c;if(f.indexOf("data:image/png;base64,")===0){c=f}else{var g=b.utils.getAbsolutePath(z);var j=g.substr(0,g.lastIndexOf("/"));c=[j,d,f].join("/")}w[d].elements[h]={height:0,width:0,src:"",ready:false,image:e};e.onload=function(l){F(e,h,d)};e.onerror=function(l){L=true;a();B()};e.src=c}function E(){for(var f in w){var d=w[f];for(var g in d.elements){var c=d.elements[g];var e=c.image;e.onload=null;e.onerror=null;delete c.image;delete d.elements[g]}delete w[f]}}function u(){for(var d in w){if(d!="properties"){for(var c in w[d].elements){if(!w[d].elements[c].ready){return}}}}if(H===false){clearInterval(D);J(w)}}function F(e,c,d){if(w[d]&&w[d].elements[c]){w[d].elements[c].height=e.height;w[d].elements[c].width=e.width;w[d].elements[c].src=e.src;w[d].elements[c].ready=true;a()}else{b.utils.log("Loaded an image for a missing element: "+d+"."+c)}}A()}})(jwplayer);(function(b){b.html5.api=function(E,a){var r={};var A=document.createElement("div");E.parentNode.replaceChild(A,E);A.id=E.id;r.version=b.version;r.id=A.id;var s=new b.html5.model(r,A,a);var v=new b.html5.view(r,A,s);var u=new b.html5.controller(r,A,s,v);r.skin=new b.html5.skin();r.jwPlay=function(c){if(typeof c=="undefined"){B()}else{if(c.toString().toLowerCase()=="true"){u.play()}else{u.pause()}}};r.jwPause=function(c){if(typeof c=="undefined"){B()}else{if(c.toString().toLowerCase()=="true"){u.pause()}else{u.play()}}};function B(){if(s.state==b.api.events.state.PLAYING||s.state==b.api.events.state.BUFFERING){u.pause()}else{u.play()}}r.jwStop=u.stop;r.jwSeek=u.seek;r.jwPlaylistItem=function(c){if(D){if(D.playlistClickable()){D.jwInstreamDestroy();return u.item(c)}}else{return u.item(c)}};r.jwPlaylistNext=u.next;r.jwPlaylistPrev=u.prev;r.jwResize=u.resize;r.jwLoad=u.load;r.jwDetachMedia=u.detachMedia;r.jwAttachMedia=u.attachMedia;function w(c){return function(){return s[c]}}function C(e,c,d){return function(){var f=s.plugins.object[e];if(f&&f[c]&&typeof f[c]=="function"){f[c].apply(f,d)}}}r.jwGetPlaylistIndex=w("item");r.jwGetPosition=w("position");r.jwGetDuration=w("duration");r.jwGetBuffer=w("buffer");r.jwGetWidth=w("width");r.jwGetHeight=w("height");r.jwGetFullscreen=w("fullscreen");r.jwSetFullscreen=u.setFullscreen;r.jwGetVolume=w("volume");r.jwSetVolume=u.setVolume;r.jwGetMute=w("mute");r.jwSetMute=u.setMute;r.jwGetStretching=function(){return s.stretching.toUpperCase()};r.jwGetState=w("state");r.jwGetVersion=function(){return r.version};r.jwGetPlaylist=function(){return s.playlist};r.jwAddEventListener=u.addEventListener;r.jwRemoveEventListener=u.removeEventListener;r.jwSendEvent=u.sendEvent;r.jwDockSetButton=function(c,f,e,d){if(s.plugins.object.dock&&s.plugins.object.dock.setButton){s.plugins.object.dock.setButton(c,f,e,d)}};r.jwControlbarShow=C("controlbar","show");r.jwControlbarHide=C("controlbar","hide");r.jwDockShow=C("dock","show");r.jwDockHide=C("dock","hide");r.jwDisplayShow=C("display","show");r.jwDisplayHide=C("display","hide");var D;r.jwLoadInstream=function(c,d){if(!D){D=new b.html5.instream(r,s,v,u)}setTimeout(function(){D.load(c,d)},10)};r.jwInstreamDestroy=function(){if(D){D.jwInstreamDestroy()}};r.jwInstreamAddEventListener=q("jwInstreamAddEventListener");r.jwInstreamRemoveEventListener=q("jwInstreamRemoveEventListener");r.jwInstreamGetState=q("jwInstreamGetState");r.jwInstreamGetDuration=q("jwInstreamGetDuration");r.jwInstreamGetPosition=q("jwInstreamGetPosition");r.jwInstreamPlay=q("jwInstreamPlay");r.jwInstreamPause=q("jwInstreamPause");r.jwInstreamSeek=q("jwInstreamSeek");function q(c){return function(){if(D&&typeof D[c]=="function"){return D[c].apply(this,arguments)}else{_utils.log("Could not call instream method - instream API not initialized")}}}r.jwDestroy=function(){u.destroy()};r.jwGetLevel=function(){};r.jwGetBandwidth=function(){};r.jwGetLockState=function(){};r.jwLock=function(){};r.jwUnlock=function(){};function F(){if(s.config.playlistfile){s.addEventListener(b.api.events.JWPLAYER_PLAYLIST_LOADED,z);s.loadPlaylist(s.config.playlistfile)}else{if(typeof s.config.playlist=="string"){s.addEventListener(b.api.events.JWPLAYER_PLAYLIST_LOADED,z);s.loadPlaylist(s.config.playlist)}else{s.loadPlaylist(s.config);setTimeout(z,25)}}}function z(c){s.removeEventListener(b.api.events.JWPLAYER_PLAYLIST_LOADED,z);s.setupPlugins();v.setup();var c={id:r.id,version:r.version};u.playerReady(c)}if(s.config.chromeless&&!b.utils.isIOS()){F()}else{r.skin.load(s.config.skin,F)}return r}})(jwplayer)}
/*!
 * jQuery hashchange event - v1.3 - 7/21/2010
 * http://benalman.com/projects/jquery-hashchange-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function($,e,b){var c="hashchange",h=document,f,g=$.event.special,j=h.documentMode,d="on"+c in e&&(j===b||j>7);function a(k){k=k||location.href;return"#"+k.replace(/^[^#]*#?(.*)$/,"$1")}$.fn[c]=function(k){return k?this.bind(c,k):this.trigger(c)};$.fn[c].delay=50;g[c]=$.extend(g[c],{setup:function(){if(d){return false}$(f.start)},teardown:function(){if(d){return false}$(f.stop)}});f=(function(){var k={},q,n=a(),l=function(r){return r},m=l,p=l;k.start=function(){q||o()};k.stop=function(){q&&clearTimeout(q);q=b};function o(){var s=a(),r=p(n);if(s!==n){m(n=s,r);$(e).trigger(c)}else{if(r!==n){location.href=location.href.replace(/#.*/,"")+r}}q=setTimeout(o,$.fn[c].delay)}$.browser.msie&&!d&&(function(){var r,s;k.start=function(){if(!r){s=$.fn[c].src;s=s&&s+a();r=$('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){s||m(a());o()}).attr("src",s||"javascript:0").insertAfter("body")[0].contentWindow;h.onpropertychange=function(){try{if(event.propertyName==="title"){r.document.title=h.title}}catch(u){}}}};k.stop=l;p=function(){return a(r.location.href)};m=function(z,u){var w=r.document,v=$.fn[c].domain;if(z!==u){w.title=h.title;w.open();v&&w.write('<script>document.domain="'+v+'"<\/script>');w.close();r.location.hash=z}}})();return k})()})(mrm.$,this);
/*!
 * jQuery outside events - v1.1 - 3/16/2010
 * http://benalman.com/projects/jquery-outside-events-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function($,c,b){$.map("click dblclick mousemove mousedown mouseup mouseover mouseout change select submit keydown keypress keyup touchend".split(" "),function(d){a(d)});a("focusin","focus"+b);a("focusout","blur"+b);$.addOutsideEvent=a;function a(g,e){e=e||g+b;var d=$(),h=g+"."+e+"-special-event";$.event.special[e]={setup:function(){d=d.add(this);if(d.length===1){$(c).bind(h,f)}},teardown:function(){d=d.not(this);if(d.length===0){$(c).unbind(h)}},add:function(j){var k=j.handler;j.handler=function(m,l){m.target=l;k.apply(this,arguments)}}};function f(j){$(d).each(function(){var k=$(this);if(this!==j.target&&!k.has(j.target).length){k.triggerHandler(e,[j.target])}})}}})(jQuery,document,"outside");(function(a){a.fn.bgIframe=a.fn.bgiframe=function(c){if(a.browser.msie&&/msie 6\.0/i.test(navigator.userAgent)){c=a.extend({top:"auto",left:"auto",width:"auto",height:"auto",opacity:true,src:"javascript:false;"},c||{});var d=function(e){return e&&e.constructor==Number?e+"px":e},b='<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+c.src+'"style="display:block;position:absolute;z-index:-1;'+(c.opacity!==false?"filter:Alpha(Opacity='0');":"")+"top:"+(c.top=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+'px')":d(c.top))+";left:"+(c.left=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+'px')":d(c.left))+";width:"+(c.width=="auto"?"expression(this.parentNode.offsetWidth+'px')":d(c.width))+";height:"+(c.height=="auto"?"expression(this.parentNode.offsetHeight+'px')":d(c.height))+';"/>';return this.each(function(){if(a("> iframe.bgiframe",this).length==0){this.insertBefore(document.createElement(b),this.firstChild)}})}return this}})(mrm.$);(function(a){a.browserTest=function(e,g){var f="unknown",d="X",b=function(k,j){for(var c=0;c<j.length;c=c+1){k=k.replace(j[c][0],j[c][1])}return k},h=function(l,k,j,o){var m={name:b((k.exec(l)||[f,f])[1],j)};m[m.name]=true;if(!m.opera){m.version=(o.exec(l)||[d,d,d,d])[3]}else{m.version=window.opera.version()}if(/safari/.test(m.name)&&m.version>400){m.version="2.0"}else{if(m.name==="presto"){m.version=(a.browser.version>9.27)?"futhark":"linear_b"}}m.versionNumber=parseFloat(m.version,10)||0;var n=1;if(m.versionNumber<100&&m.versionNumber>9){n=2}m.versionX=(m.version!==d)?m.version.substr(0,n):d;m.className=m.name+m.versionX;return m};e=(/Opera|Navigator|Minefield|KHTML|Chrome/.test(e)?b(e,[[/(Firefox|MSIE|KHTML,\slike\sGecko|Konqueror)/,""],["Chrome Safari","Chrome"],["KHTML","Konqueror"],["Minefield","Firefox"],["Navigator","Netscape"]]):e).toLowerCase();a.browser=a.extend((!g)?a.browser:{},h(e,/(camino|chrome|firefox|netscape|konqueror|lynx|msie|opera|safari)/,[],/(camino|chrome|firefox|netscape|netscape6|opera|version|konqueror|lynx|msie|safari)(\/|\s)([a-z0-9\.\+]*?)(\;|dev|rel|\s|$)/));a.layout=h(e,/(gecko|konqueror|msie|opera|webkit)/,[["konqueror","khtml"],["msie","trident"],["opera","presto"]],/(applewebkit|rv|konqueror|msie)(\:|\/|\s)([a-z0-9\.]*?)(\;|\)|\s)/);a.os={name:(/(win|mac|linux|sunos|solaris|iphone|ipad)/.exec(navigator.platform.toLowerCase())||[f])[0].replace("sunos","solaris"),android:(/android/.test(e))};if(!g){a("html").addClass([a.os.name,a.browser.name,a.browser.className,a.layout.name,a.layout.className].join(" "))}};a.browserTest(navigator.userAgent)})(mrm.$);(function($){if($.fn.carouFredSel){return}$.fn.carouFredSel=function(options,configs){if(this.length==0){debug(true,'No element found for "'+this.selector+'".');return this}if(this.length>1){return this.each(function(){$(this).carouFredSel(options,configs)})}var $cfs=this,$tt0=this[0];if($cfs.data("cfs_isCarousel")){var starting_position=$cfs.triggerHandler("_cfs_triggerEvent","currentPosition");$cfs.trigger("_cfs_triggerEvent",["destroy",[true]])}else{var starting_position=false}$cfs._cfs_init=function(o,setOrig,start){o=go_getObject($tt0,o);var obs=["items","scroll","auto","prev","next","pagination"];for(var a=0,l=obs.length;a<l;a++){o[obs[a]]=go_getObject($tt0,o[obs[a]])}if(typeof o.scroll=="number"){if(o.scroll<=50){o.scroll={items:o.scroll}}else{o.scroll={duration:o.scroll}}}else{if(typeof o.scroll=="string"){o.scroll={easing:o.scroll}}}if(typeof o.items=="number"){o.items={visible:o.items}}else{if(o.items=="variable"){o.items={visible:o.items,width:o.items,height:o.items}}}if(typeof o.items!="object"){o.items={}}if(setOrig){opts_orig=$.extend(true,{},$.fn.carouFredSel.defaults,o)}opts=$.extend(true,{},$.fn.carouFredSel.defaults,o);if(typeof opts.items.visibleConf!="object"){opts.items.visibleConf={}}if(opts.items.start==0&&typeof start=="number"){opts.items.start=start}crsl.upDateOnWindowResize=(opts.responsive);crsl.direction=(opts.direction=="up"||opts.direction=="left")?"next":"prev";var dims=[["width","innerWidth","outerWidth","height","innerHeight","outerHeight","left","top","marginRight",0,1,2,3],["height","innerHeight","outerHeight","width","innerWidth","outerWidth","top","left","marginBottom",3,2,1,0]];var dn=dims[0].length,dx=(opts.direction=="right"||opts.direction=="left")?0:1;opts.d={};for(var d=0;d<dn;d++){opts.d[dims[0][d]]=dims[dx][d]}var all_itm=$cfs.children();switch(typeof opts.items.visible){case"object":opts.items.visibleConf.min=opts.items.visible.min;opts.items.visibleConf.max=opts.items.visible.max;opts.items.visible=false;break;case"string":if(opts.items.visible=="variable"){opts.items.visibleConf.variable=true}else{opts.items.visibleConf.adjust=opts.items.visible}opts.items.visible=false;break;case"function":opts.items.visibleConf.adjust=opts.items.visible;opts.items.visible=false;break}if(typeof opts.items.filter=="undefined"){opts.items.filter=(all_itm.filter(":hidden").length>0)?":visible":"*"}if(opts[opts.d.width]=="auto"){opts[opts.d.width]=ms_getTrueLargestSize(all_itm,opts,"outerWidth")}if(ms_isPercentage(opts[opts.d.width])&&!opts.responsive){opts[opts.d.width]=ms_getPercentage(ms_getTrueInnerSize($wrp.parent(),opts,"innerWidth"),opts[opts.d.width]);crsl.upDateOnWindowResize=true}if(opts[opts.d.height]=="auto"){opts[opts.d.height]=ms_getTrueLargestSize(all_itm,opts,"outerHeight")}if(!opts.items[opts.d.width]){if(opts.responsive){opts.items[opts.d.width]=ms_getTrueLargestSize(all_itm,opts,"outerWidth")}else{opts.items[opts.d.width]=(ms_hasVariableSizes(all_itm,opts,"outerWidth"))?"variable":all_itm[opts.d.outerWidth](true)}}if(!opts.items[opts.d.height]){opts.items[opts.d.height]=(ms_hasVariableSizes(all_itm,opts,"outerHeight"))?"variable":all_itm[opts.d.outerHeight](true)}if(!opts[opts.d.height]){opts[opts.d.height]=opts.items[opts.d.height]}if(!opts.items.visible&&!opts.responsive){if(opts.items[opts.d.width]=="variable"){opts.items.visibleConf.variable=true}if(!opts.items.visibleConf.variable){if(typeof opts[opts.d.width]=="number"){opts.items.visible=Math.floor(opts[opts.d.width]/opts.items[opts.d.width])}else{var maxS=ms_getTrueInnerSize($wrp.parent(),opts,"innerWidth");opts.items.visible=Math.floor(maxS/opts.items[opts.d.width]);opts[opts.d.width]=opts.items.visible*opts.items[opts.d.width];if(!opts.items.visibleConf.adjust){opts.align=false}}if(opts.items.visible=="Infinity"||opts.items.visible<1){debug(true,'Not a valid number of visible items: Set to "variable".');opts.items.visibleConf.variable=true}}}if(!opts[opts.d.width]){opts[opts.d.width]="variable";if(!opts.responsive&&opts.items.filter=="*"&&!opts.items.visibleConf.variable&&opts.items[opts.d.width]!="variable"){opts[opts.d.width]=opts.items.visible*opts.items[opts.d.width];opts.align=false}}if(opts.items.visibleConf.variable){opts.maxDimention=(opts[opts.d.width]=="variable")?ms_getTrueInnerSize($wrp.parent(),opts,"innerWidth"):opts[opts.d.width];if(opts.align===false){opts[opts.d.width]="variable"}opts.items.visible=gn_getVisibleItemsNext(all_itm,opts,0)}else{if(opts.items.filter!="*"){opts.items.visibleConf.org=opts.items.visible;opts.items.visible=gn_getVisibleItemsNextFilter(all_itm,opts,0)}}if(typeof opts.align=="undefined"){opts.align=(opts[opts.d.width]=="variable")?false:"center"}opts.items.visible=cf_getItemsAdjust(opts.items.visible,opts,opts.items.visibleConf.adjust,$tt0);opts.items.visibleConf.old=opts.items.visible;opts.usePadding=false;if(opts.responsive){if(!opts.items.visibleConf.min){opts.items.visibleConf.min=opts.items.visible}if(!opts.items.visibleConf.max){opts.items.visibleConf.max=opts.items.visible}opts.align=false;opts.padding=[0,0,0,0];var isVisible=$wrp.is(":visible");if(isVisible){$wrp.hide()}var fullS=ms_getPercentage(ms_getTrueInnerSize($wrp.parent(),opts,"innerWidth"),opts[opts.d.width]);if(typeof opts[opts.d.width]=="number"&&fullS<opts[opts.d.width]){fullS=opts[opts.d.width]}if(isVisible){$wrp.show()}var visb=cf_getItemAdjustMinMax(Math.ceil(fullS/opts.items[opts.d.width]),opts.items.visibleConf);if(visb>all_itm.length){visb=all_itm.length}var newS=Math.floor(fullS/visb),seco=opts[opts.d.height],secp=ms_isPercentage(seco);all_itm.each(function(){var $t=$(this),nw=newS-ms_getPaddingBorderMargin($t,opts,"Width");$t[opts.d.width](nw);if(secp){$t[opts.d.height](ms_getPercentage(nw,seco))}});opts.items.visible=visb;opts.items[opts.d.width]=newS;opts[opts.d.width]=visb*newS}else{opts.padding=cf_getPadding(opts.padding);if(opts.align=="top"){opts.align="left"}if(opts.align=="bottom"){opts.align="right"}switch(opts.align){case"center":case"left":case"right":if(opts[opts.d.width]!="variable"){var p=cf_getAlignPadding(gi_getCurrentItems(all_itm,opts),opts);opts.usePadding=true;opts.padding[opts.d[1]]=p[1];opts.padding[opts.d[3]]=p[0]}break;default:opts.align=false;opts.usePadding=(opts.padding[0]==0&&opts.padding[1]==0&&opts.padding[2]==0&&opts.padding[3]==0)?false:true;break}}if(typeof opts.cookie=="boolean"&&opts.cookie){opts.cookie="caroufredsel_cookie_"+$cfs.attr("id")}if(typeof opts.items.minimum!="number"){opts.items.minimum=opts.items.visible}if(typeof opts.scroll.duration!="number"){opts.scroll.duration=500}if(typeof opts.scroll.items=="undefined"){opts.scroll.items=(opts.items.visibleConf.variable||opts.items.filter!="*")?"visible":opts.items.visible}opts.auto=go_getNaviObject($tt0,opts.auto,"auto");opts.prev=go_getNaviObject($tt0,opts.prev);opts.next=go_getNaviObject($tt0,opts.next);opts.pagination=go_getNaviObject($tt0,opts.pagination,"pagination");opts.auto=$.extend(true,{},opts.scroll,opts.auto);opts.prev=$.extend(true,{},opts.scroll,opts.prev);opts.next=$.extend(true,{},opts.scroll,opts.next);opts.pagination=$.extend(true,{},opts.scroll,opts.pagination);if(typeof opts.pagination.keys!="boolean"){opts.pagination.keys=false}if(typeof opts.pagination.anchorBuilder!="function"&&opts.pagination.anchorBuilder!==false){opts.pagination.anchorBuilder=$.fn.carouFredSel.pageAnchorBuilder}if(typeof opts.auto.play!="boolean"){opts.auto.play=true}if(typeof opts.auto.delay!="number"){opts.auto.delay=0}if(typeof opts.auto.pauseOnEvent=="undefined"){opts.auto.pauseOnEvent=true}if(typeof opts.auto.pauseOnResize!="boolean"){opts.auto.pauseOnResize=true}if(typeof opts.auto.pauseDuration!="number"){opts.auto.pauseDuration=(opts.auto.duration<10)?2500:opts.auto.duration*5}if(opts.synchronise){opts.synchronise=cf_getSynchArr(opts.synchronise)}if(conf.debug){debug(conf,"Carousel width: "+opts.width);debug(conf,"Carousel height: "+opts.height);if(opts.maxDimention){debug(conf,"Available "+opts.d.width+": "+opts.maxDimention)}debug(conf,"Item widths: "+opts.items.width);debug(conf,"Item heights: "+opts.items.height);debug(conf,"Number of items visible: "+opts.items.visible);if(opts.auto.play){debug(conf,"Number of items scrolled automatically: "+opts.auto.items)}if(opts.prev.button){debug(conf,"Number of items scrolled backward: "+opts.prev.items)}if(opts.next.button){debug(conf,"Number of items scrolled forward: "+opts.next.items)}}};$cfs._cfs_build=function(){$cfs.data("cfs_isCarousel",true);var orgCSS={textAlign:$cfs.css("textAlign"),"float":$cfs.css("float"),position:$cfs.css("position"),top:$cfs.css("top"),right:$cfs.css("right"),bottom:$cfs.css("bottom"),left:$cfs.css("left"),width:$cfs.css("width"),height:$cfs.css("height"),marginTop:$cfs.css("marginTop"),marginRight:$cfs.css("marginRight"),marginBottom:$cfs.css("marginBottom"),marginLeft:$cfs.css("marginLeft")};switch(orgCSS.position){case"absolute":var newPosition="absolute";break;case"fixed":var newPosition="fixed";break;default:var newPosition="relative"}$wrp.css(orgCSS).css({overflow:"hidden",position:newPosition});$cfs.data("cfs_origCss",orgCSS).css({textAlign:"left","float":"none",position:"absolute",top:0,left:0,marginTop:0,marginRight:0,marginBottom:0,marginLeft:0});if(opts.usePadding){$cfs.children().each(function(){var m=parseInt($(this).css(opts.d.marginRight));if(isNaN(m)){m=0}$(this).data("cfs_origCssMargin",m)})}};$cfs._cfs_bind_events=function(){$cfs._cfs_unbind_events();$cfs.bind(cf_e("stop",conf),function(e,imm){e.stopPropagation();if(!crsl.isStopped){if(opts.auto.button){opts.auto.button.addClass(cf_c("stopped",conf))}}crsl.isStopped=true;if(opts.auto.play){opts.auto.play=false;$cfs.trigger(cf_e("pause",conf),imm)}return true});$cfs.bind(cf_e("finish",conf),function(e){e.stopPropagation();if(crsl.isScrolling){sc_stopScroll(scrl)}return true});$cfs.bind(cf_e("pause",conf),function(e,imm,res){e.stopPropagation();tmrs=sc_clearTimers(tmrs);if(imm&&crsl.isScrolling){scrl.isStopped=true;var nst=getTime()-scrl.startTime;scrl.duration-=nst;if(scrl.pre){scrl.pre.duration-=nst}if(scrl.post){scrl.post.duration-=nst}sc_stopScroll(scrl,false)}if(!crsl.isPaused&&!crsl.isScrolling){if(res){tmrs.timePassed+=getTime()-tmrs.startTime}}if(!crsl.isPaused){if(opts.auto.button){opts.auto.button.addClass(cf_c("paused",conf))}}crsl.isPaused=true;if(opts.auto.onPausePause){var dur1=opts.auto.pauseDuration-tmrs.timePassed,perc=100-Math.ceil(dur1*100/opts.auto.pauseDuration);opts.auto.onPausePause.call($tt0,perc,dur1)}return true});$cfs.bind(cf_e("play",conf),function(e,dir,del,res){e.stopPropagation();tmrs=sc_clearTimers(tmrs);var v=[dir,del,res],t=["string","number","boolean"],a=cf_sortParams(v,t);var dir=a[0],del=a[1],res=a[2];if(dir!="prev"&&dir!="next"){dir=crsl.direction}if(typeof del!="number"){del=0}if(typeof res!="boolean"){res=false}if(res){crsl.isStopped=false;opts.auto.play=true}if(!opts.auto.play){e.stopImmediatePropagation();return debug(conf,"Carousel stopped: Not scrolling.")}if(crsl.isPaused){if(opts.auto.button){opts.auto.button.removeClass(cf_c("stopped",conf));opts.auto.button.removeClass(cf_c("paused",conf))}}crsl.isPaused=false;tmrs.startTime=getTime();var dur1=opts.auto.pauseDuration+del;dur2=dur1-tmrs.timePassed;perc=100-Math.ceil(dur2*100/dur1);tmrs.auto=setTimeout(function(){if(opts.auto.onPauseEnd){opts.auto.onPauseEnd.call($tt0,perc,dur2)}if(crsl.isScrolling){$cfs.trigger(cf_e("play",conf),dir)}else{$cfs.trigger(cf_e(dir,conf),opts.auto)}},dur2);if(opts.auto.onPauseStart){opts.auto.onPauseStart.call($tt0,perc,dur2)}return true});$cfs.bind(cf_e("resume",conf),function(e){e.stopPropagation();if(scrl.isStopped){scrl.isStopped=false;crsl.isPaused=false;crsl.isScrolling=true;scrl.startTime=getTime();sc_startScroll(scrl)}else{$cfs.trigger(cf_e("play",conf))}return true});$cfs.bind(cf_e("prev",conf)+" "+cf_e("next",conf),function(e,obj,num,clb){e.stopPropagation();if(crsl.isStopped||$cfs.is(":hidden")){e.stopImmediatePropagation();return debug(conf,"Carousel stopped or hidden: Not scrolling.")}if(opts.items.minimum>=itms.total){e.stopImmediatePropagation();return debug(conf,"Not enough items ("+itms.total+", "+opts.items.minimum+" needed): Not scrolling.")}var v=[obj,num,clb],t=["object","number/string","function"],a=cf_sortParams(v,t);var obj=a[0],num=a[1],clb=a[2];var eType=e.type.slice(conf.events.prefix.length);if(typeof obj!="object"||obj==null){obj=opts[eType]}if(typeof clb=="function"){obj.onAfter=clb}if(typeof num!="number"){if(opts.items.filter!="*"){num="visible"}else{var arr=[num,obj.items,opts[eType].items];for(var a=0,l=arr.length;a<l;a++){if(typeof arr[a]=="number"||arr[a]=="page"||arr[a]=="visible"){num=arr[a];break}}}switch(num){case"page":e.stopImmediatePropagation();return $cfs.triggerHandler(eType+"Page",[obj,clb]);break;case"visible":if(!opts.items.visibleConf.variable&&opts.items.filter=="*"){num=opts.items.visible}break}}if(scrl.isStopped){$cfs.trigger(cf_e("resume",conf));$cfs.trigger(cf_e("queue",conf),[eType,[obj,num,clb]]);e.stopImmediatePropagation();return debug(conf,"Carousel resumed scrolling.")}if(obj.duration>0){if(crsl.isScrolling){if(obj.queue){$cfs.trigger(cf_e("queue",conf),[eType,[obj,num,clb]])}e.stopImmediatePropagation();return debug(conf,"Carousel currently scrolling.")}}if(obj.conditions&&!obj.conditions.call($tt0)){e.stopImmediatePropagation();return debug(conf,'Callback "conditions" returned false.')}tmrs.timePassed=0;if("next"==eType){var slide_offset=parseInt(num)}else{var slide_offset=parseInt(num)*-1}if($cfs.find("li")&&slide_offset){var $slide=$cfs.children("li").eq(slide_offset);if("object"==typeof $slide){var $slide_img=$slide.find("img."+mrm.ui.image_loader.onscroll_class);if(("object"==typeof $slide_img)&&$slide_img.attr("data-"+mrm.ui.image_loader.src_attribute)&&0!=$slide_img.attr("data-"+mrm.ui.image_loader.src_attribute).length){var src=$slide_img.attr("data-"+mrm.ui.image_loader.src_attribute);var guess_height=null;var sizeRegEx=/(\d+x\d+)/.exec(src);if(sizeRegEx&&sizeRegEx[0]){var sizes=sizeRegEx[0].split("x");if(sizes&&sizes[1]){guess_height=parseInt(sizes[1])}}if(guess_height&&"number"==typeof guess_height&&NaN!=typeof guess_height){$slide_img.parent("div").css("height",guess_height);$cfs.parents(".caroufredsel_wrapper").css("maxHeight","auto")}else{if(parseInt($cfs.parents(".caroufredsel_wrapper").css("height"))>1){$cfs.parents(".caroufredsel_wrapper").css("maxHeight",$cfs.parents(".caroufredsel_wrapper").css("height"))}}$slide_img.attr("src",src);$slide_img.one("load",function(){$slide_img.addClass(mrm.ui.image_loader.loaded_class).removeClass(mrm.ui.image_loader.onscroll_class);var true_height=$slide_img[0].height;$slide_img.css("height",true_height);$slide_img.parent("div").css("height",true_height)})}}}$cfs.trigger("_cfs_triggerEvent",["slide_"+eType,[obj,num]]);if(opts.synchronise){var s=opts.synchronise,c=[obj,num];for(var j=0,l=s.length;j<l;j++){var d=eType;if(!s[j][1]){c[0]=s[j][0].triggerHandler("_cfs_triggerEvent",["configuration",[d]])}if(!s[j][2]){d=(d=="prev")?"next":"prev"}c[1]=num+s[j][3];s[j][0].trigger("_cfs_triggerEvent",["slide_"+d,[c]])}}return true});$cfs.bind(cf_e("slide_prev",conf),function(e,sO,nI){e.stopPropagation();var a_itm=$cfs.children();if(!opts.circular){if(itms.first==0){if(opts.infinite){$cfs.trigger(cf_e("next",conf),itms.total-1)}return e.stopImmediatePropagation()}}if(opts.usePadding){sz_resetMargin(a_itm,opts)}if(typeof nI!="number"){if(opts.items.visibleConf.variable){nI=gn_getVisibleItemsPrev(a_itm,opts,itms.total-1)}else{if(opts.items.filter!="*"){var xI=(typeof sO.items=="number")?sO.items:gn_getVisibleOrg($cfs,opts);nI=gn_getScrollItemsPrevFilter(a_itm,opts,itms.total-1,xI)}else{nI=opts.items.visible}}nI=cf_getAdjust(nI,opts,sO.items,$tt0)}if(!opts.circular){if(itms.total-nI<itms.first){nI=itms.total-itms.first}}opts.items.visibleConf.old=opts.items.visible;if(opts.items.visibleConf.variable){var vI=gn_getVisibleItemsNext(a_itm,opts,itms.total-nI);if(opts.items.visible+nI<=vI&&nI<itms.total){nI++;vI=gn_getVisibleItemsNext(a_itm,opts,itms.total-nI)}opts.items.visible=cf_getItemsAdjust(vI,opts,opts.items.visibleConf.adjust,$tt0)}else{if(opts.items.filter!="*"){var vI=gn_getVisibleItemsNextFilter(a_itm,opts,itms.total-nI);opts.items.visible=cf_getItemsAdjust(vI,opts,opts.items.visibleConf.adjust,$tt0)}}if(opts.usePadding){sz_resetMargin(a_itm,opts,true)}if(nI==0){e.stopImmediatePropagation();return debug(conf,"0 items to scroll: Not scrolling.")}debug(conf,"Scrolling "+nI+" items backward.");itms.first+=nI;while(itms.first>=itms.total){itms.first-=itms.total}if(!opts.circular){if(itms.first==0&&sO.onEnd){sO.onEnd.call($tt0)}if(!opts.infinite){nv_enableNavi(opts,itms.first,conf)}}$cfs.children().slice(itms.total-nI,itms.total).prependTo($cfs);if(itms.total<opts.items.visible+nI){$cfs.children().slice(0,(opts.items.visible+nI)-itms.total).clone(true).appendTo($cfs)}var a_itm=$cfs.children(),c_old=gi_getOldItemsPrev(a_itm,opts,nI),c_new=gi_getNewItemsPrev(a_itm,opts),l_cur=a_itm.eq(nI-1),l_old=c_old.last(),l_new=c_new.last();if(opts.usePadding){sz_resetMargin(a_itm,opts)}if(opts.align){var p=cf_getAlignPadding(c_new,opts),pL=p[0],pR=p[1]}else{var pL=0,pR=0}var oL=(pL<0)?opts.padding[opts.d[3]]:0;if(sO.fx=="directscroll"&&opts.items.visible<nI){var hiddenitems=a_itm.slice(opts.items.visibleConf.old,nI),orgW=opts.items[opts.d.width];hiddenitems.each(function(){var hi=$(this);hi.data("isHidden",hi.is(":hidden")).hide()});opts.items[opts.d.width]="variable"}else{var hiddenitems=false}var i_siz=ms_getTotalSize(a_itm.slice(0,nI),opts,"width"),w_siz=cf_mapWrapperSizes(ms_getSizes(c_new,opts,true),opts,!opts.usePadding);if(hiddenitems){opts.items[opts.d.width]=orgW}if(opts.usePadding){sz_resetMargin(a_itm,opts,true);if(pR>=0){sz_resetMargin(l_old,opts,opts.padding[opts.d[1]])}sz_resetMargin(l_cur,opts,opts.padding[opts.d[3]])}if(opts.align){opts.padding[opts.d[1]]=pR;opts.padding[opts.d[3]]=pL}var a_cfs={},a_dur=sO.duration;if(sO.fx=="none"){a_dur=0}else{if(a_dur=="auto"){a_dur=opts.scroll.duration/opts.scroll.items*nI}else{if(a_dur<=0){a_dur=0}else{if(a_dur<10){a_dur=i_siz/a_dur}}}}scrl=sc_setScroll(a_dur,sO.easing);if(opts[opts.d.width]=="variable"||opts[opts.d.height]=="variable"){scrl.anims.push([$wrp,w_siz])}if(opts.usePadding){var new_m=opts.padding[opts.d[3]];if(l_new.not(l_cur).length){var a_cur={};a_cur[opts.d.marginRight]=l_cur.data("cfs_origCssMargin");if(pL<0){l_cur.css(a_cur)}else{scrl.anims.push([l_cur,a_cur])}}if(l_new.not(l_old).length){var a_old={};a_old[opts.d.marginRight]=l_old.data("cfs_origCssMargin");scrl.anims.push([l_old,a_old])}if(pR>=0){var a_new={};a_new[opts.d.marginRight]=l_new.data("cfs_origCssMargin")+opts.padding[opts.d[1]];scrl.anims.push([l_new,a_new])}}else{var new_m=0}a_cfs[opts.d.left]=new_m;var args=[c_old,c_new,w_siz,a_dur];if(sO.onBefore){sO.onBefore.apply($tt0,args)}clbk.onBefore=sc_callCallbacks(clbk.onBefore,$tt0,args);switch(sO.fx){case"fade":case"crossfade":case"cover":case"uncover":scrl.pre=sc_setScroll(scrl.duration,scrl.easing);scrl.post=sc_setScroll(scrl.duration,scrl.easing);scrl.duration=0;break}switch(sO.fx){case"crossfade":case"cover":case"uncover":var $cf2=$cfs.clone().appendTo($wrp);break}switch(sO.fx){case"uncover":$cf2.children().slice(0,nI).remove();case"crossfade":case"cover":$cf2.children().slice(opts.items.visible).remove();break}switch(sO.fx){case"fade":scrl.pre.anims.push([$cfs,{opacity:0}]);break;case"crossfade":$cf2.css({opacity:0});scrl.pre.anims.push([$cfs,{width:"+=0"},function(){$cf2.remove()}]);scrl.post.anims.push([$cf2,{opacity:1}]);break;case"cover":scrl=fx_cover(scrl,$cfs,$cf2,opts,true);break;case"uncover":scrl=fx_uncover(scrl,$cfs,$cf2,opts,true,nI);break}var a_complete=function(){var overFill=opts.items.visible+nI-itms.total;if(overFill>0){$cfs.children().slice(itms.total).remove();c_old=$($cfs.children().slice(itms.total-(opts.items.visible-overFill)).get().concat($cfs.children().slice(0,overFill).get()))}if(hiddenitems){hiddenitems.each(function(){var hi=$(this);if(!hi.data("isHidden")){hi.show()}})}if(opts.usePadding){var l_itm=$cfs.children().eq(opts.items.visible+nI-1);l_itm.css(opts.d.marginRight,l_itm.data("cfs_origCssMargin"))}scrl.anims=[];if(scrl.pre){scrl.pre=sc_setScroll(scrl.orgDuration,scrl.easing)}var fn=function(){switch(sO.fx){case"fade":case"crossfade":$cfs.css("filter","");break}scrl.post=sc_setScroll(0,null);crsl.isScrolling=false;var args=[c_old,c_new,w_siz];if(sO.onAfter){sO.onAfter.apply($tt0,args)}clbk.onAfter=sc_callCallbacks(clbk.onAfter,$tt0,args);if(queu.length){$cfs.trigger(cf_e(queu[0][0],conf),queu[0][1]);queu.shift()}if(!crsl.isPaused){$cfs.trigger(cf_e("play",conf))}};switch(sO.fx){case"fade":scrl.pre.anims.push([$cfs,{opacity:1},fn]);sc_startScroll(scrl.pre);break;case"uncover":scrl.pre.anims.push([$cfs,{width:"+=0"},fn]);sc_startScroll(scrl.pre);break;default:fn();break}};scrl.anims.push([$cfs,a_cfs,a_complete]);crsl.isScrolling=true;$cfs.css(opts.d.left,-(i_siz-oL));tmrs=sc_clearTimers(tmrs);sc_startScroll(scrl);cf_setCookie(opts.cookie,$cfs.triggerHandler(cf_e("currentPosition",conf)));$cfs.trigger(cf_e("updatePageStatus",conf),[false,w_siz]);return true});$cfs.bind(cf_e("slide_next",conf),function(e,sO,nI){e.stopPropagation();var a_itm=$cfs.children();if(!opts.circular){if(itms.first==opts.items.visible){if(opts.infinite){$cfs.trigger(cf_e("prev",conf),itms.total-1)}return e.stopImmediatePropagation()}}if(opts.usePadding){sz_resetMargin(a_itm,opts)}if(typeof nI!="number"){if(opts.items.filter!="*"){var xI=(typeof sO.items=="number")?sO.items:gn_getVisibleOrg($cfs,opts);nI=gn_getScrollItemsNextFilter(a_itm,opts,0,xI)}else{nI=opts.items.visible}nI=cf_getAdjust(nI,opts,sO.items,$tt0)}var lastItemNr=(itms.first==0)?itms.total:itms.first;if(!opts.circular){if(opts.items.visibleConf.variable){var vI=gn_getVisibleItemsNext(a_itm,opts,nI),xI=gn_getVisibleItemsPrev(a_itm,opts,lastItemNr-1)}else{var vI=opts.items.visible,xI=opts.items.visible}if(nI+vI>lastItemNr){nI=lastItemNr-xI}}opts.items.visibleConf.old=opts.items.visible;if(opts.items.visibleConf.variable){var vI=gn_getVisibleItemsNextTestCircular(a_itm,opts,nI,lastItemNr);while(opts.items.visible-nI>=vI&&nI<itms.total){nI++;vI=gn_getVisibleItemsNextTestCircular(a_itm,opts,nI,lastItemNr)}opts.items.visible=cf_getItemsAdjust(vI,opts,opts.items.visibleConf.adjust,$tt0)}else{if(opts.items.filter!="*"){var vI=gn_getVisibleItemsNextFilter(a_itm,opts,nI);opts.items.visible=cf_getItemsAdjust(vI,opts,opts.items.visibleConf.adjust,$tt0)}}if(opts.usePadding){sz_resetMargin(a_itm,opts,true)}if(nI==0){e.stopImmediatePropagation();return debug(conf,"0 items to scroll: Not scrolling.")}debug(conf,"Scrolling "+nI+" items forward.");itms.first-=nI;while(itms.first<0){itms.first+=itms.total}if(!opts.circular){if(itms.first==opts.items.visible&&sO.onEnd){sO.onEnd.call($tt0)}if(!opts.infinite){nv_enableNavi(opts,itms.first,conf)}}if(itms.total<opts.items.visible+nI){$cfs.children().slice(0,(opts.items.visible+nI)-itms.total).clone(true).appendTo($cfs)}var a_itm=$cfs.children(),c_old=gi_getOldItemsNext(a_itm,opts),c_new=gi_getNewItemsNext(a_itm,opts,nI),l_cur=a_itm.eq(nI-1),l_old=c_old.last(),l_new=c_new.last();if(opts.usePadding){sz_resetMargin(a_itm,opts)}if(opts.align){var p=cf_getAlignPadding(c_new,opts),pL=p[0],pR=p[1]}else{var pL=0,pR=0}if(sO.fx=="directscroll"&&opts.items.visibleConf.old<nI){var hiddenitems=a_itm.slice(opts.items.visibleConf.old,nI),orgW=opts.items[opts.d.width];hiddenitems.each(function(){var hi=$(this);hi.data("isHidden",hi.is(":hidden")).hide()});opts.items[opts.d.width]="variable"}else{var hiddenitems=false}var i_siz=ms_getTotalSize(a_itm.slice(0,nI),opts,"width"),w_siz=cf_mapWrapperSizes(ms_getSizes(c_new,opts,true),opts,!opts.usePadding);if(hiddenitems){opts.items[opts.d.width]=orgW}if(opts.align){if(opts.padding[opts.d[1]]<0){opts.padding[opts.d[1]]=0}}if(opts.usePadding){sz_resetMargin(a_itm,opts,true);sz_resetMargin(l_old,opts,opts.padding[opts.d[1]])}if(opts.align){opts.padding[opts.d[1]]=pR;opts.padding[opts.d[3]]=pL}var a_cfs={},a_dur=sO.duration;if(sO.fx=="none"){a_dur=0}else{if(a_dur=="auto"){a_dur=opts.scroll.duration/opts.scroll.items*nI}else{if(a_dur<=0){a_dur=0}else{if(a_dur<10){a_dur=i_siz/a_dur}}}}scrl=sc_setScroll(a_dur,sO.easing);if(opts[opts.d.width]=="variable"||opts[opts.d.height]=="variable"){scrl.anims.push([$wrp,w_siz])}if(opts.usePadding){var l_new_m=l_new.data("cfs_origCssMargin");if(pR>=0){l_new_m+=opts.padding[opts.d[1]]}l_new.css(opts.d.marginRight,l_new_m);if(l_cur.not(l_old).length){var a_old={};a_old[opts.d.marginRight]=l_old.data("cfs_origCssMargin");scrl.anims.push([l_old,a_old])}var c_new_m=l_cur.data("cfs_origCssMargin");if(pL>=0){c_new_m+=opts.padding[opts.d[3]]}var a_cur={};a_cur[opts.d.marginRight]=c_new_m;scrl.anims.push([l_cur,a_cur])}a_cfs[opts.d.left]=-i_siz;if(pL<0){a_cfs[opts.d.left]+=pL}var args=[c_old,c_new,w_siz,a_dur];if(sO.onBefore){sO.onBefore.apply($tt0,args)}clbk.onBefore=sc_callCallbacks(clbk.onBefore,$tt0,args);switch(sO.fx){case"fade":case"crossfade":case"cover":case"uncover":scrl.pre=sc_setScroll(scrl.duration,scrl.easing);scrl.post=sc_setScroll(scrl.duration,scrl.easing);scrl.duration=0;break}switch(sO.fx){case"crossfade":case"cover":case"uncover":var $cf2=$cfs.clone().appendTo($wrp);break}switch(sO.fx){case"uncover":$cf2.children().slice(opts.items.visibleConf.old).remove();break;case"crossfade":case"cover":$cf2.children().slice(0,nI).remove();$cf2.children().slice(opts.items.visible).remove();break}switch(sO.fx){case"fade":scrl.pre.anims.push([$cfs,{opacity:0}]);break;case"crossfade":$cf2.css({opacity:0});scrl.pre.anims.push([$cfs,{width:"+=0"},function(){$cf2.remove()}]);scrl.post.anims.push([$cf2,{opacity:1}]);break;case"cover":scrl=fx_cover(scrl,$cfs,$cf2,opts,false);break;case"uncover":scrl=fx_uncover(scrl,$cfs,$cf2,opts,false,nI);break}var a_complete=function(){var overFill=opts.items.visible+nI-itms.total,new_m=(opts.usePadding)?opts.padding[opts.d[3]]:0;$cfs.css(opts.d.left,new_m);if(overFill>0){$cfs.children().slice(itms.total).remove()}var l_itm=$cfs.children().slice(0,nI).appendTo($cfs).last();if(overFill>0){c_new=gi_getCurrentItems(a_itm,opts)}if(hiddenitems){hiddenitems.each(function(){var hi=$(this);if(!hi.data("isHidden")){hi.show()}})}if(opts.usePadding){if(itms.total<opts.items.visible+nI){var l_cur=$cfs.children().eq(opts.items.visible-1);l_cur.css(opts.d.marginRight,l_cur.data("cfs_origCssMargin")+opts.padding[opts.d[3]])}l_itm.css(opts.d.marginRight,l_itm.data("cfs_origCssMargin"))}scrl.anims=[];if(scrl.pre){scrl.pre=sc_setScroll(scrl.orgDuration,scrl.easing)}var fn=function(){switch(sO.fx){case"fade":case"crossfade":$cfs.css("filter","");break}scrl.post=sc_setScroll(0,null);crsl.isScrolling=false;var args=[c_old,c_new,w_siz];if(sO.onAfter){sO.onAfter.apply($tt0,args)}clbk.onAfter=sc_callCallbacks(clbk.onAfter,$tt0,args);if(queu.length){$cfs.trigger(cf_e(queu[0][0],conf),queu[0][1]);queu.shift()}if(!crsl.isPaused){$cfs.trigger(cf_e("play",conf))}};switch(sO.fx){case"fade":scrl.pre.anims.push([$cfs,{opacity:1},fn]);sc_startScroll(scrl.pre);break;case"uncover":scrl.pre.anims.push([$cfs,{width:"+=0"},fn]);sc_startScroll(scrl.pre);break;default:fn();break}};scrl.anims.push([$cfs,a_cfs,a_complete]);crsl.isScrolling=true;tmrs=sc_clearTimers(tmrs);sc_startScroll(scrl);cf_setCookie(opts.cookie,$cfs.triggerHandler(cf_e("currentPosition",conf)));$cfs.trigger(cf_e("updatePageStatus",conf),[false,w_siz]);return true});$cfs.bind(cf_e("slideTo",conf),function(e,num,dev,org,obj,dir,clb){e.stopPropagation();var v=[num,dev,org,obj,dir,clb],t=["string/number/object","number","boolean","object","string","function"],a=cf_sortParams(v,t);var obj=a[3],dir=a[4],clb=a[5];num=gn_getItemIndex(a[0],a[1],a[2],itms,$cfs);if(num==0){return}if(typeof obj!="object"){obj=false}if(crsl.isScrolling){if(typeof obj!="object"||obj.duration>0){return false}}if(dir!="prev"&&dir!="next"){if(opts.circular){if(num<=itms.total/2){dir="next"}else{dir="prev"}}else{if(itms.first==0||itms.first>num){dir="next"}else{dir="prev"}}}if(dir=="prev"){num=itms.total-num}$cfs.trigger(cf_e(dir,conf),[obj,num,clb]);return true});$cfs.bind(cf_e("prevPage",conf),function(e,obj,clb){e.stopPropagation();var cur=$cfs.triggerHandler(cf_e("currentPage",conf));return $cfs.triggerHandler(cf_e("slideToPage",conf),[cur-1,obj,"prev",clb])});$cfs.bind(cf_e("nextPage",conf),function(e,obj,clb){e.stopPropagation();var cur=$cfs.triggerHandler(cf_e("currentPage",conf));return $cfs.triggerHandler(cf_e("slideToPage",conf),[cur+1,obj,"next",clb])});$cfs.bind(cf_e("slideToPage",conf),function(e,pag,obj,dir,clb){e.stopPropagation();if(typeof pag!="number"){pag=$cfs.triggerHandler(cf_e("currentPage",conf))}var ipp=opts.pagination.items||opts.items.visible,max=Math.ceil(itms.total/ipp)-1;if(pag<0){pag=max}if(pag>max){pag=0}return $cfs.triggerHandler(cf_e("slideTo",conf),[pag*ipp,0,true,obj,dir,clb])});$cfs.bind(cf_e("jumpToStart",conf),function(e,s){e.stopPropagation();if(s){s=gn_getItemIndex(s,0,true,itms,$cfs)}else{s=0}s+=itms.first;if(s!=0){while(s>itms.total){s-=itms.total}$cfs.prepend($cfs.children().slice(s,itms.total))}return true});$cfs.bind(cf_e("synchronise",conf),function(e,s){e.stopPropagation();if(s){s=cf_getSynchArr(s)}else{if(opts.synchronise){s=opts.synchronise}else{return debug(conf,"No carousel to synchronise.")}}var n=$cfs.triggerHandler(cf_e("currentPosition",conf)),x=true;for(var j=0,l=s.length;j<l;j++){if(!s[j][0].triggerHandler(cf_e("slideTo",conf),[n,s[j][3],true])){x=false}}return x});$cfs.bind(cf_e("queue",conf),function(e,dir,opt){e.stopPropagation();if(typeof dir=="function"){dir.call($tt0,queu)}else{if(is_array(dir)){queu=dir}else{if(typeof dir!="undefined"){queu.push([dir,opt])}}}return queu});$cfs.bind(cf_e("insertItem",conf),function(e,itm,num,org,dev){e.stopPropagation();var v=[itm,num,org,dev],t=["string/object","string/number/object","boolean","number"],a=cf_sortParams(v,t);var itm=a[0],num=a[1],org=a[2],dev=a[3];if(typeof itm=="object"&&typeof itm.jquery=="undefined"){itm=$(itm)}if(typeof itm=="string"){itm=$(itm)}if(typeof itm!="object"||typeof itm.jquery=="undefined"||itm.length==0){return debug(conf,"Not a valid object.")}if(typeof num=="undefined"){num="end"}if(opts.usePadding){itm.each(function(){var m=parseInt($(this).css(opts.d.marginRight));if(isNaN(m)){m=0}$(this).data("cfs_origCssMargin",m)})}var orgNum=num,before="before";if(num=="end"){if(org){if(itms.first==0){num=itms.total-1;before="after"}else{num=itms.first;itms.first+=itm.length}if(num<0){num=0}}else{num=itms.total-1;before="after"}}else{num=gn_getItemIndex(num,dev,org,itms,$cfs)}if(orgNum!="end"&&!org){if(num<itms.first){itms.first+=itm.length}}if(itms.first>=itms.total){itms.first-=itms.total}var $cit=$cfs.children().eq(num);if($cit.length){$cit[before](itm)}else{$cfs.append(itm)}itms.total=$cfs.children().length;var sz=$cfs.triggerHandler("updateSizes");nv_showNavi(opts,itms.total,conf);nv_enableNavi(opts,itms.first,conf);$cfs.trigger(cf_e("linkAnchors",conf));$cfs.trigger(cf_e("updatePageStatus",conf),[true,sz]);return true});$cfs.bind(cf_e("removeItem",conf),function(e,num,org,dev){e.stopPropagation();var v=[num,org,dev],t=["string/number/object","boolean","number"],a=cf_sortParams(v,t);num=a[0];org=a[1];dev=a[2];var removed=false;if(num instanceof $&&num.length>1){$removed=$();num.each(function(i,el){var $rem=$cfs.trigger(cf_e("removeItem",conf),[$(this),org,dev]);if($rem){$removed=$removed.add($rem)}});return $removed}if(typeof num=="undefined"||num=="end"){$removed=$cfs.children().last()}else{num=gn_getItemIndex(num,dev,org,itms,$cfs);var $removed=$cfs.children().eq(num);if($removed.length){if(num<itms.first){itms.first-=$removed.length}}}if($removed&&$removed.length){$removed.detach();itms.total=$cfs.children().length;var sz=$cfs.triggerHandler("updateSizes");nv_showNavi(opts,itms.total,conf);nv_enableNavi(opts,itms.first,conf);$cfs.trigger(cf_e("updatePageStatus",conf),[true,sz])}return $removed});$cfs.bind(cf_e("onBefore",conf)+" "+cf_e("onAfter",conf),function(e,fn){e.stopPropagation();var eType=e.type.slice(conf.events.prefix.length);if(is_array(fn)){clbk[eType]=fn}if(typeof fn=="function"){clbk[eType].push(fn)}return clbk[eType]});$cfs.bind(cf_e("currentPosition",conf),function(e,fn){e.stopPropagation();if(itms.first==0){var val=0}else{var val=itms.total-itms.first}if(typeof fn=="function"){fn.call($tt0,val)}return val});$cfs.bind(cf_e("currentPage",conf),function(e,fn){e.stopPropagation();var ipp=opts.pagination.items||opts.items.visible;var max=Math.ceil(itms.total/ipp-1);if(itms.first==0){var nr=0}else{if(itms.first<itms.total%ipp){var nr=0}else{if(itms.first==ipp&&!opts.circular){var nr=max}else{var nr=Math.round((itms.total-itms.first)/ipp)}}}if(nr<0){nr=0}if(nr>max){nr=max}if(typeof fn=="function"){fn.call($tt0,nr)}return nr});$cfs.bind(cf_e("currentVisible",conf),function(e,fn){e.stopPropagation();$i=gi_getCurrentItems($cfs.children(),opts);if(typeof fn=="function"){fn.call($tt0,$i)}return $i});$cfs.bind(cf_e("slice",conf),function(e,f,l,fn){e.stopPropagation();if(itms.total==0){return false}var v=[f,l,fn],t=["number","number","function"],a=cf_sortParams(v,t);f=(typeof a[0]=="number")?a[0]:0;l=(typeof a[1]=="number")?a[1]:itms.total;fn=a[2];f+=itms.first;l+=itms.first;while(f>itms.total){f-=itms.total}while(l>itms.total){l-=itms.total}while(f<0){f+=itms.total}while(l<0){l+=itms.total}var $iA=$cfs.children();if(l>f){var $i=$iA.slice(f,l)}else{var $i=$($iA.slice(f,itms.total).get().concat($iA.slice(0,l).get()))}if(typeof fn=="function"){fn.call($tt0,$i)}return $i});$cfs.bind(cf_e("isPaused",conf)+" "+cf_e("isStopped",conf)+" "+cf_e("isScrolling",conf),function(e,fn){e.stopPropagation();var eType=e.type.slice(conf.events.prefix.length);if(typeof fn=="function"){fn.call($tt0,crsl[eType])}return crsl[eType]});$cfs.bind(cf_e("configuration",conf),function(e,a,b,c){e.stopPropagation();var reInit=false;if(typeof a=="function"){a.call($tt0,opts)}else{if(typeof a=="object"){opts_orig=$.extend(true,{},opts_orig,a);if(b!==false){reInit=true}else{opts=$.extend(true,{},opts,a)}}else{if(typeof a!="undefined"){if(typeof b=="function"){var val=eval("opts."+a);if(typeof val=="undefined"){val=""}b.call($tt0,val)}else{if(typeof b!="undefined"){if(typeof c!=="boolean"){c=true}eval("opts_orig."+a+" = b");if(c!==false){reInit=true}else{eval("opts."+a+" = b")}}else{return eval("opts."+a)}}}}}if(reInit){sz_resetMargin($cfs.children(),opts);$cfs._cfs_init(opts_orig);$cfs._cfs_bind_buttons();var siz=sz_setSizes($cfs,opts,false);$cfs.trigger(cf_e("updatePageStatus",conf),[true,siz])}return opts});$cfs.bind(cf_e("linkAnchors",conf),function(e,$con,sel){e.stopPropagation();if(typeof $con=="undefined"||$con.length==0){$con=$("body")}else{if(typeof $con=="string"){$con=$($con)}}if(typeof $con!="object"){return debug(conf,"Not a valid object.")}if(typeof sel!="string"||sel.length==0){sel="a.caroufredsel"}$con.find(sel).each(function(){var h=this.hash||"";if(h.length>0&&$cfs.children().index($(h))!=-1){$(this).unbind("click").click(function(e){e.preventDefault();$cfs.trigger(cf_e("slideTo",conf),h)})}});return true});$cfs.bind(cf_e("updatePageStatus",conf),function(e,build,sizes){e.stopPropagation();if(!opts.pagination.container){return}if(build){var ipp=opts.pagination.items||opts.items.visible,l=Math.ceil(itms.total/ipp);if(opts.pagination.anchorBuilder){opts.pagination.container.children().remove();opts.pagination.container.each(function(){for(var a=0;a<l;a++){var i=$cfs.children().eq(gn_getItemIndex(a*ipp,0,true,itms,$cfs));$(this).append(opts.pagination.anchorBuilder(a+1,i))}})}opts.pagination.container.each(function(){$(this).children().unbind(opts.pagination.event).each(function(a){$(this).bind(opts.pagination.event,function(e){e.preventDefault();$cfs.trigger(cf_e("slideTo",conf),[a*ipp,0,true,opts.pagination])})})})}opts.pagination.container.each(function(){$(this).children().removeClass(cf_c("selected",conf)).eq($cfs.triggerHandler(cf_e("currentPage",conf))).addClass(cf_c("selected",conf))});return true});$cfs.bind(cf_e("updateSizes",conf),function(e){var a_itm=$cfs.children(),vI=opts.items.visible;if(opts.items.visibleConf.variable){vI=gn_getVisibleItemsNext(a_itm,opts,0)}else{if(opts.items.filter!="*"){vI=gn_getVisibleItemsNextFilter(a_itm,opts,0)}}if(!opts.circular&&itms.first!=0&&vI>itms.first){if(opts.items.visibleConf.variable){var nI=gn_getVisibleItemsPrev(a_itm,opts,itms.first)-itms.first}else{if(opts.items.filter!="*"){var nI=gn_getVisibleItemsPrevFilter(a_itm,opts,itms.first)-itms.first}else{nI=opts.items.visible-itms.first}}debug(conf,"Preventing non-circular: sliding "+nI+" items backward.");$cfs.trigger("prev",nI)}opts.items.visible=cf_getItemsAdjust(vI,opts,opts.items.visibleConf.adjust,$tt0);return sz_setSizes($cfs,opts)});$cfs.bind(cf_e("destroy",conf),function(e,orgOrder){e.stopPropagation();tmrs=sc_clearTimers(tmrs);$cfs.data("cfs_isCarousel",false);$cfs.trigger(cf_e("finish",conf));if(orgOrder){$cfs.trigger(cf_e("jumpToStart",conf))}if(opts.usePadding){sz_resetMargin($cfs.children(),opts)}$cfs.css($cfs.data("cfs_origCss"));$cfs._cfs_unbind_events();$cfs._cfs_unbind_buttons();$wrp.replaceWith($cfs);return true});$cfs.bind("_cfs_triggerEvent",function(e,n,o){e.stopPropagation();return $cfs.triggerHandler(cf_e(n,conf),o)})};$cfs._cfs_unbind_events=function(){$cfs.unbind(cf_e("",conf));$cfs.unbind(cf_e("",conf,false));$cfs.unbind("_cfs_triggerEvent")};$cfs._cfs_bind_buttons=function(){$cfs._cfs_unbind_buttons();nv_showNavi(opts,itms.total,conf);nv_enableNavi(opts,itms.first,conf);if(opts.auto.pauseOnHover){var pC=bt_pauseOnHoverConfig(opts.auto.pauseOnHover);$wrp.bind(cf_e("mouseenter",conf,false),function(){$cfs.trigger(cf_e("pause",conf),pC)}).bind(cf_e("mouseleave",conf,false),function(){$cfs.trigger(cf_e("resume",conf))})}if(opts.auto.button){opts.auto.button.bind(cf_e(opts.auto.event,conf,false),function(e){e.preventDefault();var ev=false,pC=null;if(crsl.isPaused){ev="play"}else{if(opts.auto.pauseOnEvent){ev="pause";pC=bt_pauseOnHoverConfig(opts.auto.pauseOnEvent)}}if(ev){$cfs.trigger(cf_e(ev,conf),pC)}})}if(opts.prev.button){opts.prev.button.bind(cf_e(opts.prev.event,conf,false),function(e){e.preventDefault();$cfs.trigger(cf_e("prev",conf))});if(opts.prev.pauseOnHover){var pC=bt_pauseOnHoverConfig(opts.prev.pauseOnHover);opts.prev.button.bind(cf_e("mouseenter",conf,false),function(){$cfs.trigger(cf_e("pause",conf),pC)}).bind(cf_e("mouseleave",conf,false),function(){$cfs.trigger(cf_e("resume",conf))})}}if(opts.next.button){opts.next.button.bind(cf_e(opts.next.event,conf,false),function(e){e.preventDefault();$cfs.trigger(cf_e("next",conf))});if(opts.next.pauseOnHover){var pC=bt_pauseOnHoverConfig(opts.next.pauseOnHover);opts.next.button.bind(cf_e("mouseenter",conf,false),function(){$cfs.trigger(cf_e("pause",conf),pC)}).bind(cf_e("mouseleave",conf,false),function(){$cfs.trigger(cf_e("resume",conf))})}}if($.fn.mousewheel){if(opts.prev.mousewheel){if(!crsl.mousewheelPrev){crsl.mousewheelPrev=true;$wrp.mousewheel(function(e,delta){if(delta>0){e.preventDefault();var num=bt_mousesheelNumber(opts.prev.mousewheel);$cfs.trigger(cf_e("prev",conf),num)}})}}if(opts.next.mousewheel){if(!crsl.mousewheelNext){crsl.mousewheelNext=true;$wrp.mousewheel(function(e,delta){if(delta<0){e.preventDefault();var num=bt_mousesheelNumber(opts.next.mousewheel);$cfs.trigger(cf_e("next",conf),num)}})}}}if($.fn.touchwipe){var wP=(opts.prev.wipe)?function(){$cfs.trigger(cf_e("prev",conf))}:null,wN=(opts.next.wipe)?function(){$cfs.trigger(cf_e("next",conf))}:null;if(wN||wN){if(!crsl.touchwipe){crsl.touchwipe=true;var twOps={min_move_x:30,min_move_y:30,preventDefaultEvents:true};switch(opts.direction){case"up":case"down":twOps.wipeUp=wP;twOps.wipeDown=wN;break;default:twOps.wipeLeft=wN;twOps.wipeRight=wP}$wrp.touchwipe(twOps)}}}if(opts.pagination.container){if(opts.pagination.pauseOnHover){var pC=bt_pauseOnHoverConfig(opts.pagination.pauseOnHover);opts.pagination.container.bind(cf_e("mouseenter",conf,false),function(){$cfs.trigger(cf_e("pause",conf),pC)}).bind(cf_e("mouseleave",conf,false),function(){$cfs.trigger(cf_e("resume",conf))})}}if(opts.prev.key||opts.next.key){$(document).bind(cf_e("keyup",conf,false,true,true),function(e){var k=e.keyCode;if(k==opts.next.key){e.preventDefault();$cfs.trigger(cf_e("next",conf))}if(k==opts.prev.key){e.preventDefault();$cfs.trigger(cf_e("prev",conf))}})}if(opts.pagination.keys){$(document).bind(cf_e("keyup",conf,false,true,true),function(e){var k=e.keyCode;if(k>=49&&k<58){k=(k-49)*opts.items.visible;if(k<=itms.total){e.preventDefault();$cfs.trigger(cf_e("slideTo",conf),[k,0,true,opts.pagination])}}})}if(opts.auto.play){$cfs.trigger(cf_e("play",conf),opts.auto.delay)}if(crsl.upDateOnWindowResize){var $w=$(window),_windowWidth=$w.width(),_windowHeight=$w.height();$w.bind(cf_e("resize",conf,false,true,true),function(e){if($w.width()!=_windowWidth||$w.height()!=_windowHeight){$cfs.trigger(cf_e("finish",conf));if(opts.auto.pauseOnResize&&!crsl.isPaused){$cfs.trigger(cf_e("play",conf))}sz_resetMargin($cfs.children(),opts);$cfs._cfs_init(opts_orig);var siz=sz_setSizes($cfs,opts,false);$cfs.trigger(cf_e("updatePageStatus",conf),[true,siz]);_windowWidth=$w.width();_windowHeight=$w.height()}})}};$cfs._cfs_unbind_buttons=function(){var ns1=cf_e("",conf),ns2=cf_e("",conf,false);ns3=cf_e("",conf,false,true,true);$(document).unbind(ns3);$(window).unbind(ns3);$wrp.unbind(ns2);if(opts.auto.button){opts.auto.button.unbind(ns2)}if(opts.prev.button){opts.prev.button.unbind(ns2)}if(opts.next.button){opts.next.button.unbind(ns2)}if(opts.pagination.container){opts.pagination.container.unbind(ns2);if(opts.pagination.anchorBuilder){opts.pagination.container.children().remove()}}nv_showNavi(opts,"hide",conf);nv_enableNavi(opts,"removeClass",conf)};var crsl={direction:"next",isPaused:true,isScrolling:false,isStopped:false,mousewheelNext:false,mousewheelPrev:false,touchwipe:false},itms={total:$cfs.children().length,first:0},tmrs={timer:null,auto:null,queue:null,startTime:getTime(),timePassed:0},scrl={isStopped:false,duration:0,startTime:0,easing:"",anims:[]},clbk={onBefore:[],onAfter:[]},queu=[],conf=$.extend(true,{},$.fn.carouFredSel.configs,configs),opts={},opts_orig=options,$wrp=$cfs.wrap("<"+conf.wrapper.element+' class="'+conf.wrapper.classname+'" />').parent();conf.selector=$cfs.selector;conf.serialNumber=$.fn.carouFredSel.serialNumber++;$cfs._cfs_init(opts_orig,true,starting_position);$cfs._cfs_build();$cfs._cfs_bind_events();$cfs._cfs_bind_buttons();if(is_array(opts.items.start)){var start_arr=opts.items.start}else{var start_arr=[];if(opts.items.start!=0){start_arr.push(opts.items.start)}}if(opts.cookie){start_arr.unshift(cf_readCookie(opts.cookie))}if(start_arr.length>0){for(var a=0,l=start_arr.length;a<l;a++){var s=start_arr[a];if(s==0){continue}if(s===true){s=window.location.hash;if(s.length<1){continue}}else{if(s==="random"){s=Math.floor(Math.random()*itms.total)}}if($cfs.triggerHandler(cf_e("slideTo",conf),[s,0,true,{fx:"none"}])){break}}}var siz=sz_setSizes($cfs,opts,false),itm=gi_getCurrentItems($cfs.children(),opts);if(opts.onCreate){opts.onCreate.call($tt0,itm,siz)}$cfs.trigger(cf_e("updatePageStatus",conf),[true,siz]);$cfs.trigger(cf_e("linkAnchors",conf));return $cfs};$.fn.carouFredSel.serialNumber=1;$.fn.carouFredSel.defaults={synchronise:false,infinite:true,circular:true,responsive:false,direction:"left",items:{start:0},scroll:{easing:"swing",duration:500,pauseOnHover:false,mousewheel:false,wipe:false,event:"click",queue:false}};$.fn.carouFredSel.configs={debug:false,events:{prefix:"",namespace:"cfs"},wrapper:{element:"div",classname:"caroufredsel_wrapper"},classnames:{}};$.fn.carouFredSel.pageAnchorBuilder=function(nr,itm){return'<a href="#"><span>'+nr+"</span></a>"};function sc_setScroll(d,e){return{anims:[],duration:d,orgDuration:d,easing:e,startTime:getTime()}}function sc_startScroll(s){if(typeof s.pre=="object"){sc_startScroll(s.pre)}for(var a=0,l=s.anims.length;a<l;a++){var b=s.anims[a];if(!b){continue}if(b[3]){b[0].stop()}b[0].animate(b[1],{complete:b[2],duration:s.duration,easing:s.easing})}if(typeof s.post=="object"){sc_startScroll(s.post)}}function sc_stopScroll(s,finish){if(typeof finish!="boolean"){finish=true}if(typeof s.pre=="object"){sc_stopScroll(s.pre,finish)}for(var a=0,l=s.anims.length;a<l;a++){var b=s.anims[a];b[0].stop(true);if(finish){b[0].css(b[1]);if(typeof b[2]=="function"){b[2]()}}}if(typeof s.post=="object"){sc_stopScroll(s.post,finish)}}function sc_clearTimers(t){if(t.auto){clearTimeout(t.auto)}return t}function sc_callCallbacks(cbs,t,args){if(cbs.length){for(var a=0,l=cbs.length;a<l;a++){cbs[a].apply(t,args)}}return[]}function fx_fade(sO,c,x,d,f){var o={duration:d,easing:sO.easing};if(typeof f=="function"){o.complete=f}c.animate({opacity:x},o)}function fx_cover(sc,c1,c2,o,prev){var old_w=ms_getSizes(gi_getOldItemsNext(c1.children(),o),o,true)[0],new_w=ms_getSizes(c2.children(),o,true)[0],cur_l=(prev)?-new_w:old_w,css_o={},ani_o={};css_o[o.d.width]=new_w;css_o[o.d.left]=cur_l;ani_o[o.d.left]=0;sc.pre.anims.push([c1,{opacity:1}]);sc.post.anims.push([c2,ani_o,function(){$(this).remove()}]);c2.css(css_o);return sc}function fx_uncover(sc,c1,c2,o,prev,n){var new_w=ms_getSizes(gi_getNewItemsNext(c1.children(),o,n),o,true)[0],old_w=ms_getSizes(c2.children(),o,true)[0],cur_l=(prev)?-old_w:new_w,css_o={},ani_o={};css_o[o.d.width]=old_w;css_o[o.d.left]=0;ani_o[o.d.left]=cur_l;sc.post.anims.push([c2,ani_o,function(){$(this).remove()}]);c2.css(css_o);return sc}function nv_showNavi(o,t,c){if(t=="show"||t=="hide"){var f=t}else{if(o.items.minimum>=t){debug(c,"Not enough items: hiding navigation ("+t+" items, "+o.items.minimum+" needed).");var f="hide"}else{var f="show"}}var s=(f=="show")?"removeClass":"addClass",h=cf_c("hidden",c);if(o.auto.button){o.auto.button[f]()[s](h)}if(o.prev.button){o.prev.button[f]()[s](h)}if(o.next.button){o.next.button[f]()[s](h)}if(o.pagination.container){o.pagination.container[f]()[s](h)}}function nv_enableNavi(o,f,c){if(o.circular||o.infinite){return}var fx=(f=="removeClass"||f=="addClass")?f:false,di=cf_c("disabled",c);if(o.auto.button&&fx){o.auto.button[fx](di)}if(o.prev.button){var fn=fx||(f==0)?"addClass":"removeClass";o.prev.button[fn](di)}if(o.next.button){var fn=fx||(f==o.items.visible)?"addClass":"removeClass";o.next.button[fn](di)}}function go_getObject($tt,obj){if(typeof obj=="function"){obj=obj.call($tt)}if(typeof obj=="undefined"){obj={}}return obj}function go_getNaviObject($tt,obj,type){if(typeof type!="string"){type=""}obj=go_getObject($tt,obj);if(typeof obj=="string"){var temp=cf_getKeyCode(obj);if(temp==-1){obj=$(obj)}else{obj=temp}}if(type=="pagination"){if(typeof obj=="boolean"){obj={keys:obj}}if(typeof obj.jquery!="undefined"){obj={container:obj}}if(typeof obj.container=="function"){obj.container=obj.container.call($tt)}if(typeof obj.container=="string"){obj.container=$(obj.container)}if(typeof obj.items!="number"){obj.items=false}}else{if(type=="auto"){if(typeof obj.jquery!="undefined"){obj={button:obj}}if(typeof obj=="boolean"){obj={play:obj}}if(typeof obj=="number"){obj={pauseDuration:obj}}if(typeof obj.button=="function"){obj.button=obj.button.call($tt)}if(typeof obj.button=="string"){obj.button=$(obj.button)}}else{if(typeof obj.jquery!="undefined"){obj={button:obj}}if(typeof obj=="number"){obj={key:obj}}if(typeof obj.button=="function"){obj.button=obj.button.call($tt)}if(typeof obj.button=="string"){obj.button=$(obj.button)}if(typeof obj.key=="string"){obj.key=cf_getKeyCode(obj.key)}}}return obj}function gn_getItemIndex(num,dev,org,items,$cfs){if(typeof num=="string"){if(isNaN(num)){num=$(num)}else{num=parseInt(num)}}if(typeof num=="object"){if(typeof num.jquery=="undefined"){num=$(num)}num=$cfs.children().index(num);if(num==-1){num=0}if(typeof org!="boolean"){org=false}}else{if(typeof org!="boolean"){org=true}}if(isNaN(num)){num=0}else{num=parseInt(num)}if(isNaN(dev)){dev=0}else{dev=parseInt(dev)}if(org){num+=items.first}num+=dev;if(items.total>0){while(num>=items.total){num-=items.total}while(num<0){num+=items.total}}return num}function gn_getVisibleItemsPrev(i,o,s){var t=0,x=0;for(var a=s;a>=0;a--){var j=i.eq(a);t+=(j.is(":visible"))?j[o.d.outerWidth](true):0;if(t>o.maxDimention){return x}if(a==0){a=i.length}x++}}function gn_getVisibleItemsPrevFilter(i,o,s){return gn_getItemsPrevFilter(i,o.items.filter,o.items.visibleConf.org,s)}function gn_getScrollItemsPrevFilter(i,o,s,m){return gn_getItemsPrevFilter(i,o.items.filter,m,s)}function gn_getItemsPrevFilter(i,f,m,s){var t=0,x=0;for(var a=s,l=i.length;a>=0;a--){x++;if(x==l){return x}var j=i.eq(a);if(j.is(f)){t++;if(t==m){return x}}if(a==0){a=l}}}function gn_getVisibleOrg($c,o){return o.items.visibleConf.org||$c.children().slice(0,o.items.visible).filter(o.items.filter).length}function gn_getVisibleItemsNext(i,o,s){var t=0,x=0;for(var a=s,l=i.length-1;a<=l;a++){var j=i.eq(a);t+=(j.is(":visible"))?j[o.d.outerWidth](true):0;if(t>o.maxDimention){return x}x++;if(x==l+1){return x}if(a==l){a=-1}}}function gn_getVisibleItemsNextTestCircular(i,o,s,l){var v=gn_getVisibleItemsNext(i,o,s);if(!o.circular){if(s+v>l){v=l-s}}return v}function gn_getVisibleItemsNextFilter(i,o,s){return gn_getItemsNextFilter(i,o.items.filter,o.items.visibleConf.org,s,o.circular)}function gn_getScrollItemsNextFilter(i,o,s,m){return gn_getItemsNextFilter(i,o.items.filter,m+1,s,o.circular)-1}function gn_getItemsNextFilter(i,f,m,s,c){var t=0,x=0;for(var a=s,l=i.length-1;a<=l;a++){x++;if(x==l){return x}var j=i.eq(a);if(j.is(f)){t++;if(t==m){return x}}if(a==l){a=-1}}}function gi_getCurrentItems(i,o){return i.slice(0,o.items.visible)}function gi_getOldItemsPrev(i,o,n){return i.slice(n,o.items.visibleConf.old+n)}function gi_getNewItemsPrev(i,o){return i.slice(0,o.items.visible)}function gi_getOldItemsNext(i,o){return i.slice(0,o.items.visibleConf.old)}function gi_getNewItemsNext(i,o,n){return i.slice(n,o.items.visible+n)}function sz_resetMargin(i,o,m){var x=(typeof m=="boolean")?m:false;if(typeof m!="number"){m=0}i.each(function(){var j=$(this);var t=parseInt(j.css(o.d.marginRight));if(isNaN(t)){t=0}j.data("cfs_tempCssMargin",t);j.css(o.d.marginRight,((x)?j.data("cfs_tempCssMargin"):m+j.data("cfs_origCssMargin")))})}function sz_setSizes($c,o,p){var $w=$c.parent(),$i=$c.children(),$v=gi_getCurrentItems($i,o),sz=cf_mapWrapperSizes(ms_getSizes($v,o,true),o,p);$w.css(sz);if(o.usePadding){var p=o.padding,r=p[o.d[1]];if(o.align){if(r<0){r=0}}var $l=$v.last();$l.css(o.d.marginRight,$l.data("cfs_origCssMargin")+r);$c.css(o.d.top,p[o.d[0]]);$c.css(o.d.left,p[o.d[3]])}$c.css(o.d.width,sz[o.d.width]+(ms_getTotalSize($i,o,"width")*2));$c.css(o.d.height,ms_getLargestSize($i,o,"height"));return sz}function ms_getSizes(i,o,wrapper){var s1=ms_getTotalSize(i,o,"width",wrapper),s2=ms_getLargestSize(i,o,"height",wrapper);return[s1,s2]}function ms_getLargestSize(i,o,dim,wrapper){if(typeof wrapper!="boolean"){wrapper=false}if(typeof o[o.d[dim]]=="number"&&wrapper){return o[o.d[dim]]}if(typeof o.items[o.d[dim]]=="number"){return o.items[o.d[dim]]}var di2=(dim.toLowerCase().indexOf("width")>-1)?"outerWidth":"outerHeight";return ms_getTrueLargestSize(i,o,di2)}function ms_getTrueLargestSize(i,o,dim){var s=0;for(var a=0,l=i.length;a<l;a++){var j=i.eq(a);var m=(j.is(":visible"))?j[o.d[dim]](true):0;if(s<m){s=m}}return s}function ms_getTrueInnerSize($el,o,dim){if(!$el.is(":visible")){return 0}var siz=$el[o.d[dim]](),arr=(o.d[dim].toLowerCase().indexOf("width")>-1)?["paddingLeft","paddingRight"]:["paddingTop","paddingBottom"];for(var a=0,l=arr.length;a<l;a++){var m=parseInt($el.css(arr[a]));siz-=(isNaN(m))?0:m}return siz}function ms_getTotalSize(i,o,dim,wrapper){if(typeof wrapper!="boolean"){wrapper=false}if(typeof o[o.d[dim]]=="number"&&wrapper){return o[o.d[dim]]}if(typeof o.items[o.d[dim]]=="number"){return o.items[o.d[dim]]*i.length}var d=(dim.toLowerCase().indexOf("width")>-1)?"outerWidth":"outerHeight",s=0;for(var a=0,l=i.length;a<l;a++){var j=i.eq(a);s+=(j.is(":visible"))?j[o.d[d]](true):0}return s}function ms_hasVariableSizes(i,o,dim){var s=false,v=false;for(var a=0,l=i.length;a<l;a++){var j=i.eq(a);var c=(j.is(":visible"))?j[o.d[dim]](true):0;if(s===false){s=c}else{if(s!=c){v=true}}if(s==0){v=true}}return v}function ms_getPaddingBorderMargin(i,o,d){return i[o.d["outer"+d]](true)-ms_getTrueInnerSize(i,o,"inner"+d)}function ms_isPercentage(x){return(typeof x=="string"&&x.slice(-1)=="%")}function ms_getPercentage(s,o){if(ms_isPercentage(o)){o=o.slice(0,-1);if(isNaN(o)){return s}s*=o/100}return s}function cf_e(n,c,pf,ns,rd){if(typeof pf!="boolean"){pf=true}if(typeof ns!="boolean"){ns=true}if(typeof rd!="boolean"){rd=false}if(pf){n=c.events.prefix+n}if(ns){n=n+"."+c.events.namespace}if(ns&&rd){n+=c.serialNumber}return n}function cf_c(n,c){return(typeof c.classnames[n]=="string")?c.classnames[n]:n}function cf_mapWrapperSizes(ws,o,p){if(typeof p!="boolean"){p=true}var pad=(o.usePadding&&p)?o.padding:[0,0,0,0];var wra={};wra[o.d.width]=ws[0]+pad[1]+pad[3];wra[o.d.height]=ws[1]+pad[0]+pad[2];return wra}function cf_sortParams(vals,typs){var arr=[];for(var a=0,l1=vals.length;a<l1;a++){for(var b=0,l2=typs.length;b<l2;b++){if(typs[b].indexOf(typeof vals[a])>-1&&typeof arr[b]=="undefined"){arr[b]=vals[a];break}}}return arr}function cf_getPadding(p){if(typeof p=="undefined"){return[0,0,0,0]}if(typeof p=="number"){return[p,p,p,p]}else{if(typeof p=="string"){p=p.split("px").join("").split("em").join("").split(" ")}}if(!is_array(p)){return[0,0,0,0]}for(var i=0;i<4;i++){p[i]=parseInt(p[i])}switch(p.length){case 0:return[0,0,0,0];case 1:return[p[0],p[0],p[0],p[0]];case 2:return[p[0],p[1],p[0],p[1]];case 3:return[p[0],p[1],p[2],p[1]];default:return[p[0],p[1],p[2],p[3]]}}function cf_getAlignPadding(itm,o){var x=(typeof o[o.d.width]=="number")?Math.ceil(o[o.d.width]-ms_getTotalSize(itm,o,"width")):0;switch(o.align){case"left":return[0,x];case"right":return[x,0];case"center":default:return[Math.ceil(x/2),Math.floor(x/2)]}}function cf_getAdjust(x,o,a,$t){var v=x;if(typeof a=="function"){v=a.call($t,v)}else{if(typeof a=="string"){var p=a.split("+"),m=a.split("-");if(m.length>p.length){var neg=true,sta=m[0],adj=m[1]}else{var neg=false,sta=p[0],adj=p[1]}switch(sta){case"even":v=(x%2==1)?x-1:x;break;case"odd":v=(x%2==0)?x-1:x;break;default:v=x;break}adj=parseInt(adj);if(!isNaN(adj)){if(neg){adj=-adj}v+=adj}}}if(typeof v!="number"){v=1}if(v<1){v=1}return v}function cf_getItemsAdjust(x,o,a,$t){return cf_getItemAdjustMinMax(cf_getAdjust(x,o,a,$t),o.items.visibleConf)}function cf_getItemAdjustMinMax(v,i){if(typeof i.min=="number"&&v<i.min){v=i.min}if(typeof i.max=="number"&&v>i.max){v=i.max}if(v<1){v=1}return v}function cf_getSynchArr(s){if(!is_array(s)){s=[[s]]}if(!is_array(s[0])){s=[s]}for(var j=0,l=s.length;j<l;j++){if(typeof s[j][0]=="string"){s[j][0]=$(s[j][0])}if(typeof s[j][1]!="boolean"){s[j][1]=true}if(typeof s[j][2]!="boolean"){s[j][2]=true}if(typeof s[j][3]!="number"){s[j][3]=0}}return s}function cf_getKeyCode(k){if(k=="right"){return 39}if(k=="left"){return 37}if(k=="up"){return 38}if(k=="down"){return 40}return -1}function cf_setCookie(n,v){if(n){document.cookie=n+"="+v+"; path=/"}}function cf_readCookie(n){n+="=";var ca=document.cookie.split(";");for(var a=0,l=ca.length;a<l;a++){var c=ca[a];while(c.charAt(0)==" "){c=c.slice(1)}if(c.indexOf(n)==0){return c.slice(n.length)}}return 0}function bt_pauseOnHoverConfig(p){if(p&&typeof p=="string"){var i=(p.indexOf("immediate")>-1)?true:false,r=(p.indexOf("resume")>-1)?true:false}else{var i=r=false}return[i,r]}function bt_mousesheelNumber(mw){return(typeof mw=="number")?mw:null}function is_array(a){return typeof(a)=="object"&&(a instanceof Array)}function getTime(){return new Date().getTime()}function debug(d,m){if(typeof d=="object"){var s=" ("+d.selector+")";d=d.debug}else{var s=""}if(!d){return false}if(typeof m=="string"){m="carouFredSel"+s+": "+m}else{m=["carouFredSel"+s+":",m]}if(window.console&&window.console.log){window.console.log(m)}return false}$.fn.caroufredsel=function(o,c){return this.carouFredSel(o,c)};$.extend($.easing,{quadratic:function(t){var t2=t*t;return t*(-t2*t+4*t2-6*t+4)},cubic:function(t){return t*(4*t*t-9*t+6)},elastic:function(t){var t2=t*t;return t*(33*t2*t2-106*t2*t+126*t2-67*t+15)}})})(mrm.$);(function(f){f.cluetip={version:"1.0.6"};var k,j,h,e,g,b,l,d;f.fn.cluetip=function(n,m){if(typeof n=="object"){m=n;n=null}if(n=="destroy"){return this.removeData("thisInfo").unbind(".cluetip")}return this.each(function(P){var w=this,B=f(this);var M=f.extend(true,{},f.fn.cluetip.defaults,m||{},f.metadata?B.metadata():f.meta?B.data():{});var q=false;var F=+M.cluezIndex;B.data("thisInfo",{title:w.title,zIndex:F});var X=false,W=0;if(!f("#cluetip").length){f(['<div id="cluetip">','<div id="cluetip-outer">','<h3 id="cluetip-title"></h3>','<div id="cluetip-inner"></div>',"</div>",'<div id="cluetip-extra"></div>','<div id="cluetip-arrows" class="cluetip-arrows"></div>',"</div>"].join(""))[c](a).hide();k=f("#cluetip").css({position:"absolute"});h=f("#cluetip-outer").css({position:"relative",zIndex:F});j=f("#cluetip-inner");e=f("#cluetip-title");g=f("#cluetip-arrows");b=f('<div id="cluetip-waitimage"></div>').css({position:"absolute"}).insertBefore(k).hide()}var O=(M.dropShadow)?+M.dropShadowSteps:0;if(!l){l=f([]);for(var aa=0;aa<O;aa++){l=l.add(f("<div></div>").css({zIndex:F-1,opacity:0.1,top:1+aa,left:1+aa}))}l.css({position:"absolute",backgroundColor:"#000"}).prependTo(k)}var K=B.attr(M.attribute),u=M.cluetipClass;if(!K&&!M.splitTitle&&!n){return true}if(M.local&&M.localPrefix){K=M.localPrefix+K}if(M.local&&M.hideLocal){f(K+":first").hide()}var L=parseInt(M.topOffset,10),H=parseInt(M.leftOffset,10);var G,Y,D=isNaN(parseInt(M.height,10))?"auto":(/\D/g).test(M.height)?M.height:M.height+"px";var o,z,Q,ae,S,Z;var E=parseInt(M.width,10)||275,ab=E+(parseInt(k.css("paddingLeft"),10)||0)+(parseInt(k.css("paddingRight"),10)||0)+O,v=parseInt(M.maxWidth),I=this.offsetWidth,A,R,af,T,p;if(M.width=="auto"){E="auto"}var V;var N=(M.attribute!="title")?B.attr(M.titleAttribute):"";if(M.splitTitle){if(N==undefined){N=""}V=N.split(M.splitTitle);N=V.shift()}if(M.escapeTitle){N=N.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;")}var s;function ad(){return false}var C=function(ag){if(!M.onActivate(B)){return false}X=true;k.removeClass().css({width:E});if(K==B.attr("href")){B.css("cursor",M.cursor)}if(M.hoverClass){B.addClass(M.hoverClass)}z=Q=B.offset().top;A=B.offset().left;T=ag.pageX;S=ag.pageY;if(w.tagName.toLowerCase()!="area"){o=f(document).scrollTop();p=f(window).width()}if(M.positionBy=="fixed"){R=I+A+H;k.css({left:R})}else{R=(I>A&&A>ab)||A+I+ab+H>p?A-ab-H:I+A+H;if(w.tagName.toLowerCase()=="area"||M.positionBy=="mouse"||I+ab>p){if(T+20+ab>p){k.addClass(" cluetip-"+u);R=(T-ab-H)>=0?T-ab-H-parseInt(k.css("marginLeft"),10)+parseInt(j.css("marginRight"),10):T-(ab/2)}else{R=T+H}}var ah=R<0?ag.pageY+L:ag.pageY;k.css({left:(R>0&&M.positionBy!="bottomTop")?R:(T+(ab/2)>p)?p/2-ab/2:Math.max(T-(ab/2),0),zIndex:B.data("thisInfo").zIndex});g.css({zIndex:B.data("thisInfo").zIndex+1})}Y=f(window).height();if(n){if(typeof n=="function"){n=n.call(w)}j.html(n);U(ah)}else{if(V){var aj=V.length;j.html(aj?V[0]:"");if(aj>1){for(var ai=1;ai<aj;ai++){j.append('<div class="split-body">'+V[ai]+"</div>")}}U(ah)}else{if(!M.local&&K.indexOf("#")!==0){if(/\.(jpe?g|tiff?|gif|png)$/i.test(K)){j.html('<img src="'+K+'" alt="'+N+'" />');U(ah)}else{if(q&&M.ajaxCache){j.html(q);U(ah)}else{var an=M.ajaxSettings.beforeSend,ak=M.ajaxSettings.error,al=M.ajaxSettings.success,aq=M.ajaxSettings.complete;var ap={cache:false,url:K,beforeSend:function(ar){if(an){an.call(w,ar,k,j)}h.children().empty();if(M.waitImage){b.css({top:S+20,left:T+20,zIndex:B.data("thisInfo").zIndex-1}).show()}},error:function(ar,at){if(X){if(ak){ak.call(w,ar,at,k,j)}else{j.html("<i>sorry, the contents could not be loaded</i>")}}},success:function(ar,at){q=M.ajaxProcess.call(w,ar);if(X){if(al){al.call(w,ar,at,k,j)}j.html(q)}},complete:function(au,aw){if(aq){aq.call(w,au,aw,k,j)}var av=j[0].getElementsByTagName("img");d=av.length;for(var at=0,ar=av.length;at<ar;at++){if(av[at].complete){d--}}if(d&&!f.browser.opera){f(av).bind("load error",function(){d--;if(d<1){b.hide();if(X){U(ah)}}})}else{b.hide();if(X){U(ah)}}}};var am=f.extend(true,{},M.ajaxSettings,ap);f.ajax(am)}}}else{if(M.local){var ao=f(K+(/#\S+$/.test(K)?"":":eq("+P+")")).clone(true).show();j.html(ao);U(ah)}}}}};var U=function(ai){k.addClass("cluetip-"+u);if(M.truncate){var aj=j.text().slice(0,M.truncate)+"...";j.html(aj)}function ag(){}N?e.show().html(N):(M.showTitle)?e.show().html("&nbsp;"):e.hide();if(M.sticky){var ah=f('<div id="cluetip-close"><a href="#">'+M.closeText+"</a></div>");(M.closePosition=="bottom")?ah.appendTo(j):(M.closePosition=="title")?ah.prependTo(e):ah.prependTo(j);ah.bind("click.cluetip",function(){J();return false});if(M.mouseOutClose){k.bind("mouseleave.cluetip",function(){J()})}else{k.unbind("mouseleave.cluetip")}}var ak="";h.css({zIndex:B.data("thisInfo").zIndex,overflow:D=="auto"?"visible":"auto",height:D});G=D=="auto"?Math.max(k.outerHeight(),k.height()):parseInt(D,10);ae=Q;Z=o+Y;if(M.positionBy=="fixed"){ae=Q-M.dropShadowSteps+L}else{if((R<T&&Math.max(R,0)+ab>T)||M.positionBy=="bottomTop"){if(Q+G+L>Z&&S-o>G+L){ae=S-G-L;ak="top"}else{ae=S+L;ak="bottom"}}else{if(Q+G+L>Z){ae=(G>=Y)?o:Z-G-L}else{if(B.css("display")=="block"||w.tagName.toLowerCase()=="area"||M.positionBy=="mouse"){ae=ai-L}else{ae=Q-M.dropShadowSteps}}}}if(ak==""){R<A?ak="left":ak="right"}if(v!==""){if(B.attr("class")!=="cnt_opt"){k.css({"max-width":v})}}k.css({top:ae+"px"}).removeClass().addClass("clue-"+ak+"-"+u).addClass(" cluetip-"+u);if(M.arrows){var al=(Q-ae-M.dropShadowSteps);g.css({top:(/(left|right)/.test(ak)&&R>=0&&al>0)?al+"px":/(left|right)/.test(ak)?0:""}).show()}else{g.hide()}l.hide();k.hide()[M.fx.open](M.fx.openSpeed||0);if(M.dropShadow){l.css({height:G,width:E,zIndex:B.data("thisInfo").zIndex-1}).show()}if(f.fn.bgiframe){k.bgiframe()}if(M.delayedClose>0){W=setTimeout(J,M.delayedClose)}M.onShow.call(w,k,j)};var ac=function(ag){X=false;b.hide();if(!M.sticky||(/click|toggle/).test(M.activation)){J();clearTimeout(W)}if(M.hoverClass){B.removeClass(M.hoverClass)}};var J=function(){h.parent().hide().removeClass();M.onHide.call(w,k,j);B.removeClass("cluetip-clicked");if(N){B.attr(M.titleAttribute,N)}B.css("cursor","");if(M.arrows){g.css({top:""})}};f(document).bind("hideCluetip",function(ag){J()});if((/click|toggle/).test(M.activation)){B.bind("click.cluetip",function(ag){if(k.is(":hidden")||!B.is(".cluetip-clicked")){C(ag);f(".cluetip-clicked").removeClass("cluetip-clicked");B.addClass("cluetip-clicked")}else{ac(ag)}this.blur();return false})}else{if(M.activation=="focus"){B.bind("focus.cluetip",function(ag){C(ag)});B.bind("blur.cluetip",function(ag){ac(ag)})}else{B[M.clickThrough?"unbind":"bind"]("click",ad);var r=function(ag){if(M.tracking==true){var ai=R-ag.pageX;var ah=ae?ae-ag.pageY:Q-ag.pageY;B.bind("mousemove.cluetip",function(aj){k.css({left:aj.pageX+ai,top:aj.pageY+ah})})}};if(f.fn.hoverIntent&&M.hoverIntent){B.hoverIntent({sensitivity:M.hoverIntent.sensitivity,interval:M.hoverIntent.interval,over:function(ag){C(ag);r(ag)},timeout:M.hoverIntent.timeout,out:function(ag){ac(ag);B.unbind("mousemove.cluetip")}})}else{B.bind("mouseenter.cluetip",function(ag){C(ag);r(ag)}).bind("mouseleave.cluetip",function(ag){ac(ag);B.unbind("mousemove.cluetip")})}B.bind("mouseover.cluetip",function(ag){B.attr("title","")}).bind("mouseleave.cluetip",function(ag){B.attr("title",B.data("thisInfo").title)})}}})};f.fn.cluetip.defaults={width:275,height:"auto",cluezIndex:97,positionBy:"auto",topOffset:15,leftOffset:15,local:false,localPrefix:null,hideLocal:true,attribute:"rel",titleAttribute:"title",splitTitle:"",escapeTitle:false,showTitle:true,cluetipClass:"default",hoverClass:"",waitImage:true,cursor:"help",arrows:false,dropShadow:true,dropShadowSteps:6,sticky:false,mouseOutClose:false,activation:"hover",clickThrough:false,tracking:false,delayedClose:0,closePosition:"top",closeText:"Close",truncate:0,fx:{open:"show",openSpeed:""},hoverIntent:{sensitivity:3,interval:50,timeout:0},onActivate:function(m){return true},onShow:function(n,m){},onHide:function(n,m){},ajaxCache:true,ajaxProcess:function(m){m=m.replace(/<(script|style|title)[^<]+<\/(script|style|title)>/gm,"").replace(/<(link|meta)[^>]+>/g,"");return m},ajaxSettings:{dataType:"html"},debug:false};var c="appendTo",a="body";f.cluetip.setup=function(m){if(m&&m.insertionType&&(m.insertionType).match(/appendTo|prependTo|insertBefore|insertAfter/)){c=m.insertionType}if(m&&m.insertionElement){a=m.insertionElement}}})(mrm.$);(function(a){a.fn.equalHeights=function(d,c){var b=(d)?d:0;this.each(function(){var e=a(this);if(e.outerHeight()>b){b=e.outerHeight()}});if((c)&&b>c){b=c}return this.each(function(){var f=a(this);var e=parseInt(f.css("padding-top"))+parseInt(f.css("padding-bottom"));f.height(b-e)})}})(mrm.$);(function(F){var P,X,U,Q,d,n,N,E,S,D,G=0,L={},k=[],e=0,K={},C=[],f=null,p=new Image(),j=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,l=/[^\.]\.(swf)\s*$/i,q,R=1,h=0,v="",b,c,T=false,u=F.extend(F("<div/>")[0],{prop:0}),W=F.browser.msie&&F.browser.version<7&&!window.XMLHttpRequest,s=function(){X.hide();p.onerror=p.onload=null;if(f){f.abort()}P.empty()},B=function(){if(false===L.onError(k,G,L)){X.hide();T=false;return}L.titleShow=false;L.width="auto";L.height="auto";P.html('<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.</p>');o()},A=function(){var ad=k[G],aa,ac,af,ae,Z,ab;s();L=F.extend({},F.fn.fancybox.defaults,(typeof F(ad).data("fancybox")=="undefined"?L:F(ad).data("fancybox")));ab=L.onStart(k,G,L);if(ab===false){T=false;return}else{if(typeof ab=="object"){L=F.extend(L,ab)}}af=L.title||(ad.nodeName?F(ad).attr("title"):ad.title)||"";if(ad.nodeName&&!L.orig){L.orig=F(ad).children("img:first").length?F(ad).children("img:first"):F(ad)}if(af===""&&L.orig&&L.titleFromAlt){af=L.orig.attr("alt")}aa=L.href||(ad.nodeName?F(ad).attr("href"):ad.href)||null;if((/^(?:javascript)/i).test(aa)||aa=="#"){aa=null}if(L.type){ac=L.type;if(!aa){aa=L.content}}else{if(L.content){ac="html"}else{if(aa){if(aa.match(j)){ac="image"}else{if(aa.match(l)){ac="swf"}else{if(F(ad).hasClass("iframe")){ac="iframe"}else{if(aa.indexOf("#")===0){ac="inline"}else{ac="ajax"}}}}}}}if(!ac){B();return}if(ac=="inline"){ad=aa.substr(aa.indexOf("#"));ac=F(ad).length>0?"inline":"ajax"}L.type=ac;L.href=aa;L.title=af;if(L.autoDimensions){if(L.type=="html"||L.type=="inline"||L.type=="ajax"){L.width="auto";L.height="auto"}else{L.autoDimensions=false}}if(L.modal){L.overlayShow=true;L.hideOnOverlayClick=false;L.hideOnContentClick=false;L.enableEscapeButton=false;L.showCloseButton=false}L.padding=parseInt(L.padding,10);L.margin=parseInt(L.margin,10);P.css("padding",(L.padding+L.margin));F(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){F(this).replaceWith(n.children())});switch(ac){case"html":P.html(L.content);o();break;case"inline":if(F(ad).parent().is("#fancybox-content")===true){T=false;return}F('<div class="fancybox-inline-tmp" />').hide().insertBefore(F(ad)).bind("fancybox-cleanup",function(){F(this).replaceWith(n.children())}).bind("fancybox-cancel",function(){F(this).replaceWith(P.children())});F(ad).appendTo(P);o();break;case"image":T=false;F.fancybox.showActivity();p=new Image();p.onerror=function(){B()};p.onload=function(){T=true;p.onerror=p.onload=null;J()};p.src=aa;break;case"swf":L.scrolling="no";ae='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+L.width+'" height="'+L.height+'"><param name="movie" value="'+aa+'"></param>';Z="";F.each(L.swf,function(ag,ah){ae+='<param name="'+ag+'" value="'+ah+'"></param>';Z+=" "+ag+'="'+ah+'"'});ae+='<embed src="'+aa+'" type="application/x-shockwave-flash" width="'+L.width+'" height="'+L.height+'"'+Z+"></embed></object>";P.html(ae);o();break;case"ajax":T=false;F.fancybox.showActivity();L.ajax.win=L.ajax.success;f=F.ajax(F.extend({},L.ajax,{url:aa,data:L.ajax.data||{},error:function(ag,ai,ah){if(ag.status>0){B()}},success:function(ah,aj,ag){var ai=typeof ag=="object"?ag:f;if(ai.status==200){if(typeof L.ajax.win=="function"){ab=L.ajax.win(aa,ah,aj,ag);if(ab===false){X.hide();return}else{if(typeof ab=="string"||typeof ab=="object"){ah=ab}}}P.html(ah);o()}}}));break;case"iframe":I();break}},o=function(){var Z=L.width,aa=L.height;if(Z.toString().indexOf("%")>-1){Z=parseInt((F(window).width()-(L.margin*2))*parseFloat(Z)/100,10)+"px"}else{Z=Z=="auto"?"auto":Z+"px"}if(aa.toString().indexOf("%")>-1){aa=parseInt((F(window).height()-(L.margin*2))*parseFloat(aa)/100,10)+"px"}else{aa=aa=="auto"?"auto":aa+"px"}P.wrapInner('<div style="width:'+Z+";height:"+aa+";overflow: "+(L.scrolling=="auto"?"auto":(L.scrolling=="yes"?"scroll":"hidden"))+';position:relative;"></div>');L.width=P.width();L.height=P.height();I()},J=function(){L.width=p.width;L.height=p.height;F("<img />").attr({id:"fancybox-img",src:p.src,alt:L.title}).appendTo(P);I()},I=function(){var aa,Z;X.hide();if(Q.is(":visible")&&false===K.onCleanup(C,e,K)){F.event.trigger("fancybox-cancel");T=false;return}T=true;F(n.add(U)).unbind();F(window).unbind("resize.fb scroll.fb");F(document).unbind("keydown.fb");if(Q.is(":visible")&&K.titlePosition!=="outside"){Q.css("height",Q.height())}C=k;e=G;K=L;if(K.overlayShow){U.css({"background-color":K.overlayColor,opacity:K.overlayOpacity,cursor:K.hideOnOverlayClick?"pointer":"auto",height:F(document).height()});if(!U.is(":visible")){if(W){F("select:not(#fancybox-tmp select)").filter(function(){return this.style.visibility!=="hidden"}).css({visibility:"hidden"}).one("fancybox-cleanup",function(){this.style.visibility="inherit"})}U.show()}}else{U.hide()}c=V();m();if(Q.is(":visible")){F(N.add(S).add(D)).hide();aa=Q.position(),b={top:aa.top,left:aa.left,width:Q.width(),height:Q.height()};Z=(b.width==c.width&&b.height==c.height);n.fadeTo(K.changeFade,0.3,function(){var ab=function(){n.html(P.contents()).fadeTo(K.changeFade,1,z)};F.event.trigger("fancybox-change");n.empty().removeAttr("filter").css({"border-width":K.padding,width:c.width-K.padding*2,height:L.autoDimensions?"auto":c.height-h-K.padding*2});if(Z){ab()}else{u.prop=0;F(u).animate({prop:1},{duration:K.changeSpeed,easing:K.easingChange,step:Y,complete:ab})}});return}Q.removeAttr("style");n.css("border-width",K.padding);if(K.transitionIn=="elastic"){b=M();n.html(P.contents());Q.show();if(K.opacity){c.opacity=0}u.prop=0;F(u).animate({prop:1},{duration:K.speedIn,easing:K.easingIn,step:Y,complete:z});return}if(K.titlePosition=="inside"&&h>0){E.show()}n.css({width:c.width-K.padding*2,height:L.autoDimensions?"auto":c.height-h-K.padding*2}).html(P.contents());Q.css(c).fadeIn(K.transitionIn=="none"?0:K.speedIn,z)},H=function(Z){if(Z&&Z.length){if(K.titlePosition=="float"){return'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">'+Z+'</td><td id="fancybox-title-float-right"></td></tr></table>'}return'<div id="fancybox-title-'+K.titlePosition+'">'+Z+"</div>"}return false},m=function(){v=K.title||"";h=0;E.empty().removeAttr("style").removeClass();if(K.titleShow===false){E.hide();return}v=F.isFunction(K.titleFormat)?K.titleFormat(v,C,e,K):H(v);if(!v||v===""){E.hide();return}E.addClass("fancybox-title-"+K.titlePosition).html(v).appendTo("body").show();switch(K.titlePosition){case"inside":E.css({width:c.width-(K.padding*2),marginLeft:K.padding,marginRight:K.padding});h=E.outerHeight(true);E.appendTo(d);c.height+=h;break;case"over":E.css({marginLeft:K.padding,width:c.width-(K.padding*2),bottom:K.padding}).appendTo(d);break;case"float":E.css("left",parseInt((E.width()-c.width-40)/2,10)*-1).appendTo(Q);break;default:E.css({width:c.width-(K.padding*2),paddingLeft:K.padding,paddingRight:K.padding}).appendTo(Q);break}E.hide()},g=function(){if(K.enableEscapeButton||K.enableKeyboardNav){F(document).bind("keydown.fb",function(Z){if(Z.keyCode==27&&K.enableEscapeButton){Z.preventDefault();F.fancybox.close()}else{if((Z.keyCode==37||Z.keyCode==39)&&K.enableKeyboardNav&&Z.target.tagName!=="INPUT"&&Z.target.tagName!=="TEXTAREA"&&Z.target.tagName!=="SELECT"){Z.preventDefault();F.fancybox[Z.keyCode==37?"prev":"next"]()}}})}if(!K.showNavArrows){S.hide();D.hide();return}if((K.cyclic&&C.length>1)||e!==0){S.show()}if((K.cyclic&&C.length>1)||e!=(C.length-1)){D.show()}},z=function(){if(!F.support.opacity){n.get(0).style.removeAttribute("filter");Q.get(0).style.removeAttribute("filter")}if(L.autoDimensions){n.css("height","auto")}Q.css("height","auto");if(v&&v.length){E.show()}if(K.showCloseButton){N.show()}g();if(K.hideOnContentClick){n.bind("click",F.fancybox.close)}if(K.hideOnOverlayClick){U.bind("click",F.fancybox.close)}F(window).bind("resize.fb",F.fancybox.resize);if(K.centerOnScroll){F(window).bind("scroll.fb",F.fancybox.center)}if(K.type=="iframe"){F('<iframe id="fancybox-frame" name="fancybox-frame'+new Date().getTime()+'" frameborder="0" hspace="0" '+(F.browser.msie?'allowtransparency="true""':"")+' scrolling="'+L.scrolling+'" src="'+K.href+'"></iframe>').appendTo(n)}Q.show();T=false;F.fancybox.center();K.onComplete(C,e,K);O()},O=function(){var Z,aa;if((C.length-1)>e){Z=C[e+1].href;if(typeof Z!=="undefined"&&Z.match(j)){aa=new Image();aa.src=Z}}if(e>0){Z=C[e-1].href;if(typeof Z!=="undefined"&&Z.match(j)){aa=new Image();aa.src=Z}}},Y=function(aa){var Z={width:parseInt(b.width+(c.width-b.width)*aa,10),height:parseInt(b.height+(c.height-b.height)*aa,10),top:parseInt(b.top+(c.top-b.top)*aa,10),left:parseInt(b.left+(c.left-b.left)*aa,10)};if(typeof c.opacity!=="undefined"){Z.opacity=aa<0.5?0.5:aa}Q.css(Z);n.css({width:Z.width-K.padding*2,height:Z.height-(h*aa)-K.padding*2})},w=function(){return[F(window).width()-(K.margin*2),F(window).height()-(K.margin*2),F(document).scrollLeft()+K.margin,F(document).scrollTop()+K.margin]},V=function(){var Z=w(),ad={},aa=K.autoScale,ab=K.padding*2,ac;if(K.width.toString().indexOf("%")>-1){ad.width=parseInt((Z[0]*parseFloat(K.width))/100,10)}else{ad.width=K.width+ab}if(K.height.toString().indexOf("%")>-1){ad.height=parseInt((Z[1]*parseFloat(K.height))/100,10)}else{ad.height=K.height+ab}if(aa&&(ad.width>Z[0]||ad.height>Z[1])){if(L.type=="image"||L.type=="swf"){ac=(K.width)/(K.height);if((ad.width)>Z[0]){ad.width=Z[0];ad.height=parseInt(((ad.width-ab)/ac)+ab,10)}if((ad.height)>Z[1]){ad.height=Z[1];ad.width=parseInt(((ad.height-ab)*ac)+ab,10)}}else{ad.width=Math.min(ad.width,Z[0]);ad.height=Math.min(ad.height,Z[1])}}ad.top=parseInt(Math.max(Z[3]-20,Z[3]+((Z[1]-ad.height-40)*0.5)),10);ad.left=parseInt(Math.max(Z[2]-20,Z[2]+((Z[0]-ad.width-40)*0.5)),10);return ad},r=function(Z){var aa=Z.offset();aa.top+=parseInt(Z.css("paddingTop"),10)||0;aa.left+=parseInt(Z.css("paddingLeft"),10)||0;aa.top+=parseInt(Z.css("border-top-width"),10)||0;aa.left+=parseInt(Z.css("border-left-width"),10)||0;aa.width=Z.width();aa.height=Z.height();return aa},M=function(){var ac=L.orig?F(L.orig):false,ab={},aa,Z;if(ac&&ac.length){aa=r(ac);ab={width:aa.width+(K.padding*2),height:aa.height+(K.padding*2),top:aa.top-K.padding-20,left:aa.left-K.padding-20}}else{Z=w();ab={width:K.padding*2,height:K.padding*2,top:parseInt(Z[3]+Z[1]*0.5,10),left:parseInt(Z[2]+Z[0]*0.5,10)}}return ab},a=function(){if(!X.is(":visible")){clearInterval(q);return}F("div",X).css("top",(R*-40)+"px");R=(R+1)%12};F.fn.fancybox=function(Z){if(!F(this).length){return this}F(this).data("fancybox",F.extend({},Z,(F.metadata?F(this).metadata():{}))).unbind("click.fb").bind("click.fb",function(ab){ab.preventDefault();if(T){return}T=true;F(this).blur();k=[];G=0;var aa=F(this).attr("rel")||"";if(!aa||aa==""||aa==="nofollow"){k.push(this)}else{k=F("a[rel="+aa+"], area[rel="+aa+"]");G=k.index(this)}A();return});return this};F.fancybox=function(ac){var ab;if(T){return}T=true;ab=typeof arguments[1]!=="undefined"?arguments[1]:{};k=[];G=parseInt(ab.index,10)||0;if(F.isArray(ac)){for(var aa=0,Z=ac.length;aa<Z;aa++){if(typeof ac[aa]=="object"){F(ac[aa]).data("fancybox",F.extend({},ab,ac[aa]))}else{ac[aa]=F({}).data("fancybox",F.extend({content:ac[aa]},ab))}}k=F.merge(k,ac)}else{if(typeof ac=="object"){F(ac).data("fancybox",F.extend({},ab,ac))}else{ac=F({}).data("fancybox",F.extend({content:ac},ab))}k.push(ac)}if(G>k.length||G<0){G=0}A()};F.fancybox.showActivity=function(){clearInterval(q);X.show();q=setInterval(a,66)};F.fancybox.hideActivity=function(){X.hide()};F.fancybox.next=function(){return F.fancybox.pos(e+1)};F.fancybox.prev=function(){return F.fancybox.pos(e-1)};F.fancybox.pos=function(Z){if(T){return}Z=parseInt(Z);k=C;if(Z>-1&&Z<C.length){G=Z;A()}else{if(K.cyclic&&C.length>1){G=Z>=C.length?0:C.length-1;A()}}return};F.fancybox.cancel=function(){if(T){return}T=true;F.event.trigger("fancybox-cancel");s();L.onCancel(k,G,L);T=false};F.fancybox.close=function(){if(T||Q.is(":hidden")){return}T=true;if(K&&false===K.onCleanup(C,e,K)){T=false;return}s();F(N.add(S).add(D)).hide();F(n.add(U)).unbind();F(window).unbind("resize.fb scroll.fb");F(document).unbind("keydown.fb");n.find("iframe").attr("src",W&&/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank");if(K.titlePosition!=="inside"){E.empty()}Q.stop();function Z(){U.fadeOut("fast");E.empty().hide();Q.hide();F.event.trigger("fancybox-cleanup");n.empty();K.onClosed(C,e,K);C=L=[];e=G=0;K=L={};T=false}if(K.transitionOut=="elastic"){b=M();var aa=Q.position();c={top:aa.top,left:aa.left,width:Q.width(),height:Q.height()};if(K.opacity){c.opacity=1}E.empty().hide();u.prop=1;F(u).animate({prop:0},{duration:K.speedOut,easing:K.easingOut,step:Y,complete:Z})}else{Q.fadeOut(K.transitionOut=="none"?0:K.speedOut,Z)}};F.fancybox.resize=function(){if(U.is(":visible")){U.css("height",F(document).height())}F.fancybox.center(true)};F.fancybox.center=function(){var Z,aa;if(T){return}aa=arguments[0]===true?1:0;Z=w();if(!aa&&(Q.width()>Z[0]||Q.height()>Z[1])){return}Q.stop().animate({top:parseInt(Math.max(Z[3]-20,Z[3]+((Z[1]-n.height()-40)*0.5)-K.padding)),left:parseInt(Math.max(Z[2]-20,Z[2]+((Z[0]-n.width()-40)*0.5)-K.padding))},typeof arguments[0]=="number"?arguments[0]:200)};F.fancybox.init=function(){if(F("#fancybox-wrap").length){return}F("body").append(P=F('<div id="fancybox-tmp"></div>'),X=F('<div id="fancybox-loading"><div></div></div>'),U=F('<div id="fancybox-overlay"></div>'),Q=F('<div id="fancybox-wrap"></div>'));d=F('<div id="fancybox-outer"></div>').append('<div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div>').appendTo(Q);d.append(n=F('<div id="fancybox-content"></div>'),N=F('<a id="fancybox-close"></a>'),E=F('<div id="fancybox-title"></div>'),S=F('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),D=F('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>'));N.click(F.fancybox.close);X.click(F.fancybox.cancel);S.click(function(Z){Z.preventDefault();F.fancybox.prev()});D.click(function(Z){Z.preventDefault();F.fancybox.next()});if(F.fn.mousewheel){Q.bind("mousewheel.fb",function(Z,aa){if(T){Z.preventDefault()}else{if(F(Z.target).get(0).clientHeight==0||F(Z.target).get(0).scrollHeight===F(Z.target).get(0).clientHeight){Z.preventDefault();F.fancybox[aa>0?"prev":"next"]()}}})}if(!F.support.opacity){Q.addClass("fancybox-ie")}if(W){X.addClass("fancybox-ie6");Q.addClass("fancybox-ie6");F('<iframe id="fancybox-hide-sel-frame" src="'+(/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank")+'" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(d)}};F.fn.fancybox.defaults={padding:10,margin:40,opacity:false,modal:false,cyclic:false,scrolling:"auto",width:560,height:340,autoScale:true,autoDimensions:true,centerOnScroll:false,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:true,hideOnContentClick:false,overlayShow:true,overlayOpacity:0.7,overlayColor:"#777",titleShow:true,titlePosition:"float",titleFormat:null,titleFromAlt:false,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:true,showNavArrows:true,enableEscapeButton:true,enableKeyboardNav:true,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}};F(document).ready(function(){F.fancybox.init()})})(mrm.$);
/*!
 * jQuery imagesLoaded plugin v2.1.1
 * http://github.com/desandro/imagesloaded
 *
 * MIT License. by Paul Irish et al.
 */
(function(a,b){var c="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";a.fn.imagesLoaded=function(m){var j=this,o=a.isFunction(a.Deferred)?a.Deferred():0,n=a.isFunction(o.notify),f=j.find("img").add(j.filter("img")),g=[],l=[],h=[];if(a.isPlainObject(m)){a.each(m,function(p,q){if(p==="callback"){m=q}else{if(o){o[p](q)}}})}function k(){var p=a(l),q=a(h);if(o){if(h.length){o.reject(f,p,q)}else{o.resolve(f)}}if(a.isFunction(m)){m.call(j,f,p,q)}}function e(p){d(p.target,p.type==="error")}function d(p,q){if(p.src===c||a.inArray(p,g)!==-1){return}g.push(p);if(q){h.push(p)}else{l.push(p)}a.data(p,"imagesLoaded",{isBroken:q,src:p.src});if(n){o.notifyWith(a(p),[q,f,a(l),a(h)])}if(f.length===g.length){setTimeout(k);f.unbind(".imagesLoaded",e)}}if(!f.length){k()}else{f.bind("load.imagesLoaded error.imagesLoaded",e).each(function(p,r){var s=r.src;var q=a.data(r,"imagesLoaded");if(q&&q.src===s){d(r,q.isBroken);return}if(r.complete&&r.naturalWidth!==b){d(r,r.naturalWidth===0||r.naturalHeight===0);return}if(r.readyState||r.complete){r.src=c;r.src=s}})}return o?o.promise(j):j}})(jQuery);
/*!
 * jScrollPane - v2.0.0beta11 - 2011-07-04
 * http://jscrollpane.kelvinluck.com/
 *
 * Copyright (c) 2010 Kelvin Luck
 * Dual licensed under the MIT and GPL licenses.
 */
(function(b,a,c){b.fn.jScrollPane=function(e){function d(H,S){var aD,U=this,ac,ao,z,aq,X,ad,C,r,aE,aJ,az,j,M,h,k,ae,Y,av,ab,v,E,aw,aj,ar,K,m,ay,aC,B,aA,aM,f,P,an=true,T=true,aL=false,l=false,au=H.clone(false,false).empty(),ag=b.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";aM=H.css("paddingTop")+" "+H.css("paddingRight")+" "+H.css("paddingBottom")+" "+H.css("paddingLeft");f=(parseInt(H.css("paddingLeft"),10)||0)+(parseInt(H.css("paddingRight"),10)||0);function ax(aV){var aQ,aS,aR,aO,aN,aU,aT=false,aP=false;aD=aV;if(ac===c){aN=H.scrollTop();aU=H.scrollLeft();H.css({overflow:"hidden",padding:0});ao=H.innerWidth()+f;z=H.innerHeight();H.width(ao);ac=b('<div class="jspPane" />').css("padding",aM).append(H.children());aq=b('<div class="jspContainer" />').css({width:ao+"px",height:z+"px"}).append(ac).appendTo(H)}else{H.css("width","");aT=aD.stickToBottom&&O();aP=aD.stickToRight&&F();aO=H.innerWidth()+f!=ao||H.outerHeight()!=z;if(aO){ao=H.innerWidth()+f;z=H.innerHeight();aq.css({width:ao+"px",height:z+"px"})}if(!aO&&P==X&&ac.outerHeight()==ad){H.width(ao);return}P=X;ac.css("width","");H.width(ao);aq.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}ac.css("overflow","auto");if(aV.contentWidth){X=aV.contentWidth}else{X=ac[0].scrollWidth}ad=ac[0].scrollHeight;ac.css("overflow","");C=X/ao;r=ad/z;aE=r>1;aJ=C>1;if(!(aJ||aE)){H.removeClass("jspScrollable");ac.css({top:0,width:aq.width()-f});o();I();V();A();am()}else{H.addClass("jspScrollable");aQ=aD.maintainPosition&&(M||ae);if(aQ){aS=aH();aR=aF()}aK();D();J();if(aQ){R(aP?(X-ao):aS,false);Q(aT?(ad-z):aR,false)}N();ak();at();if(aD.enableKeyboardNavigation){W()}if(aD.clickOnTrack){q()}G();if(aD.hijackInternalLinks){n()}}if(aD.autoReinitialise&&!aA){aA=setInterval(function(){ax(aD)},aD.autoReinitialiseDelay)}else{if(!aD.autoReinitialise&&aA){clearInterval(aA)}}aN&&H.scrollTop(0)&&Q(aN,false);aU&&H.scrollLeft(0)&&R(aU,false);H.trigger("jsp-initialised",[aJ||aE])}function aK(){if(aE){aq.append(b('<div class="jspVerticalBar" />').append(b('<div class="jspCap jspCapTop" />'),b('<div class="jspTrack" />').append(b('<div class="jspDrag" />').append(b('<div class="jspDragTop" />'),b('<div class="jspDragBottom" />'))),b('<div class="jspCap jspCapBottom" />')));Y=aq.find(">.jspVerticalBar");av=Y.find(">.jspTrack");az=av.find(">.jspDrag");if(aD.showArrows){aw=b('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",aI(0,-1)).bind("click.jsp",aG);aj=b('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",aI(0,1)).bind("click.jsp",aG);if(aD.arrowScrollOnHover){aw.bind("mouseover.jsp",aI(0,-1,aw));aj.bind("mouseover.jsp",aI(0,1,aj))}ap(av,aD.verticalArrowPositions,aw,aj)}v=z;aq.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){v-=b(this).outerHeight()});az.hover(function(){az.addClass("jspHover")},function(){az.removeClass("jspHover")}).bind("mousedown.jsp",function(aN){b("html").bind("dragstart.jsp selectstart.jsp",aG);az.addClass("jspActive");var s=aN.pageY-az.position().top;b("html").bind("mousemove.jsp",function(aO){Z(aO.pageY-s,false)}).bind("mouseup.jsp mouseleave.jsp",aB);return false});p()}}function p(){av.height(v+"px");M=0;ab=aD.verticalGutter+av.outerWidth();ac.width(ao-ab-f);try{if(Y.position().left===0){ac.css("margin-left",ab+"px")}}catch(s){}}function D(){if(aJ){aq.append(b('<div class="jspHorizontalBar" />').append(b('<div class="jspCap jspCapLeft" />'),b('<div class="jspTrack" />').append(b('<div class="jspDrag" />').append(b('<div class="jspDragLeft" />'),b('<div class="jspDragRight" />'))),b('<div class="jspCap jspCapRight" />')));ar=aq.find(">.jspHorizontalBar");K=ar.find(">.jspTrack");h=K.find(">.jspDrag");if(aD.showArrows){aC=b('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",aI(-1,0)).bind("click.jsp",aG);B=b('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",aI(1,0)).bind("click.jsp",aG);if(aD.arrowScrollOnHover){aC.bind("mouseover.jsp",aI(-1,0,aC));B.bind("mouseover.jsp",aI(1,0,B))}ap(K,aD.horizontalArrowPositions,aC,B)}h.hover(function(){h.addClass("jspHover")},function(){h.removeClass("jspHover")}).bind("mousedown.jsp",function(aN){b("html").bind("dragstart.jsp selectstart.jsp",aG);h.addClass("jspActive");var s=aN.pageX-h.position().left;b("html").bind("mousemove.jsp",function(aO){aa(aO.pageX-s,false)}).bind("mouseup.jsp mouseleave.jsp",aB);return false});m=aq.innerWidth();al()}}function al(){aq.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){m-=b(this).outerWidth()});K.width(m+"px");ae=0}function J(){if(aJ&&aE){var aN=K.outerHeight(),s=av.outerWidth();v-=aN;b(ar).find(">.jspCap:visible,>.jspArrow").each(function(){m+=b(this).outerWidth()});m-=s;z-=s;ao-=aN;K.parent().append(b('<div class="jspCorner" />').css("width",aN+"px"));p();al()}if(aJ){ac.width((aq.outerWidth()-f)+"px")}ad=ac.outerHeight();r=ad/z;if(aJ){ay=Math.ceil(1/C*m);if(ay>aD.horizontalDragMaxWidth){ay=aD.horizontalDragMaxWidth}else{if(ay<aD.horizontalDragMinWidth){ay=aD.horizontalDragMinWidth}}h.width(ay+"px");k=m-ay;ai(ae)}if(aE){E=Math.ceil(1/r*v);if(E>aD.verticalDragMaxHeight){E=aD.verticalDragMaxHeight}else{if(E<aD.verticalDragMinHeight){E=aD.verticalDragMinHeight}}az.height(E+"px");j=v-E;ah(M)}}function ap(aO,aQ,aN,s){var aS="before",aP="after",aR;if(aQ=="os"){aQ=/Mac/.test(navigator.platform)?"after":"split"}if(aQ==aS){aP=aQ}else{if(aQ==aP){aS=aQ;aR=aN;aN=s;s=aR}}aO[aS](aN)[aP](s)}function aI(aN,s,aO){return function(){L(aN,s,this,aO);this.blur();return false}}function L(aQ,aP,aT,aS){aT=b(aT).addClass("jspActive");var aR,aO,aN=true,s=function(){if(aQ!==0){U.scrollByX(aQ*aD.arrowButtonSpeed)}if(aP!==0){U.scrollByY(aP*aD.arrowButtonSpeed)}aO=setTimeout(s,aN?aD.initialDelay:aD.arrowRepeatFreq);aN=false};s();aR=aS?"mouseout.jsp":"mouseup.jsp";aS=aS||b("html");aS.bind(aR,function(){aT.removeClass("jspActive");aO&&clearTimeout(aO);aO=null;aS.unbind(aR)})}function q(){A();if(aE){av.bind("mousedown.jsp",function(aS){if(aS.originalTarget===c||aS.originalTarget==aS.currentTarget){var aQ=b(this),aT=aQ.offset(),aR=aS.pageY-aT.top-M,aO,aN=true,s=function(){var aW=aQ.offset(),aX=aS.pageY-aW.top-E/2,aU=z*aD.scrollPagePercent,aV=j*aU/(ad-z);if(aR<0){if(M-aV>aX){U.scrollByY(-aU)}else{Z(aX)}}else{if(aR>0){if(M+aV<aX){U.scrollByY(aU)}else{Z(aX)}}else{aP();return}}aO=setTimeout(s,aN?aD.initialDelay:aD.trackClickRepeatFreq);aN=false},aP=function(){aO&&clearTimeout(aO);aO=null;b(document).unbind("mouseup.jsp",aP)};s();b(document).bind("mouseup.jsp",aP);return false}})}if(aJ){K.bind("mousedown.jsp",function(aS){if(aS.originalTarget===c||aS.originalTarget==aS.currentTarget){var aQ=b(this),aT=aQ.offset(),aR=aS.pageX-aT.left-ae,aO,aN=true,s=function(){var aW=aQ.offset(),aX=aS.pageX-aW.left-ay/2,aU=ao*aD.scrollPagePercent,aV=k*aU/(X-ao);if(aR<0){if(ae-aV>aX){U.scrollByX(-aU)}else{aa(aX)}}else{if(aR>0){if(ae+aV<aX){U.scrollByX(aU)}else{aa(aX)}}else{aP();return}}aO=setTimeout(s,aN?aD.initialDelay:aD.trackClickRepeatFreq);aN=false},aP=function(){aO&&clearTimeout(aO);aO=null;b(document).unbind("mouseup.jsp",aP)};s();b(document).bind("mouseup.jsp",aP);return false}})}}function A(){if(K){K.unbind("mousedown.jsp")}if(av){av.unbind("mousedown.jsp")}}function aB(){b("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp");if(az){az.removeClass("jspActive")}if(h){h.removeClass("jspActive")}}function Z(s,aN){if(!aE){return}if(s<0){s=0}else{if(s>j){s=j}}if(aN===c){aN=aD.animateScroll}if(aN){U.animate(az,"top",s,ah)}else{az.css("top",s);ah(s)}}function ah(aN){if(aN===c){aN=az.position().top}aq.scrollTop(0);M=aN;var aQ=M===0,aO=M==j,aP=aN/j,s=-aP*(ad-z);if(an!=aQ||aL!=aO){an=aQ;aL=aO;H.trigger("jsp-arrow-change",[an,aL,T,l])}w(aQ,aO);ac.css("top",s);H.trigger("jsp-scroll-y",[-s,aQ,aO]).trigger("scroll")}function aa(aN,s){if(!aJ){return}if(aN<0){aN=0}else{if(aN>k){aN=k}}if(s===c){s=aD.animateScroll}if(s){U.animate(h,"left",aN,ai)}else{h.css("left",aN);ai(aN)}}function ai(aN){if(aN===c){aN=h.position().left}aq.scrollTop(0);ae=aN;var aQ=ae===0,aP=ae==k,aO=aN/k,s=-aO*(X-ao);if(T!=aQ||l!=aP){T=aQ;l=aP;H.trigger("jsp-arrow-change",[an,aL,T,l])}u(aQ,aP);ac.css("left",s);H.trigger("jsp-scroll-x",[-s,aQ,aP]).trigger("scroll")}function w(aN,s){if(aD.showArrows){aw[aN?"addClass":"removeClass"]("jspDisabled");aj[s?"addClass":"removeClass"]("jspDisabled")}}function u(aN,s){if(aD.showArrows){aC[aN?"addClass":"removeClass"]("jspDisabled");B[s?"addClass":"removeClass"]("jspDisabled")}}function Q(s,aN){var aO=s/(ad-z);Z(aO*j,aN)}function R(aN,s){var aO=aN/(X-ao);aa(aO*k,s)}function af(a0,aV,aO){var aS,aP,aQ,s=0,aZ=0,aN,aU,aT,aX,aW,aY;try{aS=b(a0)}catch(aR){return}aP=aS.outerHeight();aQ=aS.outerWidth();aq.scrollTop(0);aq.scrollLeft(0);while(!aS.is(".jspPane")){s+=aS.position().top;aZ+=aS.position().left;aS=aS.offsetParent();if(/^body|html$/i.test(aS[0].nodeName)){return}}aN=aF();aT=aN+z;if(s<aN||aV){aW=s-aD.verticalGutter}else{if(s+aP>aT){aW=s-z+aP+aD.verticalGutter}}if(aW){Q(aW,aO)}aU=aH();aX=aU+ao;if(aZ<aU||aV){aY=aZ-aD.horizontalGutter}else{if(aZ+aQ>aX){aY=aZ-ao+aQ+aD.horizontalGutter}}if(aY){R(aY,aO)}}function aH(){return -ac.position().left}function aF(){return -ac.position().top}function O(){var s=ad-z;return(s>20)&&(s-aF()<10)}function F(){var s=X-ao;return(s>20)&&(s-aH()<10)}function ak(){aq.unbind(ag).bind(ag,function(aQ,aR,aP,aN){var aO=ae,s=M;U.scrollBy(aP*aD.mouseWheelSpeed,-aN*aD.mouseWheelSpeed,false);return aO==ae&&s==M})}function o(){aq.unbind(ag)}function aG(){return false}function N(){ac.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(s){af(s.target,false)})}function I(){ac.find(":input,a").unbind("focus.jsp")}function W(){var s,aN,aP=[];aJ&&aP.push(ar[0]);aE&&aP.push(Y[0]);ac.focus(function(){H.focus()});H.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(aS){if(aS.target!==this&&!(aP.length&&b(aS.target).closest(aP).length)){return}var aR=ae,aQ=M;switch(aS.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:s=aS.keyCode;aO();break;case 35:Q(ad-z);s=null;break;case 36:Q(0);s=null;break}aN=aS.keyCode==s&&aR!=ae||aQ!=M;return !aN}).bind("keypress.jsp",function(aQ){if(aQ.keyCode==s){aO()}return !aN});if(aD.hideFocus){H.css("outline","none");if("hideFocus" in aq[0]){H.attr("hideFocus",true)}}else{H.css("outline","");if("hideFocus" in aq[0]){H.attr("hideFocus",false)}}function aO(){var aR=ae,aQ=M;switch(s){case 40:U.scrollByY(aD.keyboardSpeed,false);break;case 38:U.scrollByY(-aD.keyboardSpeed,false);break;case 34:case 32:U.scrollByY(z*aD.scrollPagePercent,false);break;case 33:U.scrollByY(-z*aD.scrollPagePercent,false);break;case 39:U.scrollByX(aD.keyboardSpeed,false);break;case 37:U.scrollByX(-aD.keyboardSpeed,false);break}aN=aR!=ae||aQ!=M;return aN}}function V(){H.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp")}function G(){if(location.hash&&location.hash.length>1){var aP,aN,aO=escape(location.hash);try{aP=b(aO)}catch(s){return}if(aP.length&&ac.find(aO)){if(aq.scrollTop()===0){aN=setInterval(function(){if(aq.scrollTop()>0){af(aO,true);b(document).scrollTop(aq.position().top);clearInterval(aN)}},50)}else{af(aO,true);b(document).scrollTop(aq.position().top)}}}}function am(){b("a.jspHijack").unbind("click.jsp-hijack").removeClass("jspHijack")}function n(){am();b("a[href^=#]").addClass("jspHijack").bind("click.jsp-hijack",function(){var s=this.href.split("#"),aN;if(s.length>1){aN=s[1];if(aN.length>0&&ac.find("#"+aN).length>0){af("#"+aN,true);return false}}})}function at(){var aO,aN,aQ,aP,aR,s=false;aq.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(aS){var aT=aS.originalEvent.touches[0];aO=aH();aN=aF();aQ=aT.pageX;aP=aT.pageY;aR=false;s=true}).bind("touchmove.jsp",function(aV){if(!s){return}var aU=aV.originalEvent.touches[0],aT=ae,aS=M;U.scrollTo(aO+aQ-aU.pageX,aN+aP-aU.pageY);aR=aR||Math.abs(aQ-aU.pageX)>5||Math.abs(aP-aU.pageY)>5;return aT==ae&&aS==M}).bind("touchend.jsp",function(aS){s=false}).bind("click.jsp-touchclick",function(aS){if(aR){aR=false;return false}})}function g(){var s=aF(),aN=aH();H.removeClass("jspScrollable").unbind(".jsp");H.replaceWith(au.append(ac.children()));au.scrollTop(s);au.scrollLeft(aN)}b.extend(U,{reinitialise:function(aN){aN=b.extend({},aD,aN);ax(aN)},scrollToElement:function(aO,aN,s){af(aO,aN,s)},scrollTo:function(aO,s,aN){R(aO,aN);Q(s,aN)},scrollToX:function(aN,s){R(aN,s)},scrollToY:function(s,aN){Q(s,aN)},scrollToPercentX:function(aN,s){R(aN*(X-ao),s)},scrollToPercentY:function(aN,s){Q(aN*(ad-z),s)},scrollBy:function(aN,s,aO){U.scrollByX(aN,aO);U.scrollByY(s,aO)},scrollByX:function(s,aO){var aN=aH()+Math[s<0?"floor":"ceil"](s),aP=aN/(X-ao);aa(aP*k,aO)},scrollByY:function(s,aO){var aN=aF()+Math[s<0?"floor":"ceil"](s),aP=aN/(ad-z);Z(aP*j,aO)},positionDragX:function(s,aN){aa(s,aN)},positionDragY:function(aN,s){Z(aN,s)},animate:function(aN,aQ,s,aP){var aO={};aO[aQ]=s;aN.animate(aO,{duration:aD.animateDuration,easing:aD.animateEase,queue:false,step:aP})},getContentPositionX:function(){return aH()},getContentPositionY:function(){return aF()},getContentWidth:function(){return X},getContentHeight:function(){return ad},getPercentScrolledX:function(){return aH()/(X-ao)},getPercentScrolledY:function(){return aF()/(ad-z)},getIsScrollableH:function(){return aJ},getIsScrollableV:function(){return aE},getContentPane:function(){return ac},scrollToBottom:function(s){Z(j,s)},hijackInternalLinks:function(){n()},destroy:function(){g()}});ax(S)}e=b.extend({},b.fn.jScrollPane.defaults,e);b.each(["mouseWheelSpeed","arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){e[this]=e[this]||e.speed});return this.each(function(){var f=b(this),g=f.data("jsp");if(g){g.reinitialise(e)}else{g=new d(f,e);f.data("jsp",g)}})};b.fn.jScrollPane.defaults={showArrows:false,maintainPosition:true,stickToBottom:false,stickToRight:false,clickOnTrack:true,autoReinitialise:false,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:c,animateScroll:false,animateDuration:300,animateEase:"linear",hijackInternalLinks:false,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:0,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:false,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:true,hideFocus:false,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:0.8}})(mrm.$,this);
/*! Copyright (c) 2013 Brandon Aaron (http://brandon.aaron.sh)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Version: 3.1.11
 *
 * Requires: jQuery 1.2.2+
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){module.exports=a}else{a(jQuery)}}}(function(c){var d=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],k=("onwheel" in document||document.documentMode>=9)?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],h=Array.prototype.slice,j,b;if(c.event.fixHooks){for(var e=d.length;e;){c.event.fixHooks[d[--e]]=c.event.mouseHooks}}var f=c.event.special.mousewheel={version:"3.1.11",setup:function(){if(this.addEventListener){for(var m=k.length;m;){this.addEventListener(k[--m],l,false)}}else{this.onmousewheel=l}c.data(this,"mousewheel-line-height",f.getLineHeight(this));c.data(this,"mousewheel-page-height",f.getPageHeight(this))},teardown:function(){if(this.removeEventListener){for(var m=k.length;m;){this.removeEventListener(k[--m],l,false)}}else{this.onmousewheel=null}c.removeData(this,"mousewheel-line-height");c.removeData(this,"mousewheel-page-height")},getLineHeight:function(m){var n=c(m)["offsetParent" in c.fn?"offsetParent":"parent"]();if(!n.length){n=c("body")}return parseInt(n.css("fontSize"),10)},getPageHeight:function(m){return c(m).height()},settings:{adjustOldDeltas:true,normalizeOffset:true}};c.fn.extend({mousewheel:function(m){return m?this.bind("mousewheel",m):this.trigger("mousewheel")},unmousewheel:function(m){return this.unbind("mousewheel",m)}});function l(m){var p=m||window.event,w=h.call(arguments,1),A=0,r=0,q=0,v=0,u=0,s=0;m=c.event.fix(p);m.type="mousewheel";if("detail" in p){q=p.detail*-1}if("wheelDelta" in p){q=p.wheelDelta}if("wheelDeltaY" in p){q=p.wheelDeltaY}if("wheelDeltaX" in p){r=p.wheelDeltaX*-1}if("axis" in p&&p.axis===p.HORIZONTAL_AXIS){r=q*-1;q=0}A=q===0?r:q;if("deltaY" in p){q=p.deltaY*-1;A=q}if("deltaX" in p){r=p.deltaX;if(q===0){A=r*-1}}if(q===0&&r===0){return}if(p.deltaMode===1){var z=c.data(this,"mousewheel-line-height");A*=z;q*=z;r*=z}else{if(p.deltaMode===2){var o=c.data(this,"mousewheel-page-height");A*=o;q*=o;r*=o}}v=Math.max(Math.abs(q),Math.abs(r));if(!b||v<b){b=v;if(a(p,v)){b/=40}}if(a(p,v)){A/=40;r/=40;q/=40}A=Math[A>=1?"floor":"ceil"](A/b);r=Math[r>=1?"floor":"ceil"](r/b);q=Math[q>=1?"floor":"ceil"](q/b);if(f.settings.normalizeOffset&&this.getBoundingClientRect){var n=this.getBoundingClientRect();u=m.clientX-n.left;s=m.clientY-n.top}m.deltaX=r;m.deltaY=q;m.deltaFactor=b;m.offsetX=u;m.offsetY=s;m.deltaMode=0;w.unshift(m,A,r,q);if(j){clearTimeout(j)}j=setTimeout(g,200);return(c.event.dispatch||c.event.handle).apply(this,w)}function g(){b=null}function a(n,m){return f.settings.adjustOldDeltas&&n.type==="mousewheel"&&m%120===0}}));(function(b){function a(d){this.input=d;if(d.attr("type")=="password"){this.handlePassword()}b(d[0].form).submit(function(){if(d.hasClass("placeholder")&&d[0].value==d.attr("placeholder")){d[0].value=""}})}a.prototype={show:function(f){if(this.input[0].value===""||(f&&this.valueIsPlaceholder())){if(this.isPassword){try{this.input[0].setAttribute("type","text")}catch(d){this.input.before(this.fakePassword.show()).hide()}}this.input.addClass("placeholder");this.input[0].value=this.input.attr("placeholder")}},hide:function(){if(this.valueIsPlaceholder()&&this.input.hasClass("placeholder")){this.input.removeClass("placeholder");this.input[0].value="";if(this.isPassword){try{this.input[0].setAttribute("type","password")}catch(d){}this.input.show();this.input[0].focus()}}},valueIsPlaceholder:function(){return this.input[0].value==this.input.attr("placeholder")},handlePassword:function(){var d=this.input;d.attr("realType","password");this.isPassword=true;if(b.browser.msie&&d[0].outerHTML){var e=b(d[0].outerHTML.replace(/type=(['"])?password\1/gi,"type=$1text$1"));this.fakePassword=e.val(d.attr("placeholder")).addClass("placeholder").focus(function(){d.trigger("focus");b(this).hide()});b(d[0].form).submit(function(){e.remove();d.show()})}}};var c=!!("placeholder" in document.createElement("input"));b.fn.placeholder=function(){return c?this:this.each(function(){var d=b(this);var e=new a(d);e.show(true);d.focus(function(){e.hide()});d.blur(function(){e.show(false)});if(b.browser.msie){b(window).load(function(){if(d.val()){d.removeClass("placeholder")}e.show(true)});d.focus(function(){if(this.value==""){var f=this.createTextRange();f.collapse(true);f.moveStart("character",0);f.select()}})}})}})(mrm.$);mrm.$.reel||(function(a6,bq,ak,K){if(+a6().jquery.replace(J(),l).substr(0,2)<15){throw"Too old jQuery for Reel."}var bl=a6.reel={version:"1.2",def:{frame:1,frames:36,loops:true,clickfree:false,draggable:true,scrollable:true,steppable:true,throwable:true,wheelable:true,cw:false,revolution:K,stitched:0,directional:false,row:1,rows:0,orbital:0,vertical:false,inversed:false,footage:6,spacing:0,horizontal:true,suffix:"-reel",image:K,images:"",path:"",preload:"fidelity",speed:0,delay:0,timeout:2,rebound:0.5,entry:K,opening:0,brake:0.23,velocity:0,tempo:36,laziness:6,cursor:K,hint:"",indicator:0,klass:"",preloader:2,area:K,attr:{},annotations:K,graph:K,monitor:K,step:K,steps:K},fn:{reel:function(){var bJ=arguments,bL=a6(this),bG=bL.data(),bD=bJ[0]||{},bK=bJ[1];if(typeof bD=="object"){var bE=a6.extend({},bl.def,bD),bF=(function(bM){var bN=[];bM.filter(C).each(function(bP){var bR=a6(this),bS=bE.images.length&&bE.images||bE.sequence||bE.image||bE.attr.src||bR.attr("src"),bQ=br(bE.attr.width||bR.css(ae)),bO=br(bE.attr.height||bR.css(bk));if(bS&&bS!=l&&bQ&&bO){bN.push(bR)}});bM.filter(J(Q)).each(function(bO){bN.push(a6(this).unreel())});return a6(bN)})(this),bC=[];bE.step&&(bE.frame=bE.step);bE.steps&&(bE.frames=bE.steps);bF.each(function(){var b0=a6(this),b1=function(cg,ch){return b0.reel(cg,ch)&&ch},ca=function(cg){return b0.reel(cg)},bY={setup:function(cx){if(b0.hasClass(Q)){return}b1(bo,bE);var ci=b0.attr(bE.attr).attr("src"),cr=b1(ag,b0.attr(ag)||b0.attr(ag,Q+"-"+(+new Date())).attr(ag)),ck=b0.attr(f),cA=a6.extend({},b0.data()),cl=bl.re.sequence.exec(bE.images),cn=b1(aW,cl?bl.sequence(cl,bE,ca):bE.images||[]),cz=bE.stitched,cg=bE.loops,cq={x:br(b0.css(ae)||bE.attr.width),y:br(b0.css(bk)||bE.attr.height)},co=b1(u,bE.orbital&&bE.footage||bE.rows<=1&&cn.length||bE.frames),cs=bE.rows>1||bE.orbital,cu=bE.revolution,cw=b1(I,p("x",cu)||cz/2||cq.x*2),cv=b1(aw,!cs?0:(p("y",cu)||(bE.rows>3?cq.y:cq.y/(5-bE.rows)))),cm=cz?1:a8(co/bE.footage),cp=ai(cr+bE.suffix),cy=b0[0].className||l,ch=a6(g(aX),{id:cp.substr(1),"class":cy+o+aU+o+bA+"0"}),ct=b0.wrap(ch.addClass(bE.klass)).attr({"class":Q}),cj=bC.push(bB(ct)[0]),ch=ct.parent().bind(bY.instance);b1(N,cn.length?l:bE.image||ci.replace(bl.re.image,"$1"+bE.suffix+".$2"));b1(bu,[]);b1(bb,bE.spacing);b1(O,cm);b1(a1,cq);b1(d,1/(co-(cg&&!cz?0:1)));b1(a9,cz);b1(aO,cz-(cg?0:cq.x));b1(H,0);b1(aE,cp);b1(ba,b1(aK,bE.speed)<0);b1(bz,bE.velocity||0);b1(s,bE.vertical);b1(a0,0);b1(bi,aN(1,!bE.cw&&!cz));b1(M,{});b1(j,false);b1(a7,b1(aT,0));b1(aF,b1(aL,0));b1(E,false);b1(al,false);b1(q,bE.brake);b1(ay,!!bE.orbital);b1(bw,bE.tempo/(bl.lazy?bE.laziness:1));b1(S,-1);b1(ao,bE.annotations||ch.unbind(J(ao))&&{});b1(bc,{src:ci,classes:cy,style:ck||l,data:cA});bE.steppable||ch.unbind("up.steppable");bE.indicator||ch.unbind(".indicator");bZ(l,{width:cq.x,height:cq.y,overflow:W,position:"relative"});bZ(aG+o+J(Q),{display:bt});bm.bind(bY.pool);b0.trigger("setup")},instance:{teardown:function(ch){var cg=b0.data(bc);b0.parent().unbind(bY.instance);ca(f).remove();ca(n).unbind(ax).enableTextSelect();X(b0.unbind(ax).removeData().siblings().unbind(ax).remove().end().attr({"class":cg.classes,src:cg.src,style:cg.style}).data(cg.data).unwrap());cb();bm.unbind(bY.pool);bU.unbind(a)},setup:function(ck){var ci=ca(a1),cm=ca(u),cn=b0.attr(ag),cg=b0.parent();area=b1(n,a6(bE.area||cg));if(aH){bZ(o+J(Q),{WebkitUserSelect:aI,WebkitBackgroundSize:ca(aW).length?K:ca(a9)&&v(ca(a9))+o+v(ci.y)||v(ci.x*bE.footage)+o+v(ci.y*ca(O)*(bE.rows||1)*(bE.directional?2:1))});area.bind(af,ch())}else{var cl=bE.cursor==aA?ap:bE.cursor||V,cj=bE.cursor==aA?m+o+"!important":K;bZ(l,{cursor:k(cl)});bZ(J(aV),{cursor:"wait"});bZ(J(ac)+aG+J(ac)+" *",{cursor:k(cj||cl)},true);area.bind(bE.wheelable?R:l,function(co,cp){return co.preventDefault()||!cp||b0.trigger("wheel",[cp])&&false}).bind(bE.clickfree?a5:e,ch()).disableTextSelect()}function ch(co){return function(cp){if(cp.button==ar){return cp.preventDefault()||b0.trigger("down",[aY(cp).clientX,aY(cp).clientY])&&co}}}bE.hint&&area.attr("title",bE.hint);bE.indicator&&cg.append(bW("x"));bE.rows>1&&bE.indicator&&cg.append(bW("y"));bE.monitor&&cg.append(b4=a6(g(aX),{"class":av}))&&bZ(o+J(av),{position:U,left:0,top:0});bZ(o+J(aD),{display:aI})},preload:function(co){var ch=ca(a1),cu=b0.parent(),cq=ca(aW),cj=!cq.length,cp=ca(u),cm=bl.preload[bE.preload]||bl.preload[bl.def.preload],cs=cj?[ca(N)]:cm(cq.slice(0),bE,ca),cn=cs.length,cl=b1(a0,cj?0.5:0),cr=[];cu.addClass(aV).append(b6());b1(f,a6("<"+f+' type="text/css">'+bZ.rules.join("\n")+"</"+f+">").prependTo(h));b0.trigger("stop");while(cs.length){var ck=bE.path+cs.shift(),ci=ch.x*(!cj?1:bE.footage),cv=ch.y*(!cj?1:cp/bE.footage)*(!bE.directional?1:2),cg=a6(g(C)).attr({"class":aD,width:ci,height:cv}).appendTo(cu);cg.bind("load error abort",function(){return !!a6(this).parent().length&&b0.trigger("preloaded")&&false});ct(ck,cg);cr.push(ck)}b1(bu,cr);function ct(cx,cw){setTimeout(function(){cw.parent().length&&cw.attr({src:bj(cx)})},(cn-cs.length)*2)}},preloaded:function(ci){var cg=ca(aW).length||1,ch=b1(a0,bv(ca(a0)+1,cg));if(ch===cg){b0.parent().removeClass(aV).unbind(a0,bY.instance.preloaded);b0.trigger("loaded")}if(ch===1){var cj=b0.trigger("frameChange",[K,ca(aS)])}},loaded:function(cg){ca(aW).length>1||b0.css({backgroundImage:L(bE.path+ca(N))}).attr({src:k(bn)})},opening:function(cm){if(!bE.opening){return b0.trigger("openingDone")}var cg=b1(al,true),cl=b1(aZ,!ca(aK)),cj=bE.entry||bE.speed,ch=ca(aa),ck=bE.opening,cn=b1(aa,ch-cj*bE.opening),ci=b1(S,a8(ck*G(bw)))},openingDone:function(ci){var ch=b1(by,false),cg=b1(al,false),cj=aQ+J(al);bm.unbind(cj,bY.pool[cj]);if(bE.delay>0){cd=setTimeout(function(){b0.trigger("play")},bE.delay*1000)}else{b0.trigger("play")}},play:function(ck,ci){var ci=b1(aK,ci||ca(aK)),cg=b1(ba,ci<0),ch=b1(by,!!ci),cj=b1(aZ,!ch);b3()},pause:function(ch){var cg=b1(by,false);b8()},stop:function(ci){var ch=b1(aZ,true),cg=b1(by,!ch)},down:function(cj,cn,cl){if(bE.draggable){var ck=b1(j,ca(aS)),ch=b1(bz,0),cm=!ca(E)||bE.rows<=1||!bE.orbital||bE.scrollable,co=bX=bN(ca(I),cn,cl);b8();cb();bM=false;a6(a3,bU).addClass(ac);if(aH){bU.bind(bf,ci(!cm)).bind(bg+o+bd,cg())}else{(bE.clickfree?ca(n):bU).bind(bh,ci()).bind(bE.clickfree?aM:at,cg())}}function ci(cp){return function(cq){cq.preventDefault();b0.trigger("pan",[aY(cq).clientX,aY(cq).clientY,cq]);return cp}}function cg(cp){return function(cq){cq.preventDefault();b0.trigger("up",[cq]);return cp}}},up:function(ck,cj){if(!bE.draggable){return}var ch=b1(j,false),cg=b1(E,false),ci=b1(bz,!bE.throwable?0:ad(bQ[0]+bQ[1])/60),cl=bR=ci?1:0;b8();cb();a6(a3,bU).removeClass(ac);(bE.clickfree?ca(n):bU).unbind(a)},pan:function(cu,cn,cm,cv){if(bE.draggable&&b7){b7=false;b8();var ct=cv&&!a6(cv.currentTarget).is(bm)&&b2.offset()||{left:0,top:0},cn=cn-ct.left,cm=cm-ct.top,cw={x:cn-bX.x,y:cm-bX.y};if(ad(cw.x)>0||ad(cw.y)>0){bM=true;bX={x:cn,y:cm};var cq=ca(I),cx=ca(M),cg=ca(s),cj=b1(aa,bO(cg?cm-cx.y:cn-cx.x,ca(a7),cq,ca(aF),ca(aL),ca(bi),cg?cm-cx.y:cn-cx.x)),ch=b1(E,ca(E)||ca(aS)!=ca(j)),cp=cf(cg?cw.y:cw.x||0),cs=cp&&b1(ba,cp<0);if(bE.orbital&&ca(ay)){var cg=b1(s,ad(cm-cx.y)>ad(cn-cx.x)),cx=bN(cq,cn,cm)}if(bE.rows>1){var co=ca(a1).y,cr=ca(aw),ci=ca(aT),cl=-ci*cr,ck=b1(au,bl.math.envelope(cm-cx.y,ci,cr,cl,cl+cr,-1))}if(!(cj%1)&&!bE.loops){var cx=bN(cq,cn,cm)}}}},wheel:function(cl,cn){if(!cn){return}cc=true;var cm=a8(ab.sqrt(ad(cn))/2),cm=aN(cm,cn>0),ch=0.0833*ca(I),ci=bN(ch),cg=cm&&b1(ba,cm<0),ck=b1(bz,0),cj=b1(aa,bO(cm,ca(a7),ch,ca(aF),ca(aL),ca(bi)));b8();b0.trigger("up");return false},fractionChange:function(ck,cm,ci){if(cm!==K){return B(b1(aa,cm))}var cl=1+aq(ci/ca(d)),ch=bE.rows>1,cj=bE.orbital,cg=b1(ay,!!cj&&(cl<=cj||cl>=bE.footage-cj+2));if(ch){var cl=cl+(ca(a2)-1)*ca(u)}var cl=b1(aS,cl)},tierChange:function(ci,ch,cg){if(ch===K){var cl=b1(a2,T(aP(cg,1,bE.rows))),ck=ca(u),cj=ca(aS)%ck||ck,cj=b1(aS,cj+cl*ck-ck)}},rowChange:function(ci,ch,cj){if(ch!==K){return b1(a2,ch)}var cg=b1(au,1/(bE.rows-1)*(cj-1))},frameChange:function(cC,cE,ct){if(cE!==K){return B(b1(aS,cE))}this.className=this.className.replace(bl.re.frame_klass,bA+ct);var cr=ca(u),ci=ct%cr||cr,cs=!!ca(a0),cl=(ct-ci)/cr+1,cx=(cl-1)/(bE.rows-1),cz=T(aP(cx,1,bE.rows)),ck=cs&&cz===ca(a2)?ca(au):b1(au,cx),cB=bv((ci-1)/(cr-1),0.9999),cI=ca(a2)*cr-cr,cv=T(aP(cB,cI+1,cI+cr)),cu=ad((ca(aa)||0)-cB)<1/(ca(u)-1),cj=cs&&(cv===ct&&cu)?ca(aa):b1(aa,cB),cm=bE.footage;if(bE.orbital&&ca(s)){var ct=bE.inversed?cm+1-ct:ct,ct=ct+cm}var cF=bE.horizontal,cq=ca(aW),cp=!cq.length,cA=ca(a1);if(!cp){var cD=cq[ct-1];cs&&b0.attr({src:bj(bE.path+cD)})}else{if(!bE.stitched){var cg=(ct%cm)-1,cg=cg<0?cm-1:cg,cw=aq((ct-0.1)/cm),cw=cw+(bE.rows>1?0:(ca(ba)?0:ca(O))),ch=ca(bb),cH=cw*((cF?cA.y:cA.x)+ch),cG=cg*((cF?cA.x:cA.y)+ch),cy=cq.length?[0,0]:cF?[v(-cG),v(-cH)]:[v(-cH),v(-cG)]}else{var co=b1(H,T(aP(cB,0,ca(aO)))%bE.stitched),cn=0,cy=[v(-co),v(cn)]}b0.css({backgroundPosition:cy.join(o)})}},"fractionChange.indicator":function(ck,ci,cn){if(ci===K&&bE.indicator){var cg=ca(a1),ch=bE.orbital&&ca(s)?cg.y:cg.x,cl=bE.orbital?bE.footage:bE.images.length||ca(u),cp=bE.indicator,cj=a8(ch/cl),ch=ch-cj,co=T(aP(cn,0,ch)),co=!bE.cw||bE.stitched?co:ch-co,cm=bW.$x.css(ca(s)?{left:0,top:v(co),bottom:Y,width:cp,height:cj}:{bottom:0,left:v(co),top:Y,width:cj,height:cp})}},"tierChange.indicator":function(cm,cj,cl){if(cj===K&&bE.rows>1&&bE.indicator){var cg=ca(a1),ci=cg.y,cn=bE.rows,cp=bE.indicator,ck=a8(ci/bE.rows),ci=ci-ck,co=T(cl*ci),ch=bW.$y.css({left:0,top:co,width:cp,height:ck})}},"setup.annotations":function(cj){var ch=ca(a1),cg=b0.parent(),ci={position:U,width:ch.x,height:ch.y,left:0,top:0};a6.each(ca(ao),function(cl,co){var ck=typeof co.node==aj?a6(co.node):co.node||{},ck=ck.jquery?ck:a6(g(aX),ck),ck=ck.attr({id:cl}).addClass(ah),cn=co.image?a6(g(C),co.image):a6(),cm=co.link?a6(g("a"),co.link).click(function(){return false}):a6();bZ(ai(cl),{display:aI,position:U},true);co.image||co.link&&ck.append(cm);co.link||co.image&&ck.append(cn);co.link&&co.image&&ck.append(cm.append(cn));ck.appendTo(cg)})},"frameChange.annotations":function(ck,ch,cl){var cj=ca(a1),cg=bE.stitched,ci=ca(H);if(!ca(a0)){return}if(ch===K){a6.each(ca(ao),function(cy,cu){var cs=a6(ai(cy)),cn=cu.start||1,cq=cu.end,cr=cl-1,co=cu.at?(cu.at[cr]=="+"):false,cr=cu.at?cr:cr-cn+1,cx=typeof cu.x!=c?cu.x:cu.x[cr],cv=typeof cu.y!=c?cu.y:cu.y[cr],ct=cx!==K&&cv!==K,cp=ct&&(cu.at?co:(cr>=0&&(!cq||cr<=cq-cn)));if(cg){var cz=cx<cj.x&&ci>cg-cj.x,cw=cx>cg-cj.x&&ci>=0&&ci<cj.x,cx=!cz?cx:cx+cg,cx=!cw?cx:cx-cg,cx=cx-ci}var cm={display:cp?bt:aI,left:v(cx),top:v(cv)};cs.css(cm)})}},"up.annotations":function(cl,cj){if(bM||cc){return}var cg=a6(cj.target),ci=(cg.is("a")?cg:cg.parents("a")),ch=ci.attr("href"),ck=ci.attr("target")||"self";if(!ch){return}if(ck=="_blank"){bM=!!bq.open(ch)}else{bM=!!(bq[ck].location.href=ch)}},"up.steppable":function(ch,cg){if(bM||cc){return}b0.trigger(ca(M).x-b0.offset().left>0.5*ca(a1).x?"stepRight":"stepLeft")},"stepLeft stepRight":function(cg){b8()},stepLeft:function(cg){b1(ba,false);b1(aa,ca(aa)-ca(d)*ca(bi))},stepRight:function(cg){b1(ba,true);b1(aa,ca(aa)+ca(d)*ca(bi))},"setup.fu":function(cg){var ch=b1(aS,bE.frame+(bE.row-1)*ca(u));b0.trigger("preload")},"wheel.fu":function(){cc=false},"clean.fu":function(){b0.trigger("teardown")},"loaded.fu":function(){b0.trigger("opening")}},pool:{"tick.reel.preload":function(ck){var ch=ca(a1),cj=br(b6.$.css(ae)),cg=ca(aW).length||1,ci=T(1/cg*ca(a0)*ch.x);b6.$.css({width:cj+(ci-cj)/3+1});if(ca(a0)===cg&&cj>ch.x-1){b6.$.fadeOut(300,function(){b6.$.remove()});bm.unbind(aQ+J(bx),bY.pool[aQ+J(bx)])}},"tick.reel":function(cj){var ci=ca(bz),ck=G(bw);if(bR){var cl=ci-(ca(q)/ck*bR),ci=b1(bz,cl>0.1?cl:(bR=bS=0))}bE.monitor&&b4.text(ca(bE.monitor));ci&&bR++;bS&&bS++;cf(0);b7=true;if(bS&&!ci){return bT(cj)}if(ca(j)){return bT(cj,b8())}if(ca(S)>0){return}if(!bE.loops&&bE.rebound){var ch=!bS&&!(ca(aa)%1)?bP++:(bP=0),cp=bP>=bE.rebound*1000/ck,cn=cp&&b1(ba,!ca(ba))}var cm=ca(bi)*aN(1,ca(ba)),cg=(!ca(by)?ci:ad(ca(aK))+ci)/G(bw),co=b1(aa,ca(aa)-cg*cm)},"tick.reel.opening":function(ck){if(!ca(al)){return}var cj=bE.entry||bE.speed,ci=cj/G(bw)*(bE.cw?-1:1),ch=b1(S,ca(S)-1),cg=b1(aa,ca(aa)+ci);ch||b0.trigger("openingDone")}}},bT=function(ch,cg){return ch.stopImmediatePropagation()||cg},bS,bR=0,b3=function(){return bS=0},b8=function(){clearTimeout(cd);bm.unbind(aQ+J(al),bY.pool[aQ+J(al)]);b1(S,0);return bS=-bE.timeout*G(bw)},bM=false,cc=false,cd,b4=a6(),b6=function(){bZ(o+J(aJ),{position:U,left:0,top:ca(a1).y-bE.preloader,height:bE.preloader,overflow:W,backgroundColor:"#000"});return b6.$=a6(g(aX),{"class":aJ})},bW=function(cg){bZ(o+J(b)+J(cg),{position:U,width:0,height:0,overflow:W,backgroundColor:"#000"});return bW["$"+cg]=a6(g(aX),{"class":b+o+cg})},bZ=function(cg,cj,ck){var ci=ck?l:ca(aE),cg=cg.replace(/^/,ci).replace(aG,aG+ci);return bZ.rules.push(cg+ch(cj))&&cj;function ch(cl){var cm=[];a6.each(cl,function(cn,co){cm.push(cn.replace(/([A-Z])/g,"-$1").toLowerCase()+":"+v(co)+";")});return"{"+cm.join(l)+"}"}},bV,bP=0,bX={x:0,y:0},cf=function(cg){return bQ.push(cg)&&bQ.shift()&&cg},cb=function(){return bQ=[0,0]},bQ=cb(),bO=bE.graph||bl.math[bE.loops?"hatch":"envelope"],ce=bl.normal,bN=function(ci,cg,ck){var cj=b1(a7,ca(aa)),ch=b1(aT,ca(au));b1(aF,bE.loops?0:-cj*ci);b1(aL,bE.loops?ci:ci-cj*ci);return cg&&b1(M,{x:cg,y:ck})||K},b7=true,bU;try{bU=a6.unique(bm.add(bq.top.document))}catch(b9){bU=bm}var b2=top===self?a6():(function b5(cg){a6("iframe",bU.last()).each(function(){try{if(a6(this).contents().find(h).html()==a6(h).html()){return(cg=a6(this))&&false}}catch(ch){}});return cg})();bZ.rules=[];bY.setup()});az=az||(function bH(){var bN=+new Date(),bM=G(bw);if(!bM){return az=null}bm.trigger(aQ);bl.cost=(+new Date()+bl.cost-bN)/2;return az=setTimeout(bH,D(4,1000/bM-bl.cost))})();return a6(bC)}else{if(typeof bD=="string"){if(bJ.length==1){var bK=bG[bD];bL.trigger("recall",[bD,bK]);return bK}else{if(bK!==K){try{bK=bl.normal[bD](bK,bG)}catch(bI){}if(bG[bD]!==bK){bL.trigger(bD+"Change",[K,bG[bD]=bK])}}return bL.trigger("store",[bD,bK])}}}},unreel:function(){return this.trigger("teardown")}},re:{image:/^(.*)\.(jpg|jpeg|png|gif)\??.*$/,touchy_agent:/iphone|ipod|ipad|android|fennec|rim tablet/i,lazy_agent:/\(iphone|ipod|android|fennec|blackberry/i,frame_klass:/frame-\d+/,sequence:/(^[^#|]*([#]+)[^#|]*)($|[|]([0-9]+)\.\.([0-9]+))($|[|]([0-9]+)$)/},cdn:"http://code.vostrel.cz/",math:{envelope:function(bC,bI,bD,bF,bE,bG,bH){return bI+bp(bF,bE,-bC*bG)/bD},hatch:function(bC,bJ,bD,bG,bE,bH,bI){var bC=(bC<bG?bE:0)+bC%bE,bF=bJ+(-bC*bH)/bD;return bF-aq(bF)},interpolate:function(bE,bD,bC){return bD+bE*(bC-bD)}},preload:{fidelity:function(bF,bD,bE){var bL=bD.orbital?2:bD.rows||1,bI=bD.orbital?bD.footage:bE(u),bC=(bD.row-1)*bI,bK=new Array().concat(bF),bG=new Array(bF.length+1),bJ=bL<2?[]:bK.slice(bC,bC+bI);return bH(bJ,1,bC).concat(bH(bK,bL,0));function bH(bR,bY,bS){if(!bR.length){return[]}var bP=[],bW=4*bY,bN=bD.frame,bV=bR.length,bU=true,bQ=bV/bW;for(var bT=0;bT<bW;bT++){bX(bN+T(bT*bQ))}while(bQ>1){for(var bT=0,bO=bP.length,bQ=bQ/2,bM=bU=!bU;bT<bO;bT++){bX(bP[bT]+(bU?1:-1)*T(bQ))}}for(var bT=0;bT<=bV;bT++){bX(bT)}for(var bT=0;bT<bP.length;bT++){bP[bT]=bR[bP[bT]-1]}return bP;function bX(bZ){while(!(bZ>=1&&bZ<=bV)){bZ+=bZ<1?+bV:-bV}return bG[bS+bZ]||(bG[bS+bZ]=!!bP.push(bZ))}}},linear:function(bE,bD,bC){return bE}},normal:{fraction:function(bC,bD){return bD[bo].loops?bC-aq(bC):bp(0,1,bC)},tier:function(bC,bD){return bp(0,1,bC)},row:function(bD,bC){return T(bp(1,bC[bo].rows,bD))},frame:function(bG,bE){var bD=bE[bo],bF=bE[u]*(bD.orbital?2:bD.rows||1),bC=T(bD.loops?bG%bF||bF:bp(1,bF,bG));return bC<0?bC+bF:bC}},sequence:function(bH,bF){if(bH.length<=1){return bF.images}var bJ=[],bD=bH[1],bM=bH[2],bE=+bH[4]||1,bN=bF.orbital?2:bF.rows||1,bI=bF.orbital?bF.footage:bF.frames,bG=+(bH[5]||bN*bI),bK=bG-bE,bL=+bH[7]||1,bC=0;while(bC<bG){bJ.push(bD.replace(bM,F((bE+bC+l),bM.length,"0")));bC+=bL}return bJ},instances:a6(),leader:G,cost:0},bm=a6(ak),A=+a6.browser.version.split(J()).slice(0,2).join(J()),Z=a6.browser.msie,r=!Z||(Z&&A>6),z=navigator.userAgent,az,Q="reel",aU=Q+"-overlay",b=Q+"-indicator",aJ=Q+"-preloader",aD=Q+"-cached",av=Q+"-monitor",ah=Q+"-annotation",ac=Q+"-panning",aV=Q+"-loading",bA="frame-",ab=Math,T=ab.round,aq=ab.floor,a8=ab.ceil,bv=ab.min,D=ab.max,ad=ab.abs,br=parseInt,aP=bl.math.interpolate,ao="annotations",n="area",Y="auto",bc="backup",ba="backwards",d="bit",q="brake",bu="cached",ay="center",j="clicked",M="clicked_location",a7="clicked_on",aT="clicked_tier",bi="cwish",a1="dimensions",aa="fraction",aS="frame",u="frames",aL="hi",W="hidden",N="image",aW="images",al="opening",S=al+"_ticks",aF="lo",bo="options",by="playing",a0="preloaded",E="reeling",I="revolution",aw="revolution_y",a2="row",O="rows",bb="spacing",aK="speed",aE="stage",a9="stitched",H="stitched_shift",aO="stitched_travel",aZ="stopped",f="style",bw="tempo",au="tier",bz="velocity",s="vertical",ax=J(Q),a=J("pan")+ax,be="touch",aR="mouse",e=aR+"down"+ax,a5=aR+"enter"+ax,aM=aR+"leave"+a,bh=aR+"move"+a,at=aR+"up"+a,R=aR+"wheel"+ax,aQ="tick"+ax,bd=be+"cancel"+a,bg=be+"end"+a,af=be+"start"+ax,bf=be+"move"+a,l="",o=" ",aG=",",U="absolute",bt="block",w="@CDN@",aX="div",aA="hand",h="head",bk="height",a3="html",ag="id",C="img",bs="jquery."+Q,aC="move",aI="none",c="object",bx="preload",aj="string",ae="width",bn=r?am("CAAIAIAAAAAAAAAAACH5BAEAAAAALAAAAAAIAAgAAAIHhI+py+1dAAA7"):w+"blank.gif",V=L(w+bs+".cur")+aG+aC,ap=L(w+bs+"-drag.cur")+aG+aC,m=L(w+bs+"-drag-down.cur")+aG+aC,aH=bl.touchy=(bl.re.touchy_agent).test(z),P=bl.lazy=(bl.re.lazy_agent).test(z),ar=aH?K:(Z&&A<=8)?1:0,aB=a6.cleanData,a4=a6.cleanData=function(bC){aB(a6(bC).each(function(){a6(this).triggerHandler("clean")}))};an("disableTextSelect enableTextSelect".split(/ /));a6.extend(a6.fn,bl.fn);function bB(bC){return(bl.instances.push(bC[0]))&&bC}function X(bC){return(bl.instances=bl.instances.not(ai(bC.attr(ag))))&&bC}function G(bC){return bl.instances.first().data(bC)}function am(bC){return"data:image/gif;base64,R0lGODlh"+bC}function g(bC){return"<"+bC+"/>"}function J(bC){return"."+(bC||"")}function k(bC){return bC.replace(w,bl.cdn)}function L(bC){return"url('"+bj(bC)+"')"}function p(bC,bD){return typeof bD==c?bD[bC]:bD}function bp(bD,bE,bC){return D(bD,bv(bE,bC))}function an(bD){a6.each(bD,bC);function bC(){if(!a6.fn[this]){a6.fn[this]=function(){return this}}}}function aN(bC,bD){return ad(bC)*(bD?-1:1)}function aY(bC){return aH?bC.touch||bC.originalEvent.touches[0]:bC}function v(bC){return bC===K?0:typeof bC==aj?bC:bC+"px"}function ai(bC){return"#"+bC}function F(bD,bC,bE){while(bD.length<bC){bD=bE+bD}return bD}function bj(bC){return encodeURI(decodeURI(bC))}function B(bC){try{console.warn("Deprecation - Please consult https://github.com/pisi/Reel/wiki/Deprecations")}catch(bD){}return bC}})(mrm.$,window,document);(function(a){a.fn.ellipsis=function(b){var c=document.documentElement.style;if(!("textOverflow" in c||"OTextOverflow" in c)){return this.each(function(){var f=a(this);if(f.css("overflow")=="hidden"){var j=f.html();var d=f.width();var e=a(this.cloneNode(true)).hide().css({position:"absolute",width:"auto",overflow:"visible","max-width":"inherit"});f.after(e);var h=j;while(h.length>0&&e.width()>f.width()){h=h.substr(0,h.length-1);e.html(h+"...")}f.html(e.html());e.remove();if(b==true){var g=f.width();setInterval(function(){if(f.width()!=g){g=f.width();f.html(j);f.ellipsis()}},200)}}})}else{return this}}})(mrm.$);(function(e){var b={},l,n,p,k=e.browser.msie&&/MSIE\s(5\.5|6\.)/.test(navigator.userAgent),a=false;e.tooltip={blocked:false,defaults:{delay:200,fade:false,showURL:true,extraClass:"",top:15,left:15,id:"tooltip"},block:function(){e.tooltip.blocked=!e.tooltip.blocked}};e.fn.extend({tooltip:function(q){q=e.extend({},e.tooltip.defaults,q);h(q);return this.each(function(){e.data(this,"tooltip",q);this.tOpacity=b.parent.css("opacity");this.tooltipText=this.title;e(this).removeAttr("title");this.alt=""}).mouseover(m).mouseout(f).click(f)},fixPNG:k?function(){return this.each(function(){var q=e(this).css("backgroundImage");if(q.match(/^url\(["']?(.*\.png)["']?\)$/i)){q=RegExp.$1;e(this).css({backgroundImage:"none",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, sizingMethod=crop, src='"+q+"')"}).each(function(){var r=e(this).css("position");if(r!="absolute"&&r!="relative"){e(this).css("position","relative")}})}})}:function(){return this},unfixPNG:k?function(){return this.each(function(){e(this).css({filter:"",backgroundImage:""})})}:function(){return this},hideWhenEmpty:function(){return this.each(function(){e(this)[e(this).html()?"show":"hide"]()})},url:function(){return this.attr("href")||this.attr("src")}});function h(q){if(b.parent){return}b.parent=e('<div id="'+q.id+'"><h3></h3><div class="body"></div><div class="url"></div></div>').appendTo(document.body).hide();if(e.fn.bgiframe){b.parent.bgiframe()}b.title=e("h3",b.parent);b.body=e("div.body",b.parent);b.url=e("div.url",b.parent)}function c(q){return e.data(q,"tooltip")}function g(q){if(c(this).delay){p=setTimeout(o,c(this).delay)}else{o()}a=!!c(this).track;e(document.body).bind("mousemove",d);d(q)}function m(){if(e.tooltip.blocked||this==l||(!this.tooltipText&&!c(this).bodyHandler)){return}l=this;n=this.tooltipText;if(c(this).bodyHandler){b.title.hide();var u=c(this).bodyHandler.call(this);if(u.nodeType||u.jquery){b.body.empty().append(u)}else{b.body.html(u)}b.body.show()}else{if(c(this).showBody){var s=n.split(c(this).showBody);b.title.html(s.shift()).show();b.body.empty();for(var r=0,q;(q=s[r]);r++){if(r>0){b.body.append("<br/>")}b.body.append(q)}b.body.hideWhenEmpty()}else{b.title.html(n).show();b.body.hide()}}if(c(this).showURL&&e(this).url()){b.url.html(e(this).url().replace("http://","")).show()}else{b.url.hide()}b.parent.addClass(c(this).extraClass);if(c(this).fixPNG){b.parent.fixPNG()}g.apply(this,arguments)}function o(){p=null;if((!k||!e.fn.bgiframe)&&c(l).fade){if(b.parent.is(":animated")){b.parent.stop().show().fadeTo(c(l).fade,l.tOpacity)}else{b.parent.is(":visible")?b.parent.fadeTo(c(l).fade,l.tOpacity):b.parent.fadeIn(c(l).fade)}}else{b.parent.show()}d()}function d(u){if(e.tooltip.blocked){return}if(u&&u.target.tagName=="OPTION"){return}if(!a&&b.parent.is(":visible")){e(document.body).unbind("mousemove",d)}if(l==null){e(document.body).unbind("mousemove",d);return}b.parent.removeClass("viewport-right").removeClass("viewport-bottom");var z=b.parent[0].offsetLeft;var w=b.parent[0].offsetTop;if(u){z=u.pageX+c(l).left;w=u.pageY+c(l).top;var r="auto";if(c(l).positionLeft){r=e(window).width()-z;z="auto"}b.parent.css({left:z,right:r,top:w})}var q=j(),s=b.parent[0];if(q.x+q.cx<s.offsetLeft+s.offsetWidth){z-=s.offsetWidth+20+c(l).left;b.parent.css({left:z+"px"}).addClass("viewport-right")}if(q.y+q.cy<s.offsetTop+s.offsetHeight){w-=s.offsetHeight+20+c(l).top;b.parent.css({top:w+"px"}).addClass("viewport-bottom")}}function j(){return{x:e(window).scrollLeft(),y:e(window).scrollTop(),cx:e(window).width(),cy:e(window).height()}}function f(s){if(e.tooltip.blocked){return}if(p){clearTimeout(p)}l=null;var r=c(this);function q(){b.parent.removeClass(r.extraClass).hide().css("opacity","")}if((!k||!e.fn.bgiframe)&&r.fade){if(b.parent.is(":animated")){b.parent.stop().fadeTo(r.fade,0,q)}else{b.parent.stop().fadeOut(r.fade,q)}}else{q()}if(c(this).fixPNG){b.parent.unfixPNG()}}})(mrm.$);(function(c,e){var f="open" in document.createElement("details"),a=a||c;function b(){var h=this,g=this.element,j=g[0],k=this.options.speed;this._trigger(".opening");if(f){j.open=true}else{g.attr("open","true")}this.isOpen=true;g.animate({height:this._detailsHeight},{duration:k,complete:function(){h._trigger(".opened")}})}function d(){var h=this,g=this.element,j=g[0],k=this.options.speed;h._trigger(".closing");this.isOpen=false;g.animate({height:this._summaryHeight},{duration:k,complete:function(){if(f){j.open=false}else{g.removeAttr("open")}h._trigger(".closed")}})}c.widget("ui.deets",{options:{speed:0},_create:function(){if(this.widgetName!=="deets"){c.data(this.element[0],"deets",this)}this.isOpen=this.element[0].open||this.element.attr("open");if(!f||this.options.speed){this._polyfillDetails()}else{if(!this.isOpen){this.element.removeClass("closed")}}},_polyfillDetails:function(){var g=this.element,h=g[0];this._summaryHeight=g.find("summary").outerHeight(true);this.storeHeights();if(!this.isOpen){g.css({height:this._summaryHeight})}},storeHeights:function(){var g=this.element,h=g[0];if(!f){this._detailsHeight=g.removeClass("closed").outerHeight(true)}else{h.open=true;this._detailsHeight=g.outerHeight(true);h.open=this.isOpen}},open:function(){b.call(this)},close:function(){d.call(this)},toggle:function(){(this.isOpen?d:b).call(this)},summary:function(){return this.element.find("summary").text()},_destroy:function(){c.Widget.prototype.destroy.apply(this,arguments);!f&&this.element.removeClass("virtual-details")}});c(function(){c(document.body).on("click","summary",function(k){var j=c.data(a(this).parent()[0],"deets"),h=j.options.speed,g;if(!f||h){k.preventDefault();(!j.isOpen?b:d).call(j)}});c("details").each(function(){var g=a(this);g.deets(g.data("deet"))})})})(mrm.$);(function(a){a.setBrowserVersion=function(){var b=a.browser.name+""+a.browser.version.replace(/\./g,"_");a("html").addClass(b)};a.setBrowserVersion()})(mrm.$);(function(a){a.fn.dyntable=function(f){var k=a.extend(true,{},a.fn.dyntable.defaults,f||{}),o={headRow:!k.tbodyHeader?"thead tr:not(.groups):last":"tr.thead:not(.groups):first",groupRow:"tr.thead.groups",bodyRows:!k.tbodyHeader?"tbody tr":"tbody tr:not(.groups)",footRows:"tfoot tr:not(.expanderNav)"};function e(r){var s={bodyRows:[],footRows:[]};r.find(o.bodyRows).each(function(){var u=[];a(this).children().slice(k.preserveCols).each(function(){u.push(a(this).html())});s.bodyRows.push(u)});r.find(o.footRows).each(function(){var u=[];a(this).children().slice(k.preserveCols).each(function(){u.push(a(this).html())});s.footRows.push(u)});return s}function q(r){var s=[];r.find(o.headRow).children().slice(k.preserveCols).each(function(){s.push(a(this).text())});return s}function m(u){var s=a(o.groupRow,u),v=s.eq(0).find("th:gt(0)"),r=[];v.each(function(){var z=a(this),w=z.data("excludeDropdowns")!==undefined?z.data("excludeDropdowns"):[];if(!a.isArray(w)){w=[w]}r.push({label:z.text(),length:parseInt(z.attr("colspan"),10),excludeDropdowns:w})});s.remove();return r}function n(u,s){var r=[],v=0;a.each(s,function(){var A=this,w;for(var z=0,w={};z<A.length;z++,v++){w[v+1]=u[v]}r.push({groupLabel:A.label,options:w,excludeDropdowns:A.excludeDropdowns})});if(!r.length){r=u.slice(0)}r.unshift(k.dropdownChooseText);if(!k.dropdownChooseText.length){delete r[0]}return r}function p(s,w){var r="",u=a(),z=[];for(var v=0;v<k.dynCols;v++){r="dynTabSel"+w+v;u=u.add(a("<select />").addClass("dynTable").attr({name:r,id:r}));z.push([])}a.each(s,function(A,B){if(!B){return true}u.each(function(C){if(B.excludeDropdowns&&a.inArray(C,B.excludeDropdowns)>-1){return}z[C][A]=B})});u.each(function(A){mrm.util.fillSelect(u.eq(A),z[A])});return u}function d(u,s,r,w,v){s.change(function(){if(k.mergeEqualCells){g(r)}c(r,w,v,s.index(a(this)),a(this).val());if(k.mergeEqualCells){l(r)}})}function j(w,v,u){var A,s,r=k.dropdownLabelTxt.length?a("<label />").text(k.dropdownLabelTxt):a(),z;z=function(){return a(this).closest("ul.dynTabCtrl").find("select:eq(0)").attr("id")};if(a.isFunction(k.onInsertDropdown)){k.onInsertDropdown(w,u);return}if(k.outsideDropdown){w.prepend(function(){var B=a('<ul class="dynTabCtrl" />').append(r).append(u);B.children().wrap("<li />");return B}).find("label").attr("for",z);return}if(!a("thead",v).length){v.prepend("<thead><tr /></thead>");s="replaceWith"}else{s=!k.tbodyHeader?"before":"after"}a("thead tr:last",v)[s](function(){var B=a('<tr class="selects dynTabCtrl" />').append(a("<th />").html("&nbsp;").attr("colspan",k.preserveCols));u.before(r).appendTo(B).wrap("<th />");return B});a("thead tr.selects label",v).attr("for",z)}function c(r,v,u,z,s){var w="";z+=k.preserveCols;s--;a(o.headRow,r).children().eq(z).html(s>-1?k.colHeadReplaceTxt||v[s]:"");a(o.bodyRows,r).each(function(A){if(s>-1){w=u.bodyRows[A][s]}a(this).children().eq(z).html(w)});a(o.footRows,r).each(function(A){if(s>-1){w=u.footRows[A][s]}if(mrm.util.locale.getCountry().toLowerCase()==="ca"&&w!==""){var B=a(".tbl").data();var C=a(w);C.filter(".dynPriceEh").each(function(){var D=this.id;if(B!=undefined&&!a.isEmptyObject(B)&&B[D]!=undefined){a(this).find(".priceEh").html(B[D][mrm.util.locale.region].formattedPrice);var E=mrm.util.location.getPostalCode();if(E){a(this).find("postalCodeDisplay").html(E)}a(this).find("#feeDisclaimer").html(B[D][mrm.util.locale.region].feeDisclaimer);a(this).find("#cashCreditDisclaimer").html(B[D][mrm.util.locale.region].cashCreditDisclaimer);a(this).find("#ownerCashDisclaimer").html(B[D][mrm.util.locale.region].ownerCashDisclaimer)}});w=C.wrapAll("<div>").parent().html()}a(this).children().eq(z).html(w)})}function l(r){a("tbody tr:not(.thead:first-child)",r).each(function(){var s=a(this),z=a("td:not(:first-child)",s),w=z.eq(0),v=z.eq(1)||a(),u=z.eq(2)||a();if(w.html()==v.html()){if(w.html()==u.html()){w.addClass("highlight").attr("colspan",3);v.addClass("hidden");u.addClass("hidden")}else{w.addClass("highlight").attr("colspan",2);v.addClass("hidden")}}else{if(w.html()==u.html()){w.addClass("highlight");u.addClass("highlight")}else{if(v.html()==u.html()){v.addClass("highlight").attr("colspan",2);u.addClass("hidden")}}}})}function g(r){a("tbody tr:not(.thead:first-child) td",r).removeClass("highlight hidden").attr("colspan",1)}function h(r){a("tr",r).each(function(){a(this).children().slice(k.preserveCols+k.dynCols).remove()}).find(":only-child").attr("colspan",k.preserveCols+k.dynCols)}function b(u){var w,r,s=k.selectedIndex;for(var v=0;v<k.dynCols;v++){w=a.isArray(s)&&s.length>v?parseInt(s[v]):k.selectedIndexDefault;r=u.eq(v).find('option[value="'+w+'"]');if(!r.length){r=u.eq(v).children().first()}r.prop("selected",true).trigger("change")}}return this.each(function(v){var u,w,C,s,z=a(this),B=z.find("table:eq(0)"),A=a(o.headRow,B).children().length;if(mrm.util.locale.getCountry().toLowerCase()==="ca"){var r="/apps/servlets/bbcdataseries.json?segment=true&year="+cnt_tbl_fs_1_Year+"&carline="+cnt_tbl_fs_1_CarlineCode+"&bodystyle="+cnt_tbl_fs_1_BodystyleCode+"&path="+a('meta[name="contentpath"]').attr("content");a.ajax({url:r,dataType:"json",async:false,success:function(E){B.data(E[cnt_tbl_fs_1_Year+"_"+cnt_tbl_fs_1_CarlineCode+"_"+cnt_tbl_fs_1_BodystyleCode]);B.addClass("caData");var D=mrm.util.location.getPostalCode();if(D){var F=a.Event("newClippedRegionEh",{postalCode:D});a("body").trigger(F)}}})}if(A<k.minCols||A<=k.preserveCols||!k.dynCols){if(k.mergeEqualCells&&A<=4){l(B)}return}w=e(B);C=q(B);columnGroups=m(B);s=n(C,columnGroups);u=p(s,v);d(z,u,B,C,w);h(B);j(z,B,u);b(u);if(mrm.util.ie8()){if(B.prev().length){B.prev().after(B)}else{B.parent().prepend(B)}}})};a.fn.dyntable.defaults={minCols:3,dynCols:1,preserveCols:1,tbodyHeader:false,dropdownChooseText:"",colHeadReplaceTxt:"",dropdownLabelTxt:"",outsideDropdown:false,selectedIndex:[],selectedIndexDefault:1,onInsertDropdown:false,mergeEqualCells:false}})(mrm.$);(function(a){a.widget("mrm.fancyCarousel",{options:{param:"default",label:{image:"Bild",textIndicator:[]},fancybox:{onComplete:function(){a("#fancybox-outer").touchwipe({wipeLeft:function(){a.fancybox.prev()},wipeRight:function(){a.fancybox.next()}})}},caroufredsel:{},callbacks:{}},_scrollerSelector:'dd[class*="indicator_"]',_counter:0,_id:"",_firstOpen:true,_$carousel:null,_posOffset:0,_galleryScrolled:false,_enlargeClicked:false,_create:function(){if(this.element.has(this._scrollerSelector+" > ul").length){this._id=Math.random().toString(16).slice(2,10);this._initImageScroller()}},_initImageScroller:function(){this.element.find("> dl.figure > dt a.enlarge").click(a.proxy(this._scrollerEnlarge,this));a("#fancybox-title ol.indicator_dot a").live("click",function(b){b.preventDefault();a.fancybox.pos(a(b.target).attr("href").replace(/^#/,""))});this._initLightBoxGallery();this._initCarousel()},_initLightBoxGallery:function(){var c=this.element.find(this._scrollerSelector);if(c.hasClass("indicator_number")){a.extend(this.options.fancybox,{titleFormat:a.proxy(this._titleFormatNumbers,this)})}else{if(c.hasClass("indicator_dot")){a.extend(this.options.fancybox,{titleFormat:a.proxy(this._titleFormatDots,this)})}else{if(c.hasClass("indicator_text")){a.extend(this.options.fancybox,{titleFormat:a.proxy(this._titleFormatText,this)})}}}if(typeof(this.options.callbacks.onCloseWindow)=="function"){a.extend(this.options.fancybox,{onClosed:a.proxy(function(){this.options.callbacks.onCloseWindow(this._$carousel.find("li:first a:first").attr("href").split("/").pop())},this)})}var b=this.element.find("> dl.figure > dd a.lightbox");b.click(a.proxy(this._openLightbox,this))},_openLightbox:function(b){b.preventDefault();if(this._enlargeClicked){this._enlargeClicked=false;if(typeof(this.options.callbacks.onIconEnlarge)=="function"){this.options.callbacks.onIconEnlarge(a(b.currentTarget).attr("href").split("/").pop())}}else{if(typeof(this.options.callbacks.onImageEnlarge)=="function"){this.options.callbacks.onImageEnlarge(a(b.currentTarget).attr("href").split("/").pop())}}this._firstOpen=true;var c=a(b.target).closest("ul").find("a.lightbox").toArray();a.fancybox(c,this.options.fancybox)},_initCarousel:function(){var f="cnt_mmpar_1";var h=this;var e=this.element.find(this._scrollerSelector+"> ul");var d=e.find("> li");if(e.find("> li").length<1){return}var c=f+"next-"+this._id;var j=f+"prev-"+this._id;var k=f+"pagination-"+this._id;e.before('<span id="'+j+'" class="prev"></span>');if(!this.options.caroufredsel.disablePagination){e.after('<ol id="'+k+'" class="paging"></ol>')}e.after('<p class="indicator">'+this.options.label.image+' <span class="current"></span>/<span class="amount"></span></p>');e.after('<span id="'+c+'" class="next"></span>');this.options.caroufredsel.prev={button:"#"+j};this.options.caroufredsel.next={button:"#"+c};this.options.caroufredsel.pagination.container="#"+k;this.options.caroufredsel.scroll.onAfter=a.proxy(this._onAfterScroll,this);var b=this.options.caroufredsel.onCreate;this.options.caroufredsel.onCreate=function(l){h._markVisible(l);if(a.isFunction(b)){b(l)}};if(this.element.find("dd").hasClass("indicator_text")&&this.options.label.textIndicator.length>0){var g=this;this.options.caroufredsel.pagination.anchorBuilder=function(l){return'<li><a href="#">'+g.options.label.textIndicator[l-1]+"</a></li>"}}this._$carousel=e.mrmCarousel(this.options.caroufredsel);this._$carousel.parent().siblings("p.indicator").find("span.amount").text(this._$carousel.find("li").length).end().find("span.current").text("1");this.element.find("dl.figure").width(e.parent().width())},_markVisible:function(b){b.addClass("ui-helper-visible").siblings().removeClass("ui-helper-visible")},_onAfterScroll:function(c,b){this._markVisible(b);this._updateNumericIndicator(c)},_updateNumericIndicator:function(c){var b=0;this._$carousel.trigger("currentPosition",function(d){b=d+1});this._$carousel.parent().siblings("p.indicator").find("span.current").text(b);if(this._galleryScrolled){if(typeof(this.options.callbacks.onArrow)=="function"){this.options.callbacks.onArrow(this._$carousel.find("li:first a:first").attr("href").split("/").pop())}this._galleryScrolled=false}else{if(typeof(this.options.callbacks.onDots)=="function"){this.options.callbacks.onDots(this._$carousel.find("li:first img:first").attr("src").split("/").pop())}}},_scrollerEnlarge:function(b){b.preventDefault();this._enlargeClicked=true;var c=a(b.currentTarget).closest("dt");c.siblings("dd").find("ul > li:first a.lightbox").trigger("click")},_titleFormatDots:function(h,g,d,e){this._syncGalleryAndCarousel(d);var b=(d+this._posOffset)%g.length;var c=this._getCaptionText(g[d],h);if(g.length<2){return c}c+='<ol class="indicator_dot">';var f=this;a.each(g,function(j,k){if(j==b){c+='<li class="active">'+(j+1)+"</li>"}else{c+='<li><a href="#'+((g.length+(j-f._posOffset))%g.length)+'">'+(j+1)+"</a></li>"}});c+="</ol>";return c},_titleFormatText:function(h,g,d,e){this._syncGalleryAndCarousel(d);var b=(d+this._posOffset)%g.length;var c=this._getCaptionText(g[d],h);if(g.length<2){return c}c+='<ol class="indicator_dot">';var f=this;a.each(g,function(k,l){var j=k+1;if(f.options.label.textIndicator.length>0){j=f.options.label.textIndicator[k]}if(k==b){c+='<li class="active">'+j+"</li>"}else{c+='<li><a href="#'+((g.length+(k-f._posOffset))%g.length)+'">'+j+"</a></li>"}});c+="</ol>";return c},_titleFormatNumbers:function(f,e,c,d){this._syncGalleryAndCarousel(c);var b=this._getCaptionText(e[c],f);if(e.length<2){return b}b+='<p class="indicator_number">';b+=this.options.label.image;b+=(((c+this._posOffset)%e.length)+1)+"/"+e.length;b+="</p>";return b},_getCaptionText:function(b,c){var d=a(b).next("div.caption");if(d.length){return d.html()}else{return(c&&c.length?"<p>"+c+"</p>":"")}},_syncGalleryAndCarousel:function(b){var c=this;if(this._firstOpen){this._firstOpen=false;this._$carousel.trigger("currentPosition",function(e){c._posOffset=e})}else{this._galleryScrolled=true;var d=b;this._$carousel.trigger("slideTo",d+this._posOffset)}}})})(mrm.$);(function(c){var e=0;var b=["youtube","bitrate","dam","brightcove"];var f=false;var d={clickCursor:"pointer",defaultCursor:"default",ignoreDimensions:true,overrideHeight:false,overrideWidth:false,targetElement:"self",showControls:false,controlsTarget:"self"};var a={autostart:" false",controlbar:"none"};c.fn.hiddenVideo=function(h,j){var l=c(this);var h=c.extend({},d,h);var j=c.extend({},a,j,{flashplayer:mrm.conf.corcmp.mmVideo.playerSwf,width:"100%",height:"100%"});if(f===false){f=true;var k="hiddenvideo-preload";var g=k+"_inner";c("<div/>",{id:k,css:{width:"1px",height:"1px",visibility:"hidden",position:"absolute",bottom:"0",left:"0"}}).append(c("<div/>",{id:g})).appendTo("body");jwplayer(g).setup(j).onReady(function(){c("#"+k).remove()})}return l.each(function(){var m=c(this).data();if(m.url&&m.type&&c.inArray(m.type,b)>-1){m.videoContainerID="hiddenvideo-container_"+(++e);m.videoContainerInnerID=m.videoContainerID+"_inner";m.videoControlsID=m.videoContainerID+"_controls";m.currentState="none";m.videoId=c(this).parents('[id^="galleryitem"]').attr("id");c(this).on("videoPrepare",function(p){var r=c(this);var n=h.targetElement=="self"?c(this):c(h.targetElement);var q=c(this).data();if(q.currentState=="none"){q.currentState="preparing";c("<div/>",{id:q.videoContainerID,"class":"hidden-video",css:{width:"1px",height:"1px",backgroundColor:"#000",position:"absolute",top:"0",left:"0",zIndex:1}}).data("vidId",q.videoId).append(c("<div/>",{id:q.videoContainerInnerID})).appendTo(n);if(!mrm.util.flash()){c("#"+q.videoContainerID).css({width:"100%",height:"100%",visibility:"hidden"})}var o=jwplayer(q.videoContainerInnerID).setup(c.extend({},j,{file:q.url}));if(r.siblings(".end_frame_wrap").length){n.find("> div").append(r.siblings(".end_frame_wrap").clone());n.find("#"+q.videoContainerInnerID+"_wrapper").addClass("video");l.data("preventAutoClear",true)}o.onReady(function(){setTimeout(function(){r.css("cursor",h.clickCursor);r.on("click",function(u){if(!q.activated){r.trigger("videoActivate")}u.preventDefault()});if(h.showControls===true){var s=h.controlsTarget=="self"?c(this):c(h.controlsTarget);c("<div/>",{id:q.videoControlsID}).addClass("hiddenvideo-controls").append('<div class="playpause"></div><div class="progress"><div class="progress-inner"></div></div>').appendTo(s);c("#"+q.videoControlsID+" .playpause").on("click",function(v){var u=window.document[q.videoContainerInnerID];u.sendEvent("PLAY");v.preventDefault()});o.onTime(function(u){c("#"+q.videoControlsID+" .progress-inner").width(Math.round((100/u.duration)*u.position)+"%")})}q.currentState="prepared"},250)});o.onPlay(function(s){if((c("html").hasClass("firefox")||mrm.util.ie()||c("html").hasClass("unknownX"))&&q.endFrameCall){c(o.container).width(q.width).height(q.height)}if(typeof(Omniture_s)!=="undefined"){if(s.oldstate==="PAUSED"){Omniture_s.Media.play(this.getPlaylistItem().file.split("/").pop(),this.getPosition())}else{Omniture_s.Media.open(this.getPlaylistItem().file.split("/").pop(),this.getDuration(),this.id);Omniture_s.Media.play(this.getPlaylistItem().file.split("/").pop(),this.getPosition())}}});o.onPause(function(s){var u=c("#"+q.videoContainerID).find(">div").siblings(".end_frame_wrap");if(u.length&&o.getPosition()>1){mrm.ui.video_end_frame.initialize(u,j,"replay")}if(typeof(Omniture_s)!=="undefined"){Omniture_s.Media.stop(this.getPlaylistItem().file.split("/").pop(),this.getPosition())}});o.onComplete(function(s){var u=c("#"+q.videoContainerID).find(">div").siblings(".end_frame_wrap");if(u.length){mrm.ui.video_end_frame.initialize(u,j,"end")}if(typeof(Omniture_s)!=="undefined"){Omniture_s.Media.close(this.getPlaylistItem().file.split("/").pop())}})}});c(this).on("videoActivate",function(q,s){var v=c(this);var n=h.targetElement=="self"?c(this):c(h.targetElement);var r=c(this).data();r.activated=true;for(var o=jwplayer.getPlayers().length-1;o>=0;o--){try{if(jwplayer.getPlayers()[o].getState()==="PLAYING"){jwplayer.getPlayers()[o].stop()}}catch(u){}}if(r.currentState=="preparing"){window.setTimeout(function(){v.trigger("videoActivate")},200)}else{if(r.currentState=="prepared"){r.currentState="active";var p=jwplayer(r.videoContainerInnerID);if(r.width&&r.height&&h.ignoreDimensions===false){c("#"+r.videoContainerID).css("width",r.width);c("#"+r.videoContainerID).css("height",r.height)}else{c("#"+r.videoContainerID).css("width",n.width());c("#"+r.videoContainerID).css("height",n.height())}if(h.overrideHeight!==false){c("#"+r.videoContainerID).css("height",h.overrideHeight)}if(h.overrideWidth!==false){c("#"+r.videoContainerID).css("width",h.overrideWidth)}c("#"+r.videoContainerID).css("visibility","visible");if(h.showControls===true){c("#"+r.videoControlsID).addClass("active")}p.onComplete(function(){if(!r.preventAutoClear){v.trigger("videoClear").trigger("videoPrepare")}});if(!jwplayer.utils.isIOS()){p.play()}}}});c(this).on("videoClear",function(p){var r=c(this);var n=h.targetElement=="self"?c(this):c(h.targetElement);var q=c(this).data();var o=jwplayer(q.videoContainerInnerID);if(q.currentState=="prepared"||q.currentState=="active"){if(o!==null){o.stop();o.remove()}if(h.showControls===true){c("#"+q.videoControlsID).remove()}c("#"+q.videoContainerID).remove();n.css("cursor",h.defaultCursor);n.unbind("click");q.currentState="none"}else{if(q.currentState=="preparing"){setTimeout(function(){r.trigger("videoClear")},100)}}q.currentState="none";q.activated=false})}})};c.fn.getHiddenVideoPlayerObject=function(){var h=c(this).first();var g=h.data();if(g.currentState!=="none"&&g.currentState!=="undefined"){return jwplayer(g.videoContainerInnerID)}else{return false}}})(mrm.$);(function(a){a.fn.mrmEmbeddedIframe=function(c){var b={setWidth:true,onAfterResizeEvents:["itemChange","updatedDOM"],handleIframe:a.noop};c=a.extend(true,b,c||{});if(!a.isArray(c.onAfterResizeEvents)){c.onAfterResizeEvents=c.onAfterResizeEvents.split(" ")}return this.each(function(e){var f=a(this),d="message.mei_"+(new Date()).getTime();a(window).on(d,function(k){var l=f.get(0).contentWindow,g=k.originalEvent,j=JSON.parse(g.data),h;if(!l){a(window).off(d)}if(l!==g.source){return}if(a.isFunction(c.handleIframe)){h=c.handleIframe(f,j,k)}if(h===false){return}else{if(!a.isPlainObject(h)){h={}}}f.height(h.height||j.height);if(c.setWidth){f.width(h.width||j.width)}a.each(c.onAfterResizeEvents,function(n,m){f.trigger(m)})})})};a.fn.mrmEmbeddedIframe.initEmbedded=function(c){var b={resizeEvents:"load resize",getSize:function(){var e=a(document).width(),d=a(document).height(),f=a("html").height();return{width:e,height:f<d?f:d}}};c=a.extend(true,b,c||{});a(window).on(c.resizeEvents,function(f){var d=c.getSize();window.top.postMessage(JSON.stringify(d),"*")});a("form").attr("target","_self").attr("action",function(e,d){return a.fn.mrmEmbeddedIframe.applyCurrentSelectors(d)})};a.fn.mrmEmbeddedIframe.isEmbeddedPage=function(){var b=window.location!=window.top.location,c=a("html").hasClass("embedded");return !!(b&&c)};a.fn.mrmEmbeddedIframe.slingSelectors={contentOnly:"contentOnly",embedded:"embedded"};a.fn.mrmEmbeddedIframe.isContentOnlyMode=function(){var b=new RegExp("."+a.fn.mrmEmbeddedIframe.slingSelectors.contentOnly+".");return b.test(window.location)};a.fn.mrmEmbeddedIframe.urlAddSelector=function(c,b){if(!a.isArray(b)){b=[b]}a.each(b,function(f,d){var e=new RegExp("."+a.fn.mrmEmbeddedIframe.slingSelectors[d]+".");if(e.test(c)){return true}c=c.replace(/(\.html?)/,"."+a.fn.mrmEmbeddedIframe.slingSelectors[d]+"$1")});return c};a.fn.mrmEmbeddedIframe.applyCurrentSelectors=function(b){var c=[];if(a.fn.mrmEmbeddedIframe.isEmbeddedPage()){c.push(a.fn.mrmEmbeddedIframe.slingSelectors.embedded)}if(a.fn.mrmEmbeddedIframe.isContentOnlyMode()){c.push(a.fn.mrmEmbeddedIframe.slingSelectors.contentOnly)}return a.fn.mrmEmbeddedIframe.urlAddSelector(b,c)}})(jQuery);(function(d){var f=d(),c=[];d.event.special.mrmBeforePrint={setup:function(){f=f.add(this);if(f.length===1){g()}},teardown:function(){f=f.not(this);if(!f.length){a()}},remove:function(k){var j=this;c=d.grep(c,function(l){return l.context!==j||l.handleObj!==k})},add:function(j){var k=j.handler;c.push({context:this,handleObj:j});j.handler=function(n){var l=d(n.target),m=d(this);if(l.is(m)){return k.apply(this,arguments)}}}};function b(){var j=d();d.each(c,function(k,l){if(l.handleObj.selector){j=j.add(d(l.handleObj.selector,l.context))}else{j=j.add(d(l.context))}});j.trigger("mrmBeforePrint")}function h(){return window.onbeforeprint!==undefined}function e(j){if(j.matches){b()}}function g(){if(!h()){if(window.matchMedia){window.matchMedia("print").addListener(e)}}else{window.onbeforeprint=b}}function a(){if(!h()){if(window.matchMedia){window.matchMedia("print").removeListener(e)}}else{window.onbeforeprint=null}}})(mrm.$);
/*! Copyright (c) 2010 Brandon Aaron (http://brandonaaron.net)
 * Dual licensed under the MIT (MIT_LICENSE.txt)
 * and GPL Version 2 (GPL_LICENSE.txt) licenses.
 *
 * Version: 1.1.1
 * Requires jQuery 1.3+
 * Docs: http://docs.jquery.com/Plugins/livequery
 */
(function(a){a.extend(a.fn,{livequery:function(e,d,c){var b=this,f;if(a.isFunction(e)){c=d,d=e,e=undefined}a.each(a.livequery.queries,function(g,h){if(b.selector==h.selector&&b.context==h.context&&e==h.type&&(!d||d.$lqguid==h.fn.$lqguid)&&(!c||c.$lqguid==h.fn2.$lqguid)){return(f=h)&&false}});f=f||new a.livequery(this.selector,this.context,e,d,c);f.stopped=false;f.run();return this},expire:function(e,d,c){var b=this;if(a.isFunction(e)){c=d,d=e,e=undefined}a.each(a.livequery.queries,function(f,g){if(b.selector==g.selector&&b.context==g.context&&(!e||e==g.type)&&(!d||d.$lqguid==g.fn.$lqguid)&&(!c||c.$lqguid==g.fn2.$lqguid)&&!this.stopped){a.livequery.stop(g.id)}});return this}});a.livequery=function(b,d,f,e,c){this.selector=b;this.context=d;this.type=f;this.fn=e;this.fn2=c;this.elements=[];this.stopped=false;this.id=a.livequery.queries.push(this)-1;e.$lqguid=e.$lqguid||a.livequery.guid++;if(c){c.$lqguid=c.$lqguid||a.livequery.guid++}return this};a.livequery.prototype={stop:function(){var b=this;if(this.type){this.elements.unbind(this.type,this.fn)}else{if(this.fn2){this.elements.each(function(c,d){b.fn2.apply(d)})}}this.elements=[];this.stopped=true},run:function(){if(this.stopped){return}var d=this;var e=this.elements,c=a(this.selector,this.context),b=c.not(e);this.elements=c;if(this.type){b.bind(this.type,this.fn);if(e.length>0){a.each(e,function(f,g){if(a.inArray(g,c)<0){a.event.remove(g,d.type,d.fn)}})}}else{b.each(function(){d.fn.apply(this)});if(this.fn2&&e.length>0){a.each(e,function(f,g){if(a.inArray(g,c)<0){d.fn2.apply(g)}})}}}};a.extend(a.livequery,{guid:0,queries:[],queue:[],running:false,timeout:null,checkQueue:function(){if(a.livequery.running&&a.livequery.queue.length){var b=a.livequery.queue.length;while(b--){a.livequery.queries[a.livequery.queue.shift()].run()}}},pause:function(){a.livequery.running=false},play:function(){a.livequery.running=true;a.livequery.run()},registerPlugin:function(){a.each(arguments,function(c,d){if(!a.fn[d]){return}var b=a.fn[d];a.fn[d]=function(){var e=b.apply(this,arguments);a.livequery.run();return e}})},run:function(b){if(b!=undefined){if(a.inArray(b,a.livequery.queue)<0){a.livequery.queue.push(b)}}else{a.each(a.livequery.queries,function(c){if(a.inArray(c,a.livequery.queue)<0){a.livequery.queue.push(c)}})}if(a.livequery.timeout){clearTimeout(a.livequery.timeout)}a.livequery.timeout=setTimeout(a.livequery.checkQueue,20)},stop:function(b){if(b!=undefined){a.livequery.queries[b].stop()}else{a.each(a.livequery.queries,function(c){a.livequery.queries[c].stop()})}}});a.livequery.registerPlugin("append","prepend","after","before","wrap","attr","removeAttr","addClass","removeClass","toggleClass","empty","remove","html");a(function(){a.livequery.play()})})(mrm.$);(function(a){a.fn.touchwipe=function(c){var b={min_move_x:20,min_move_y:20,wipeLeft:function(){},wipeRight:function(){},wipeUp:function(){},wipeDown:function(){},preventDefaultEvents:true,preventDefaultEventsHorizontal:false,preventDefaultEventsVertical:false};if(c){a.extend(b,c)}if(b.preventDefaultEventsHorizontal||b.preventDefaultEventsVertical){b.preventDefaultEvents=false}this.each(function(){var e;var d;var j=false;function h(){this.removeEventListener("touchmove",f);e=null;j=false}function f(n){if(b.preventDefaultEvents){n.preventDefault()}if(j){var k=n.touches[0].pageX;var o=n.touches[0].pageY;var m=e-k;var l=d-o;if(Math.abs(m)>=b.min_move_x){h();if(b.preventDefaultEventsHorizontal){n.preventDefault()}if(m>0){b.wipeLeft(n)}else{b.wipeRight(n)}}else{if(Math.abs(l)>=b.min_move_y){h();if(b.preventDefaultEventsVertical){n.preventDefault()}if(l>0){b.wipeDown(n)}else{b.wipeUp(n)}}}}}function g(k){if(k.touches.length==1){e=k.touches[0].pageX;d=k.touches[0].pageY;j=true;this.addEventListener("touchmove",f,false)}}if("ontouchstart" in document.documentElement){this.addEventListener("touchstart",g,false)}});return this}})(mrm.$);(function(a){a.userMode=(function(){var g,h,c,d=0;function e(){c=c||a("<div></div>").css({position:"absolute",left:"-999em",top:"-999px",width:"0px",height:"0px"}).appendTo("body");var l=a.curCSS(c.css({backgroundColor:"#000000"})[0],"backgroundColor",true),j=a.curCSS(c.css({backgroundColor:"#ffffff"})[0],"backgroundColor",true),k=(l===j||j==="transparent");if(k!=g){g=k;a.event.trigger("_internalusermode")}return g}function f(){e();h=setInterval(e,3000)}function b(){clearInterval(h);c.remove();c=null}a.event.special.usermode={setup:function(){(!d&&f());d++;var j=a(this).bind("_internalusermode",a.event.special.usermode.handler);setTimeout(function(){j.triggerHandler("_internalusermode")},1);return true},teardown:function(){d--;(!d&&b());a(this).unbind("_internalusermode",a.event.special.usermode.handler);return true},handler:function(j){j.type="usermode";j.disabled=!g;j.enabled=g;return mrm.$.event.handle.apply(this,arguments)}};return{get:e}})();a.fn.userMode=function(b){return this[(b)?"bind":"trigger"]("usermode",b)};a(function(){a("html").userMode(function(b){a("html")[b.enabled?"addClass":"removeClass"]("hcm")})})})(mrm.$);(function(b){var a=/ui-checkbox|ui-radio/;b.widget("ui.checkBox",{options:{hideInput:true,addVisualElement:true,addLabel:true,_delegated:false},_create:function(){var d=this,c=this.options;if(!this.element.is(":radio,:checkbox")){if(b.nodeName(this.element[0],"input")){return false}this._addDelegate();this.updateContainer();return false}this.labels=b([]);this.checkedStatus=false;this.disabledStatus=false;this.hoverStatus=false;this.radio=(this.element.is(":radio"));this.visualElement=b([]);if(c.hideInput){this.element.addClass("ui-helper-hidden-accessible");if(c.addVisualElement){this.visualElement=b("<span />").addClass(this.radio?"ui-radio":"ui-checkbox");this.element.after(this.visualElement[0])}}if(c.addLabel){this.labels=b('label[for="'+this.element.attr("id")+'"]').addClass(this.radio?"ui-radio":"ui-checkbox")}if(!c._delegated){this._addEvents()}this.initialized=true;this.reflectUI({type:"initialReflect"});return undefined},updateContainer:function(){if(!this.element.is(":radio,:checkbox")&&!b.nodeName(this.element[0],"input")){b("input",this.element[0]).filter(function(){return !(b.data(this,"checkBox"))}).checkBox(b.extend({},this.options,{_delegated:true}))}},_addDelegate:function(){var d=this.options,c=function(g,f){if(!f){return}f.hover=!!(g.type=="focus"||g.type=="mouseenter"||g.type=="focusin"||g.type=="mouseover");f._changeStateClassChain.call(f);return undefined};this.element.bind("click",function(g){if(!b.nodeName(g.target,"input")){return}var f=(b.data(g.target)||{}).checkBox;if(!f){return}f.reflectUI.call(f,g.target,g)}).bind("focusin.checkBox focusout.checkBox",function(g){if(!b.nodeName(g.target,"input")){return}var f=(b.data(g.target)||{}).checkBox;c(g,f)});if(d.hideInput){this.element.bind("usermode",function(f){if(!f.enabled){return}b("input",this).each(function(){var e=(b.data(this)||{}).checkBox;(e&&e.destroy.call(e,true))})})}if(d.addVisualElement){this.element.bind("mouseover.checkBox mouseout.checkBox",function(g){if(!b.nodeName(g.target,"span")){return}var f=(b.data(b(g.target).prev()[0])||{}).checkBox;c(g,f)}).bind("click.checkBox",function(f){if(!b.nodeName(f.target,"span")||!a.test(f.target.className||"")){return}b(f.target).prev()[0].click();return false})}if(d.addLabel){this.element.delegate("label.ui-radio, label.ui-checkbox","mouseenter.checkBox mouseleave.checkBox",function(g){var f=(b.data(document.getElementById(b(this).attr("for")))||{}).checkBox;c(g,f)})}},_addEvents:function(){var e=this,d=this.options,c=function(f){if(e.disabledStatus){return undefined}e.hover=(f.type=="focus"||f.type=="mouseenter");e._changeStateClassChain();return undefined};this.element.bind("click.checkBox",b.proxy(this,"reflectUI")).bind("focus.checkBox blur.checkBox",c);if(d.hideInput){this.element.bind("usermode",function(f){(f.enabled&&e.destroy.call(e,true))})}if(d.addVisualElement){this.visualElement.bind("mouseenter.checkBox mouseleave.checkBox",c).bind("click.checkBox",function(f){e.element[0].click();if(b.browser.opera||(b.browser.msie&&b.browser.versionNumber<9)){b(e.element[0]).trigger("change")}return undefined})}if(d.addLabel){this.labels.bind("mouseenter.checkBox mouseleave.checkBox",c)}},_changeStateClassChain:function(){var e=this.labels.add(this.visualElement),f="",d="ui-"+((this.radio)?"radio":"checkbox");if(this.checkedStatus){f+="-checked";e.addClass(d+"-checked")}else{e.removeClass(d+"-checked")}if(this.disabledStatus){f+="-disabled";e.addClass(d+"-disabled")}else{e.removeClass(d+"-disabled")}if(this.hover){f+="-hover";e.addClass(d+"-hover")}else{e.removeClass(d+"-hover")}d+="-state";if(f){f=d+f}function c(){var g=this.className.split(" "),h=false;b.each(g,function(j,k){if(k.indexOf(d)===0){h=true;g[j]=f;return false}return undefined});if(!h){g.push(f)}this.className=g.join(" ")}this.labels.each(c);this.visualElement.each(c)},destroy:function(c){this.element.removeClass("ui-helper-hidden-accessible");this.visualElement.addClass("ui-helper-hidden");if(!c){var d=this.options;this.element.unbind(".checkBox");this.visualElement.remove();this.labels.unbind(".checkBox").removeClass("ui-state-hover ui-state-checked ui-state-disabled")}},disable:function(){this.element[0].disabled=true;this.reflectUI({type:"manuallyDisabled"})},enable:function(){this.element[0].disabled=false;this.reflectUI({type:"manuallyenabled"})},toggle:function(c){this.changeCheckStatus((this.element.is(":checked"))?false:true,c)},changeCheckStatus:function(c,d){if(d&&d.type=="click"&&this.element[0].disabled){return false}this.element.prop("checked",c);this.reflectUI(d||{type:"changeCheckStatus"});return undefined},propagate:function(f,d,c){if(!d||d.type!="initialReflect"){if(this.radio&&!c){b(document.getElementsByName(this.element.attr("name"))).checkBox("reflectUI",d,true)}return this._trigger(f,d,{options:this.options,checked:this.checkedStatus,labels:this.labels,disabled:this.disabledStatus})}return undefined},reflectUI:function(f){var c=this.checkedStatus,d=this.disabledStatus;this.disabledStatus=this.element.is(":disabled");this.checkedStatus=this.element.is(":checked");if(this.disabledStatus!=d||this.checkedStatus!==c){this._changeStateClassChain();(this.disabledStatus!=d&&this.propagate("disabledChange",f));(this.checkedStatus!==c&&this.propagate("change",f))}},update:function(){this.reflectUI({type:"change"})}});b.ui.checkBox.getter="update"})(mrm.$);(function(a){a.widget("ui.infoBox",{options:{trigger:false,target:false,position:{my:"center top",at:"center bottom",offset:"0 10",collision:"fit flip"},openEvent:"click",closeEvent:"click",closeOnEsc:true,showCloseButton:true,openDelay:0,closeDelay:0,closeOnEsc:true,closeOnBoxLeave:false,addBoxClass:""},_isOpen:false,_eventNamespace:".infoBox",_create:function(){var b=this;b.$trigger=b.options.trigger?b.element.find(b.options.trigger):b.element;b.$target=b.options.target?b.element.find(b.options.target):a(b.element.data("infoboxId"));b._addEvents();if(b.options.closeOnEsc){a(document).on("keyup",function(c){if(c.keyCode==27){b.close()}})}},destroy:function(){this.$trigger.off(this.options.openEvent+this._eventNamespace).off(this.options.closeEvent+this._eventNamespace);if(this._isOpen){a.proxy(this._close,this)}},enable:function(){this._addEvents();this.element.disabled=false},disable:function(){this.$trigger.off(this.options.openEvent+this._eventNamespace).off(this.options.closeEvent+this._eventNamespace);if(this._isOpen){this.close()}this.element.disabled=true},_toggleMenu:function(b){if(this._isOpen){this._close(b)}else{this._open(b)}},_open:function(c){var b=this;if(b.boxCloseTimeout){window.clearTimeout(b.boxCloseTimeout)}if(c){c.stopPropagation();c.preventDefault()}if(!b._isOpen){b.boxOpenTimeout=window.setTimeout(function(){b.open()},b.options.openDelay)}},_close:function(c){var b=this;if(b.boxOpenTimeout){window.clearTimeout(b.boxOpenTimeout)}if(c){c.stopPropagation();c.preventDefault()}if(b._isOpen){b.boxCloseTimeout=window.setTimeout(function(){b.close()},b.options.closeDelay)}},open:function(){var b=this;b.$targetClone=b.$target.clone().removeAttr("id").appendTo("body");if(!b.options.showCloseButton){b.$targetClone.find(".close").hide()}else{b.$targetClone.find(".close").one("click",function(){b.close()})}if(b.options.closeOnBoxLeave){b.$targetClone.on("mouseenter"+b._eventNamespace,function(){window.clearTimeout(b.boxCloseTimeout)});b.$targetClone.on("mouseleave"+b._eventNamespace,function(){b._close()})}b.$targetClone.find("> div").on("click",function(c){c.stopPropagation()});b.$targetClone.addClass(b.options.addBoxClass).fadeIn(function(){a(this).focus().addClass("ui-infobox open")});b._setPosition();b.$trigger.addClass("ui-state-opened");b._isOpen=true;b._trigger("open")},close:function(){if(this._isOpen){this.$trigger.removeClass("ui-state-opened");this.$targetClone.fadeOut("fast",function(){a(this).remove()});this._isOpen=false;this._trigger("close")}},update:function(){if(!this._isOpen){return}this._setPosition()},_setPosition:function(){var b=this;b.$targetClone.position({my:b.options.position.my,at:b.options.position.at,of:b.$trigger,offset:b.options.position.offset,collision:b.options.position.collision,using:function(d){var e=a(this);var c=b.$trigger.offset();e.css({left:d.left+"px",top:d.top+"px"}).removeClass(function(f,g){return(g.match(/\btt-p-\w+/g)||[]).join(" ")});if(c.top>=(d.top+e.outerHeight())){e.addClass("tt-p-top")}else{if(c.top+b.$trigger.outerHeight()<=d.top){e.addClass("tt-p-bottom")}}if(c.left+b.$trigger.outerWidth()<=d.left){e.addClass("tt-p-right")}else{if(c.left>=d.left+e.outerWidth()){e.addClass("tt-p-left")}}}})},_addEvents:function(){if(this.options.openEvent==this.options.closeEvent){this.$trigger.on(this.options.openEvent+this._eventNamespace,a.proxy(this._toggleMenu,this))}else{this.$trigger.on(this.options.openEvent+this._eventNamespace,a.proxy(this._open,this)).on(this.options.closeEvent+this._eventNamespace,a.proxy(this._close,this))}}})})(mrm.$);(function(a){a.fn.mrmCarousel=function(b){var c=a();this.each(function(e){var f=a(this);var d=f.children();if(d.not(":visible").length===0||b.hiddenItemOverride===true){c=c.add(f)}});return c.carouFredSel(b)}})(mrm.$);(function(a){a.fn.cluetipWrap=function(e,c){var d=c||{};if(typeof e=="object"){d=e}var f=a.isFunction(d.onShow)?d.onShow:function(){};d.onShow=function(k,h,g){f.call(this,k,h,g);var j=a.fn.cluetipWrap.functions[d.positionByMethod];if(a.isFunction(j)){j.call(this,k,h,g)}if(d.liveLeftPosition){a.fn.cluetipWrap.functions.liveLeftPosition.call(this,k,g,d.liveLeftOffset)}if(d.newPosition){a.fn.cluetipWrap.functions.newPosition.call(this,k,g,d.liveLeftOffset,d.liveTopOffset)}if(d.disableScroll){k.css({position:"fixed",top:k.offset().top-a(document).scrollTop()})}};var b=a.isFunction(d.onHide)?d.onHide:function(){};d.onHide=function(g){b.call(this,g);g.stop(true,true)};if(d.prepareTitleAttr===true){a.fn.cluetipWrap.functions.prepareTitleAttr(this)}this.each(function(){var g=a(this);if(!d.cluetipClass){d.cluetipClass=g.closest("#mds-area-header").length>0?"header-area-tooltip":"default"}g.cluetip(e,d)});if(typeof(MRM_EXTERNAL_DOMAIN)==="string"){if(!a("div.gmdsWidget div#cluetip").length&&(a("div#cluetip").length)){a("div#cluetip").wrap('<div class="gmdsWidget" />')}}};a.fn.cluetipWrap.defaults={prepareTitleAttr:false,disableScroll:false,positionByMethod:""};a.fn.cluetipWrap.functions={prepareTitleAttr:function(b){b.attr("title",function(c,d){return(mrm.conf.plugin.cluetip.splitTitle||"|")+d});return b},hCenter:function(f,d,c){c=c||this;$triggerElem=a(c);var b=a(document).scrollTop();var e=5;f.position({of:$triggerElem,my:"center bottom",at:"center top",offset:"0",collison:"none",using:function(h){f.css("left",h.left);f.removeClass("clue-bottom-default clue-top-default");if(h.top-e<(b+210)){f.css("top",$triggerElem.offset().top+$triggerElem.height()+e);f.addClass("clue-bottom-default")}else{f.css("top",h.top-e);f.addClass("clue-top-default")}var g=parseInt(f.css("left").replace("px",""));if(g<0){f.css("margin-left",(0-g)+"px")}}})},vCenter:function(m,h,n){if(!/clue-right|clue-left/.test(m.attr("class"))){return}n=n||this;var d,c,l,f=a("#cluetip-arrows:visible"),j=a(n),b=m.outerHeight(),g=m.offset(),e=f.outerHeight()||0,k={top:a(document).scrollTop(),bottom:a(document).scrollTop()+a(window).height()};d=j.offset();d.top=Math.round(d.top+j.outerHeight()/2);g.left=Math.round(g.left);g.top=d.top;if(d.top>=k.top+e/2&&d.top<=k.bottom-e/2){c=Math.min(d.top-k.top,d.top+b/2<=k.bottom?b/2:b-k.bottom+d.top);g.top-=Math.round(c);f.css("top",parseInt(c-e/2,10))}else{if(d.top<k.top+e){g.top=k.top;l=0}else{g.top=k.bottom-b;l=b-e}f.css("top",l)}m.offset(g)},liveLeftPosition:function(g,c,e){c=c||this;e=e||0;var f=a(c),b=f.offset(),d=g.offset();d.left=b.left+f.width()+e;g.offset(d)},newPosition:function(h,d,f,c){d=d||this;f=(f==0)?-(a("#cluetip-outer").width()):20;c=(c==0)?-(a("#cluetip-outer").height()+10):30;var g=a(d),b=g.offset(),e=h.offset();g.mousemove(function(j){e.left=j.pageX+f;e.top=j.pageY+c;h.offset(e)})}}})(mrm.$);(function(b){b.fn.mrmDialog=function a(d){d=b.isPlainObject(d)?d:{};var c,h,g,f;g={closeOnClickOfModalLayer:true,initDomContent:false,destroyOnClose:false,resizeEvent:"itemChange"};c=b.extend(true,g,mrm.conf.plugin.ui_dialog||{},d);f={open:function(j,k){if(c.closeOnClickOfModalLayer){b(".ui-widget-overlay").one("click.mrmDialog",function(){b(j.target).dialog("close")})}if(c.initDomContent){mrm.util.initDomContent(b(j.target))}b(this).find(".caroufredsel_wrapper").trigger("itemChange");return(c.open||b.noop)(j,k)},close:function(k,l){var m=b(this);mrm.corcmp.mmVideo.deactivateVideo(m);var j=b('object[type="application/x-shockwave-flash"]',this);j.each(function(){try{this.sendEvent("STOP")}catch(n){}});if(j.length||c.destroyOnClose){m.dialog("destroy").remove()}return(c.close||b.noop)(k,l)}};h=b.extend(true,{},c,f);function e(o,k){var n=b(this),l=n.closest(".ui-dialog.mm-content").length>0,j,m=n.css("overflow");if(!k||!l){j=n.find(".caroufredsel_wrapper");if(j.length&&l){k={width:j.width(),height:j.height()}}else{k={width:"auto",height:"auto"}}}n.dialog("option",{width:k.width,height:k.height});n.css("overflow","hidden").dialog("option","position",c.position||"center").css("overflow",m)}return this.each(function(j){var k=b(this);k.dialog(h);if(c.resizeEvent){k.off(".mrmDialog");k.on(c.resizeEvent+".mrmDialog",e)}})}})(mrm.$);
/*! pym.js - v1.2.2 - 2017-05-20 */
!function(b){"function"==typeof define&&define.amd?define(b):"undefined"!=typeof module&&module.exports?module.exports=b():window.pym=b.call(this)}(function(){var k="xPYMx",j={},q=function(d){var c=document.createEvent("Event");c.initEvent("pym:"+d,!0,!0),document.dispatchEvent(c)},p=function(e){var d=new RegExp("[\\?&]"+e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]")+"=([^&#]*)"),f=d.exec(location.search);return null===f?"":decodeURIComponent(f[1].replace(/\+/g," "))},o=function(d,c){if(("*"===c.xdomain||d.origin.match(new RegExp(c.xdomain+"$")))&&"string"==typeof d.data){return !0}},n=function(a,h,g){var f=["pym",a,h,g];return f.join(k)},m=function(a){var d=["pym",a,"(\\S+)","(.*)"];return new RegExp("^"+d.join(k)+"$")},l=function(){for(var b=j.autoInitInstances.length,f=b-1;f>=0;f--){var e=j.autoInitInstances[f];e.el.getElementsByTagName("iframe").length&&e.el.getElementsByTagName("iframe")[0].contentWindow||j.autoInitInstances.splice(f,1)}};return j.autoInitInstances=[],j.autoInit=function(A){var z=document.querySelectorAll("[data-pym-src]:not([data-pym-auto-initialized])"),w=z.length;l();for(var v=0;v<w;++v){var u=z[v];u.setAttribute("data-pym-auto-initialized",""),""===u.id&&(u.id="pym-"+v+"-"+Math.random().toString(36).substr(2,5));var s=u.getAttribute("data-pym-src"),r={xdomain:"string",title:"string",name:"string",id:"string",sandbox:"string",allowfullscreen:"boolean",parenturlparam:"string",parenturlvalue:"string",optionalparams:"boolean"},h={};for(var c in r){if(null!==u.getAttribute("data-pym-"+c)){switch(r[c]){case"boolean":h[c]=!("false"===u.getAttribute("data-pym-"+c));break;case"string":h[c]=u.getAttribute("data-pym-"+c);break;default:console.err("unrecognized attribute type")}}}var b=new j.Parent(u.id,s,h);j.autoInitInstances.push(b)}return A||q("pym-initialized"),j.autoInitInstances},j.Parent=function(f,e,h){this.id=f,this.url=e,this.el=document.getElementById(f),this.iframe=null,this.settings={xdomain:"*",optionalparams:!0,parenturlparam:"parentUrl",parenturlvalue:window.location.href},this.messageRegex=m(this.id),this.messageHandlers={},h=h||{},this._constructIframe=function(){var r=this.el.offsetWidth.toString();this.iframe=document.createElement("iframe");var d="",s=this.url.indexOf("#");for(s>-1&&(d=this.url.substring(s,this.url.length),this.url=this.url.substring(0,s)),this.url.indexOf("?")<0?this.url+="?":this.url+="&",this.iframe.src=this.url+"initialWidth="+r+"&childId="+this.id,this.settings.optionalparams&&(this.iframe.src+="&parentTitle="+encodeURIComponent(document.title),this.iframe.src+="&"+this.settings.parenturlparam+"="+encodeURIComponent(this.settings.parenturlvalue)),this.iframe.src+=d,this.iframe.setAttribute("width","100%"),this.iframe.setAttribute("scrolling","no"),this.iframe.setAttribute("marginheight","0"),this.iframe.setAttribute("frameborder","0"),this.settings.title&&this.iframe.setAttribute("title",this.settings.title),void 0!==this.settings.allowfullscreen&&this.settings.allowfullscreen!==!1&&this.iframe.setAttribute("allowfullscreen",""),void 0!==this.settings.sandbox&&"string"==typeof this.settings.sandbox&&this.iframe.setAttribute("sandbox",this.settings.sandbox),this.settings.id&&(document.getElementById(this.settings.id)||this.iframe.setAttribute("id",this.settings.id)),this.settings.name&&this.iframe.setAttribute("name",this.settings.name);this.el.firstChild;){this.el.removeChild(this.el.firstChild)}this.el.appendChild(this.iframe),window.addEventListener("resize",this._onResize)},this._onResize=function(){this.sendWidth()}.bind(this),this._fire=function(r,d){if(r in this.messageHandlers){for(var s=0;s<this.messageHandlers[r].length;s++){this.messageHandlers[r][s].call(this,d)}}},this.remove=function(){window.removeEventListener("message",this._processMessage),window.removeEventListener("resize",this._onResize),this.el.removeChild(this.iframe),l()},this._processMessage=function(s){if(o(s,this.settings)&&"string"==typeof s.data){var r=s.data.match(this.messageRegex);if(!r||3!==r.length){return !1}var v=r[1],u=r[2];this._fire(v,u)}}.bind(this),this._onHeightMessage=function(d){var c=parseInt(d);this.iframe.setAttribute("style","height: "+c+"px")},this._onNavigateToMessage=function(b){document.location.href=b},this._onScrollToChildPosMessage=function(r){var d=document.getElementById(this.id).getBoundingClientRect().top+window.pageYOffset,s=d+parseInt(r);window.scrollTo(0,s)},this.onMessage=function(d,c){d in this.messageHandlers||(this.messageHandlers[d]=[]),this.messageHandlers[d].push(c)},this.sendMessage=function(d,c){this.el.getElementsByTagName("iframe").length&&(this.el.getElementsByTagName("iframe")[0].contentWindow?this.el.getElementsByTagName("iframe")[0].contentWindow.postMessage(n(this.id,d,c),"*"):this.remove())},this.sendWidth=function(){var b=this.el.offsetWidth.toString();this.sendMessage("width",b)};for(var g in h){this.settings[g]=h[g]}return this.onMessage("height",this._onHeightMessage),this.onMessage("navigateTo",this._onNavigateToMessage),this.onMessage("scrollToChildPos",this._onScrollToChildPosMessage),window.addEventListener("message",this._processMessage,!1),this._constructIframe(),this},j.Child=function(a){this.parentWidth=null,this.id=null,this.parentTitle=null,this.parentUrl=null,this.settings={renderCallback:null,xdomain:"*",polling:0,parenturlparam:"parentUrl"},this.timerId=null,this.messageRegex=null,this.messageHandlers={},a=a||{},this.onMessage=function(g,f){g in this.messageHandlers||(this.messageHandlers[g]=[]),this.messageHandlers[g].push(f)},this._fire=function(g,f){if(g in this.messageHandlers){for(var h=0;h<this.messageHandlers[g].length;h++){this.messageHandlers[g][h].call(this,f)}}},this._processMessage=function(g){if(o(g,this.settings)&&"string"==typeof g.data){var f=g.data.match(this.messageRegex);if(f&&3===f.length){var r=f[1],h=f[2];this._fire(r,h)}}}.bind(this),this._onWidthMessage=function(g){var f=parseInt(g);f!==this.parentWidth&&(this.parentWidth=f,this.settings.renderCallback&&this.settings.renderCallback(f),this.sendHeight())},this.sendMessage=function(g,f){window.parent.postMessage(n(this.id,g,f),"*")},this.sendHeight=function(){var b=document.getElementsByTagName("body")[0].offsetHeight.toString();return this.sendMessage("height",b),b}.bind(this),this.scrollParentTo=function(b){this.sendMessage("navigateTo","#"+b)},this.navigateParentTo=function(b){this.sendMessage("navigateTo",b)},this.scrollParentToChildEl=function(g){var f=document.getElementById(g).getBoundingClientRect().top+window.pageYOffset;this.scrollParentToChildPos(f)},this.scrollParentToChildPos=function(b){this.sendMessage("scrollToChildPos",b.toString())};var e=function(g){var f,r=document.getElementsByTagName("html")[0],h=r.className;try{f=window.self!==window.top?"embedded":"not-embedded"}catch(g){f="embedded"}h.indexOf(f)<0&&(r.className=h?h+" "+f:f,g&&g(f),q("marked-embedded"))};this.remove=function(){window.removeEventListener("message",this._processMessage),this.timerId&&clearInterval(this.timerId)};for(var d in a){this.settings[d]=a[d]}this.id=p("childId")||a.id,this.messageRegex=new RegExp("^pym"+k+this.id+k+"(\\S+)"+k+"(.*)$");var c=parseInt(p("initialWidth"));return this.parentUrl=p(this.settings.parenturlparam),this.parentTitle=p("parentTitle"),this.onMessage("width",this._onWidthMessage),window.addEventListener("message",this._processMessage,!1),this.settings.renderCallback&&this.settings.renderCallback(c),this.sendHeight(),this.settings.polling&&(this.timerId=window.setInterval(this.sendHeight,this.settings.polling)),e(a.onMarkedEmbeddedStatus),this},"undefined"!=typeof document&&j.autoInit(!0),j});(function(a){mrm.util.SlotManager=function(){this.initialize.apply(this,arguments)};_.extend(mrm.util.SlotManager.prototype,{list:null,maxLength:null,initialize:function(b){this.maxLength=b;this.list=[];this.initList()},initList:function(){_.times(this.maxLength,function(b){this.list[b]=null},this)},isFull:function(){return this.getNextFreeIndex()<0},add:function(c){var b=this.getNextFreeIndex();if(b>=0){this.list[b]=c}return b},remove:function(c){var b=this.getIndexByContent(c);if(b>=0){this.list[b]=null}return b},getNextFreeIndex:function(){return _.indexOf(this.list,null)},getIndexByContent:function(b){return _.indexOf(this.list,b)},clearAll:function(){this.initList()},toArray:function(){return _.clone(this.list)},length:function(){return _.without(this.list,null).length}})}(mrm.$));(function(a){mrm.util.StepManager=function(c){var b=[];this.setSteps=function(d){if(_.isArray(d)){b=d}else{throw"mrm.util.StepManager.setSteps() - parameter must be an array"}};this.getSteps=function(){return b};if(c){this.setSteps(c)}};_.extend(mrm.util.StepManager.prototype,{hasStep:function(b){return _.indexOf(this.getSteps(),b)>-1},getPrev:function(c){var b=_.indexOf(this.getSteps(),c);return this.getSteps()[b-1]},getNext:function(c){var b=_.indexOf(this.getSteps(),c);return this.getSteps()[b+1]},getAllNext:function(d,c){var b=_.indexOf(this.getSteps(),d);return b>-1&&b!==this.getSteps().length-1?_.rest(this.getSteps(),c?b:b+1):[]},getAllPrev:function(d,c){var b=_.indexOf(this.getSteps(),d);return b>0?_.first(this.getSteps(),!c?b:b+1):[]}})}(mrm.$));(function(a){mrm.util=mrm.util||{};a.extend(mrm.util,{alignTextWithinCmp:function(b){b.each(function(){var e=a(this);if(e.hasClass("pos_middle")){var d=(e.parent().innerHeight()-e.outerHeight(true))/2;e.css("top",d+"px")}if(e.hasClass("pos_center")){var c=(e.parent().innerWidth()-e.outerWidth(true))/2;e.css("left",c+"px")}})}})}(mrm.$));(function(a){mrm.util=mrm.util||{};a.extend(mrm.util,{addShadow:function(b,d,c){if(!mrm.util.ie9_lt()){return}b.each(function(){var m=a(this);var g=parseInt(m.css("margin-left"),10)||0;var e=parseInt(m.css("margin-top"),10)||0;var k=parseInt(m.css("margin-right"),10)||0;var h=parseInt(m.css("margin-bottom"),10)||0;var l=d;var f=m.css("display");var p=m.css("float");var j=a("<span></span>").addClass("shadow");var o={height:m.outerHeight(),width:m.outerWidth()};if(m.css("z-index")=="auto"||m.css("z-index")<2){m.css("z-index","2")}if(m.css("position")=="static"){m.css("position","relative")}if(c!=undefined){f=c}if(mrm.util.ie6()&&f=="inline"&&m.css("float")!="none"){f="block"}switch(f){case"inline":case"inline-block":o.marginTop=e-l;o.marginLeft=g-l;j.css(o);m.before(j);break;case"block":case"none":var n=m.position();o.left=n.left-l+g;if(p!="none"||m.css("position")=="absolute"||m.css("margin-left")=="auto"){o.top=n.top-l+e;j.css(o);m.after(j)}else{o.marginTop=(m.outerHeight()+h+l)*-1;j.css(o);m.after(j)}break}})}})}(mrm.$));(function(a){mrm.util=mrm.util||{};a.extend(mrm.util,{deeplinking:{init:function(){var b=this;a(document).ready(function(){b.navigateToHash(mrm.util.getHash())});a('a[href^="#"]').not('a[href="#"]').on("click",function(d){var e=mrm.util.getModuleName(a(d.currentTarget).closest(".mod"));switch(e){case"nav_tablay_1":break;case"ts_ln_1":case"ts_ln_2":case"ts_img_1":var c=a(this).attr("href");if(a(".modMm_1 "+c).length===1){d.preventDefault();b.navigateToHash(a(d.currentTarget).attr("href"))}break;default:b.navigateToHash(a(d.currentTarget).attr("href"))}});a(window).hashchange(function(c){b.navigateToHash(mrm.util.getHash())})},navigateToHash:function(d){var c="mod";if(!mrm.util.isValidIdentifier(mrm.util.stripHash(d))){return}var b=a(d);if(b.length===0){b=a(d.replace(/^#/,"#"+mrm.util.getRenamedIdPrefix()))}if(b.length===0){return}b.parents("."+c).each(function(f,g){var h=mrm.util.getModuleName(a(this));if(mrm.cmp[h]&&typeof mrm.cmp[h].switchToContent==="function"){mrm.cmp[h].switchToContent(b)}else{if(mrm.mod[mrm.util.getTerrificModuleName(h)]){var e=mrm.util.getTerrificInstance(a(g));if(e){e.switchToContent(b)}}}})}}})}(mrm.$));(function(a){mrm.util=mrm.util||{};a.extend(mrm.util,{externalServices:{isGoogleMapsLoaded:false,isGoogleMapsLoading:false,isReevooLoaded:false,isReevooLoading:false,isReevooAPILoaded:false,googleMapsCallbacks:[],reevooCallbacks:[],reevooAPICallbacks:[],loadGoogleMaps:function(c){var b=this;if(b.isGoogleMapsLoaded){if(a.isFunction(c)){c({status:"alreadyLoaded"})}return}b.googleMapsCallbacks.push(c);head.test((!this.isGoogleMapsLoaded&&!this.isGoogleMapsLoading),"//www.google.com/jsapi",undefined,function(){if(!window.google){return}var e=mrm.util.locale.getLang();var d="client=gme-adamopelag&language="+e;google.load("maps","3.23",{language:e,other_params:d,callback:function(){b.isGoogleMapsLoading=false;b.isGoogleMapsLoaded=true;a.each(b.googleMapsCallbacks,function(f,g){if(a.isFunction(g)){g({status:"loaded"})}});b.googleMapsCallbacks=[]}})});b.isGoogleMapsLoading=true},loadReevoo:function(d){var c=this;var b=mrm.conf.util.externalServices.reevooTRKREF;if(c.isReevooLoaded){if(a.isFunction(d)){d({status:"alreadyLoaded"})}return}c.reevooCallbacks.push(d);head.test((!this.isReevooLoaded&&!this.isReevooLoading),"//mark.reevoo.com/reevoomark/"+b+".js?async=true",undefined,function(){c.isReevooLoaded=true;c.isReevooLoading=false;a.each(c.reevooCallbacks,function(e,f){if(a.isFunction(f)){f({status:"loaded"})}});c.reevooCallbacks=[]});c.isReevooLoading=true},loadReevooAPI:function(d){var c=this;var b=mrm.conf.util.externalServices.reevooTRKREF;if(!c.isReevooLoaded){console.log("reevoo is not loaded");return}if(c.isReevooAPILoaded){if(a.isFunction(d)){d({status:"alreadyLoaded"})}return}c.reevooAPICallbacks.push(d);window.afterReevooMarkLoaded=window.afterReevooMarkLoaded||[];window.afterReevooMarkLoaded.push(function(){ReevooApi.load(b,function(e){c.isReevooAPILoaded=true;a.each(c.reevooAPICallbacks,function(f,g){if(a.isFunction(g)){g({status:"loaded"})}});c.reevooAPICallbacks=[]})})},onReevooClick:function(c,d){var b=this;if(!b.isReevooLoaded){console.log("reevoo not loaded");return}if(!b.isReevooAPILoaded){console.log("reevoo API not loaded");return}ReevooMark.Callbacks.observe_click(function(f){if(c.has(f.target).length>0){if(a.isFunction(d)){d(f.target)}}})}}})}(mrm.$));(function(a){mrm.util=mrm.util||{};a.extend(mrm.util,{geoLocation:{init:function(){},available:function(){return(typeof navigator.geolocation!="undefined")},getLocation:function(b){if(!a.isFunction(b)){throw new Error("getLocation() requires a callback function as the first argument")}if(this.available()){navigator.geolocation.getCurrentPosition(function(c){b({status:"success",latitude:c.coords.latitude,longitude:c.coords.longitude})},function(c){var d="";switch(c.code){case c.PERMISSION_DENIED:d="gl001";break;case c.POSITION_UNAVAILABLE:d="gl002";break;case c.TIMEOUT:d="gl003";break;case c.UNKNOWN_ERROR:d="gl004";break}b({status:"error",error_code:d})},{timeout:50000})}else{b({status:"error",error_code:"gl005"})}},getLocationZip:function(b){if(!a.isFunction(b)){throw new Error("getLocationZip() requires a callback function as the first argument")}this.getLocation(function(c){mrm.util.externalServices.loadGoogleMaps(function(){if(c.status==="success"){var d=new google.maps.Geocoder();var e=new google.maps.LatLng(c.latitude,c.longitude);if(d){d.geocode({latLng:e},function(g,f){if(f===google.maps.GeocoderStatus.OK){a.each(g,function(){if(this.types[0]==="postal_code"){b({status:"success",postal_code:this.address_components[0].long_name});return false}})}else{b({status:"error",error_code:"gl006"})}})}}else{b(c)}})})}}})}(mrm.$));mrm.util.location=function(e){var g={us:{en:{regex:/^[0-9]{5}$/,akamaiAvailable:true,ajaxValidate:true,ajaxLocation:"/zipdata/en-us/"}},ca:{en:{regex:/^[ABCEGHJKLMNPRSTVXYabceghjklmnprstvxy]{1}\d{1}[a-zA-Z]{1} *\d{1}[a-zA-Z]{1}\d{1}$|^[ABCEGHJKLMNPRSTVXYabceghjklmnprstvxy]{1}\d{1}[a-zA-Z]{1}/,akamaiAvailable:true},fr:{regex:/^[ABCEGHJKLMNPRSTVXYabceghjklmnprstvxy]{1}\d{1}[a-zA-Z]{1} *\d{1}[a-zA-Z]{1}\d{1}$|^[ABCEGHJKLMNPRSTVXYabceghjklmnprstvxy]{1}\d{1}[a-zA-Z]{1}/,akamaiAvailable:true}}};var n=null;var m=false;var c=false;var j=null;function h(){var q=mrm.util.locale.getCountry();var u=mrm.util.locale.getLang();if(typeof g[q]==="object"&&typeof g[q][u]==="object"){var o=g[q][u];if(typeof o.regex==="object"){n=o.regex}if(typeof o.akamaiAvailable==="boolean"){m=o.akamaiAvailable}if(typeof o.ajaxValidate==="boolean"){c=o.ajaxValidate}if(typeof o.ajaxLocation==="string"){j=o.ajaxLocation}}if(mrm.util.locale.getCountry()==="ca"){if(mrm.util.cookie.get("cookie_customer_location")==null){if(mrm.util.cookie.get("GMWP_location")==null){b("L1H8P7")}else{var s=mrm.util.cookie.get("GMWP_location");var r=s.search("zip=")+4;var p=s.substring(r,(r+3));if(!b(p)){b("L1H8P7")}}}}}function l(o){if(mrm.util.cookie.get("cookie_customer_location")!==null){var p=e.parseJSON(mrm.util.cookie.get("cookie_customer_location"));if(typeof p[o]==="string"){return p[o]}else{if(o==="cities"&&typeof p[o]==="object"){return p[o]}else{return false}}}else{return false}}function d(){if(mrm.util.cookie.get("GMWP_location")!==null){var q=mrm.util.cookie.get("GMWP_location");var p=q.search("zip=")+4;var o=q.substring(p,(p+5));return o}else{return false}}function f(r){var p=l(r);if(p!==false){return p}if(!m){return false}var q=d();if(q!==false){var o=b(q);if(o!==false){return l(r)}}return false}function k(o,r){var q;if(typeof r!=="undefined"){q=r}else{q=n}if(typeof o==="string"&&o.search(q)===-1){return false}if(typeof o==="string"&&o.search(q)===0){if(!c){return JSON.stringify({zipcode:o})}var s=false;var p=j+o+".json";e.ajax({url:p,dataType:"json",async:false,dataFilter:function(v,u){if(u==="json"){s=v}}});return s}return false}function b(o,q){o=o.toString();var p=k(o,q);if(p!==false){mrm.util.cookie.set("cookie_customer_location",p,{expires:30,path:"/"});return true}else{return false}}function a(){var o=mrm.util.locale.getCountry();var p=mrm.util.locale.getLang();if(typeof g[o]==="object"&&typeof g[o][p]==="object"){return true}return false}return{init:h,getPostalCode:function(){return f("zipcode")},getCities:function(){return f("cities")},getState:function(){return f("state")},setLocation:b,isConfigured:a}}(mrm.$);(function(a){mrm.util=mrm.util||{};a.extend(mrm.util,{isMobile:{Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return(mrm.util.isMobile.Android()||mrm.util.isMobile.BlackBerry()||mrm.util.isMobile.iOS()||mrm.util.isMobile.Opera()||mrm.util.isMobile.Windows())}}})}(mrm.$));(function(a){mrm.util=mrm.util||{};a.extend(mrm.util,{sectionname:{init:function(d){var b;a(".contentArea, .componentsArea").children().each(function(e,c){if(a(c).find(".modCnt_well_1").attr("id")!==undefined){b=a(c).find(".modCnt_well_1").attr("id");a(c).data("section",b)}else{if(a(c).find(".modCnt_well_2").attr("id")!==undefined){b=a(c).find(".modCnt_well_2").attr("id");a(c).data("section",b)}else{if(a(c).find(".modCnt_hl_1").attr("id")!==undefined){b=a(c).find(".modCnt_hl_1").attr("id");a(c).data("section",b)}else{if(a(c).find(".modCnt_hl_2").attr("id")!==undefined){b=a(c).find(".modCnt_hl_2").attr("id");a(c).data("section",b)}else{if(b!==undefined){a(c).data("section",b)}}}}}})},getSectionName:function(d){var e;if(d.parents(".contentArea, .componentsArea").length>0){var b=d.parentsUntil(".contentArea, .componentsArea");var c=b.length-1;if(typeof(a(b[c]).data("section"))==="undefined"){e="no section"}else{e=a(b[c]).data("section")}}else{if(d.parents(".leftNavigationSticky").length>0){e="sticky nav"}else{if(d.parents(".mds-area-ptl").length>0){e="left column"}else{if(d.parents(".mds-area-ptr").length>0){e="right column"}else{if(d.parents(".teaserContainer").length>0){e="promotiles"}else{if((d.parents(".mds-area-pf4").length>0)&&(d.parents(".t03b_teaserarea").length>0)){e=d.find("h3 a").text()}else{if(d.parents(".mds-area-content").length>0){e="no section"}else{if(d.parents(".mds-area-header").length>0){e="header"}else{if(d.parents(".masthead").length>0){e="masthead"}else{if(d.parents(".mds-area-footer, #mds-area-legal, .mds-area-sec_footer").length>0){e="footer"}else{e="no section"}}}}}}}}}}return e}}})}(mrm.$));(function(a){mrm.util=mrm.util||{};a.extend(mrm.util,{sharing:{facebookLoaded:false,googleplusLoaded:false,twitterLoaded:false,_lazyProviderTag:"lazy-",_cookieName:"gmwp.social.services.enabled",_cookieOptions:{path:"/"},_resetServiceSwitches:false,loadFacebook:function(e){var c=this;var d=a.extend({},mrm.conf.util.sharing);var b=mrm.util.locale.getFacebook();head.test((d.facebookAppId&&b),"//connect.facebook.net/"+b+"/all.js",undefined,function(){if(window.FB){c._facebookInit(d.facebookAppId)}if(window.FB&&c.facebookLoaded===false){c._trackFacebook()}c.facebookLoaded=true;if(e){e()}})},loadGooglePlus:function(c){var b=this;window.___gcfg={lang:mrm.util.locale.getGoogle(),parsetags:"onload"};head.test(mrm.util.locale.getGoogle(),"//apis.google.com/js/plusone.js",undefined,function(){b._trackGooglePlus();b.googleplusLoaded=true;if(c){c()}})},loadTwitter:function(c){var b=this;head.load("//platform.twitter.com/widgets.js",function(){if(window.twttr&&b.twitterLoaded===false){b._trackTwitter()}b.twitterLoaded=true;if(c){c()}})},enableShare2Autorender:function(c){var b=c.find('.modShare_2[data-autorender="false"]');b.attr("data-autorender","true")},rerender:function(b){this._rerenderGooglePlus(b);this._rerenderTwitter(b);this._rerenderFacebook(b)},initSocialSwitches:function(f){var m=this,b=a(".service-facebook, .service-twitter, .service-google, .service-youtube",f),l;if(l=mrm.conf.util.sharing.cookieLifetime){var e=new Date();e.setTime(e.getTime()+(l*1000));m._cookieOptions.expires=e}b.addClass("socialPrivacy").each(function(){var j=a(".socialShareWrapper",a(this));m._saveServiceCode(a(this));j.children(":not(.deactivatedService)").detach();a(".deactivatedService",j).show()});a(".socialSwitch",b).addClass("off").on("click.socialSwitch",function(p){var q=a(this).parents(".socialPrivacy").attr("class").match(/service[\w\-]*\b/)[0],o=a("."+q),n=a(".socialSwitch",o),j=q.replace("service-","");p.stopPropagation();if(a(this).hasClass("off")){m._switchServiceOn(o,n,j)}else{m._switchServiceOff(o,n,j)}});m._attachInfobox(b);if(enabledServices=m._checkSocialServiceCookie()){for(var h=0,g=enabledServices.length;h<g;h++){var c="service-"+enabledServices[h],d=a("."+c,f),k=a(".socialSwitch",d);if(d.length>0){m._switchServiceOn(d,k,enabledServices[h])}}}},_switchServiceOn:function(d,c,b){d.each(function(){var e=a(this).data("serviceCode");a(this).infoBox("disable");a(".deactivatedService",a(this)).hide();a(".socialShareWrapper",a(this)).append(e)});c.removeClass("off").addClass("on");a('[class^="disabled-"]',d).each(function(){var e=a(this).attr("class");a(this).attr("class",e.replace("disabled-",""))});switch(b){case"facebook":if(!this.facebookLoaded){this.loadFacebook(mrm.cmp.share_2.bindEventToFacebookIcons)}break;case"twitter":if(!this.twitterLoaded){this.loadTwitter(mrm.cmp.share_2.bindEventToTwitterIcons)}break;case"google":if(!this.googleplusLoaded){this.loadGooglePlus()}break;case"youtube":break;default:}this._addServiceToCookie(b)},_switchServiceOff:function(d,c,b){this._saveServiceCode(d);d.each(function(){a(".socialShareWrapper",a(this)).children(":not(.deactivatedService)").detach();a(".deactivatedService",a(this)).show();a(this).infoBox("enable")});c.removeClass("on").addClass("off");this._removeServiceFromCookie(b)},_saveServiceCode:function(b){b.each(function(){var c=a(".socialShareWrapper",a(this)).children(":not(.deactivatedService)");a(this).data("serviceCode",c)})},_addServiceToCookie:function(b){if(this._checkSocialServiceCookie(b)===false){enabledServices=this._checkSocialServiceCookie();enabledServices.push(b);mrm.util.cookie.set(this._cookieName,enabledServices.join(","),this._cookieOptions)}else{if(!this._checkSocialServiceCookie()){mrm.util.cookie.set(this._cookieName,b,this._cookieOptions)}}},_removeServiceFromCookie:function(b){if(this._checkSocialServiceCookie(b)===true){enabledServices=this._checkSocialServiceCookie();enabledServices.splice(_.indexOf(enabledServices,b),1);if(enabledServices.length<1){mrm.util.cookie.remove(this._cookieName,this._cookieOptions)}else{mrm.util.cookie.set(this._cookieName,enabledServices.join(","),this._cookieOptions)}}},_checkSocialServiceCookie:function(b){var d=[],c=false;if(cookieValue=mrm.util.cookie.get(this._cookieName)){d=cookieValue.split(",");if(b){c=(_.indexOf(d,b)<0)?false:true;return c}else{return d}}else{return}},_attachInfobox:function(b){var c=a.extend({},mrm.conf.plugin.infobox,{trigger:".socialSwitch",addBoxClass:"socialPrivacy"});b.infoBox(c)},_rerenderGooglePlus:function(b){if(!window.gapi){return}if(a("div.g-plusone",b).length===0){return}window.gapi.plusone.go(b)},_rerenderTwitter:function(b){if(!window.twttr){return}if(a("a.twitter-share-button",b).length===0){return}window.twttr.widgets.load()},_rerenderFacebook:function(b){if(!window.FB){return}FB.XFBML.parse(b);mrm.cmp.share_2.bindEventToFacebookIcons()},_facebookInit:function(b){FB.init({appId:b,status:true,cookie:true,xfbml:true});this._facebookInit=function(){}},_trackFacebook:function(){FB.Event.subscribe("edge.create",function(b,c){if(typeof(pageTrackJSON)!=="undefined"){fireMetrics("facebook_like")}});FB.Event.subscribe("edge.remove",function(b,c){if(typeof(pageTrackJSON)!=="undefined"){fireMetrics("facebook_like")}});FB.Event.subscribe("message.send",function(b,c){if(typeof(pageTrackJSON)!=="undefined"){fireMetrics("facebook_send")}});if(a(".service-facebook > a").length>0){mrm.$(".service-facebook > a").on("click",function(){if(typeof(pageTrackJSON)!=="undefined"){fireMetrics("facebook_send")}})}},_trackTwitter:function(){twttr.events.bind("click",function(c){var b=c.region;if(b==="tweet"){if(typeof(pageTrackJSON)!=="undefined"){fireMetrics("twitter_tweet")}}else{if(b==="follow"||b==="following"){if(typeof(pageTrackJSON)!=="undefined"){fireMetrics("twitter_follow")}}}});mrm.$(".service-twitter > a").on("click",function(){if(typeof(pageTrackJSON)!=="undefined"){fireMetrics("twitter_tweet")}})},_trackGooglePlus:function(){googlePlusTracking=function(){if(typeof(pageTrackJSON)!=="undefined"){fireMetrics("google_plus_one")}}},_lazySelectors:[],_lazyRendered:[],_lazyShares:[],lazyOffset:150,addToLazyLoad:function(b){if(_.indexOf(this._lazySelectors,b)===-1){this._lazySelectors.push(b)}this._lazyLoadTags(b,a(document));this._lazyShares=a(this._lazySelectors.join(", ")).has("."+this._lazyProviderTag+"twitter-share-button, ."+this._lazyProviderTag+"g-plusone");if(this._lazyShares.length>0&&!this.lazyInit){this._lazyLoadInit()}},loaded:function(b){clearTimeout(mrm.util.sharing.lazyTimeout);a(window).unbind("load.lazy");mrm.util.sharing._lazyLoad(mrm.util.sharing._lazyShares)},_lazyLoadInit:function(){this.lazyInit=true;this._lazyUpdate();mrm.util.sharing.lazyTimeout=setTimeout(mrm.util.sharing.loaded,5000);a(window).bind("load.lazy",mrm.util.sharing.loaded)},_lazyLoadTags:function(b,c){return a(b+" .twitter-share-button, "+b+" .g-plusone",c).each(function(){var e=a(this);var d=e.attr("class");e.attr("class",d.replace(/(g-plusone|twitter-share-button)/,mrm.util.sharing._lazyProviderTag+"$1"))})},_lazyUpdate:function(){if(mrm.util.sharing.lazyWait){clearTimeout(mrm.util.sharing.lazyWait)}mrm.util.sharing.lazyWait=setTimeout(function(){return},100);var l=mrm.util.sharing._lazyShares;if(l.length<1){return}var k=a(window),q=[],g=mrm.util.sharing.lazyOffset,o=k.scrollTop()-g,f=k.scrollLeft(),b=f+k.width(),n=o+k.height()+(g*2);for(var h=0;h<l.length;h++){var c=a(l[h]);if(mrm.util.sharing._lazyRendered[h]||!c.is(":visible")){continue}var d=c.offset().top,j=c.offset().left,e=j+c.width(),p=d+c.height();if((d>=o&&d<=n)||(p>=o&&p<=n)){if((j>=f&&j<=b)||(e>=f&&e<=b)){mrm.util.sharing._lazyRendered[h]=true;q.push(l[h])}}}for(var m=0;m<mrm.util.sharing._lazyRendered.length;m++){if(mrm.util.sharing._lazyRendered[m]===undefined){break}}if(m==l.length){clearInterval(mrm.util.sharing.lazyInterval);a(window).off(".lazyLoad")}mrm.util.sharing._lazyLoad(q)},_lazyLoad:function(b){if(b.length===0){return}a.each(b,function(){a(this).find("."+mrm.util.sharing._lazyProviderTag+"twitter-share-button, ."+mrm.util.sharing._lazyProviderTag+"g-plusone").each(function(){var d=a(this);var c=d.attr("class");d.attr("class",c.replace(mrm.util.sharing._lazyProviderTag,""))});mrm.util.sharing.rerender(this)})}}})}(mrm.$));(function(a){mrm.util=mrm.util||{};a.extend(mrm.util,{vehicleConfig:(function(){var c=5,h={currentView:"ext",extAngle:0,intAngle:0,vehicles:[]},b={timestamp:0,configState:false,year:new Date().getFullYear(),carline:"",bodystyle:"",intColor:"",extColor:"",wheels:"",defaultCGI:"",options:{}},u={mmc:"",configuration:"",driveType:"",peg:"",color:"",intColor:"",wheels:""},j={mmc:"",configuration:"",driveType:"",peg:"",color:"",intColor:"",wheels:"",price:"",date:"",extColorList:[],interiorList:[],wheelsList:[],selectedOptions:[],selectedRpo:[]},H={generalParams:{},preferredParams:{},configuredParams:{}},r={};function p(M){if(h.vehicles.length===0&&M){H=E(M.generalParams.year,M.generalParams.carline,M.generalParams.bodystyle);if(typeof H==="undefined"){throw"Vehicle object not found in vehicleConfig"}}H=M||H;if(h.vehicles.length>0){h.vehicles[0].timestamp=new Date().getTime();var L=h.vehicles[0];localStorage.setItem("vehicle-config",JSON.stringify(h));H.generalParams.timestamp=new Date().getTime();localStorage.setItem(L.key,JSON.stringify(H));a.eventDispatcher.trigger("vehicle_config_change",H);if(H.generalParams.mmc&&H.generalParams.peg){H.generalParams.trimVcCode=H.generalParams.mmc+"_"+H.generalParams.peg}if(H.preferredParams.mmc&&H.preferredParams.peg){H.preferredParams.trimVcCode=H.preferredParams.mmc+"_"+H.preferredParams.peg}if(H.configuredParams.mmc&&H.configuredParams.peg){H.configuredParams.trimVcCode=H.configuredParams.mmc+"_"+H.generalParams.peg}G()}}function G(){var L={};L.carline=H.generalParams.carline;L.bodystyle=H.generalParams.bodystyle;L.year=H.generalParams.year.toString();L.configured=H.generalParams.configState;if(L.configured){L.peg=H.configuredParams.peg;L.mmc=H.configuredParams.mmc;L.trimVcCode=H.configuredParams.trimVcCode;L.color=H.configuredParams.color;L.intColor=H.preferredParams.intColor;L.options=_.map(H.generalParams.options,function(N,M){return M}).join("|")}mrm.util.cookie.set("vehicleConfig",JSON.stringify(L),{path:"/",expires:365})}function d(){return JSON.parse(mrm.util.cookie.get("vehicleConfig"))}function B(){h.vehicles=_.sortBy(h.vehicles,function(L){return -L.timestamp})}function K(){h=JSON.parse(localStorage.getItem("vehicle-config"))||{};B()}function l(P,O,L,N){if(a.find(".masthead .modMm_visualizer_1").length!==0){var M="/configurator/DDP/"+P.toLowerCase()+"/"+mrm.util.locale.getCountry().toUpperCase()+"/b2c/"+mrm.util.locale.getLang().toLowerCase()+"/"+O+"/"+L.toLowerCase()+"/"+N.toLowerCase()+"/colorwheelstrim.json";a.getJSON(M).done(function(R){var Q=_.find(R.colorsWheelsTrimsData.trim,function(T){return T.mmc!==""});var S=_.find(Q,function(T){return T.mmc!==""});H.generalParams.mmc=S.mmc;H.generalParams.peg=S.peg;H.generalParams.extColor=S.extColors?S.extColors[0]:null;H.generalParams.intColor=S.intColors?S.intColors[0]:null;H.generalParams.wheels=S.wheels?S.wheels[0]:null;a.eventDispatcher.trigger("vehicle_config_load")}).fail(function(R,S,Q){})}}function E(P,L,O){var M=-1;if(L&&O&&P){for(var N=0,Q=h.vehicles.length;N<Q;N++){if(h.vehicles[N].key===L+"_"+O+"_"+P){M=N;break}}}if(M>-1){h.vehicles[M].timestamp=new Date().getTime();B();return JSON.parse(localStorage.getItem(h.vehicles[0].key))}return undefined}function D(){if(h.vehicles.length>0){h.vehicles[0].timestamp=new Date().getTime();return JSON.parse(localStorage.getItem(h.vehicles[0].key))}return undefined}function m(Q,N,L,M,O){H.generalParams=_.extend(b,{brand:Q,year:+N,carline:L,bodystyle:M,price:O,timestamp:new Date().getTime()});H.preferredParams=u;H.configuredParams=j;h.vehicles.unshift({key:L+"_"+M+"_"+N,timestamp:new Date().getTime()});if(h.vehicles.length>c){var P=h.vehicles.pop();localStorage.removeItem(P.key)}}function v(N,L,M){H.generalParams.options[N]={rpo:N,label:L,img_path:M};a.eventDispatcher.trigger("vehicle_option_change",{action:"add",option:{rpo:N,label:L,img_path:M}});p()}function C(L){delete H.generalParams.options[L];a.eventDispatcher.trigger("vehicle_option_change",{action:"remove",option:{rpo:L}});p()}function q(L,M){H.preferredParams[L]=M;p()}function z(L){H.preferredParams[L]="";p()}function s(L){a.each(L,function(M,N){H.preferredParams[M]=N});p()}function J(L){a.each(L,function(M,N){H.configuredParams[M]=N});p()}function I(){var M=true,L=["color","driveType","intColor","mmc","peg","wheels"];a.each(L,function(N,O){if(H.configuredParams[O]==""||H.configuredParams[O]==null||H.configuredParams[O]=="undefined"){M=false}});return M}function A(L,M){L=L.toLowerCase();if(M[0]==0){M=M[1]}var O="";var N="";if(L=="int"||L=="interior"){O="int";N=M}else{if(L=="ext"||L=="exterior"){O="ext";N=M}}if(O==""||N==""){return}h.currentView=O;h[O+"Angle"]=N;p()}function F(){var L={view:h.currentView,angle:h[h.currentView+"Angle"],};return L}function g(N,P){var O="//cgi.pprod."+H.generalParams.brand+".com";var M=_.map(H.generalParams.options,function(R,Q){return Q});if(+P<10){P="0"+P}var L=[];L.push(H.generalParams.year);L.push(H.generalParams.mmc);L.push(H.generalParams.mmc+"__"+H.generalParams.peg);L.push(_.compact([H.generalParams.extColor,H.generalParams.intColor,H.generalParams.wheels]).join("_")+"gmds"+N);return O+"/mmgpprod-us/dynres/prove/image.gen?i="+_.compact(L).join("/")+_.compact([".jpg","v=Deg"+P,"std=true","country=US"]).join("&")}function n(N,P){var O="//cgi.pprod."+H.generalParams.brand+".com";var M=_.map(H.generalParams.options,function(R,Q){return Q});if(+P<10){P="0"+P}var L=[];L.push(H.generalParams.year);L.push(H.generalParams.mmc);L.push(H.generalParams.mmc+"__"+H.generalParams.peg);L.push(_.compact([H.generalParams.intColor,H.generalParams.extColor,H.generalParams.wheels]).join("_")+"gmds"+N);return O+"/mmgpprod-us/dynres/prove/imageinterior.gen?i="+_.compact(L).join("/")+_.compact([".jpg","v=Deg"+P,"std=true","country=US"]).join("&")}function o(){var P={};var N;for(var M=0;M<arguments.length;M++){var L=arguments[M];for(var O in L){N=L[O];if(N&&N.toString().length){P[O]=N}}}return P}function w(M){if(!H||!H.hasOwnProperty("generalParams")||!H.hasOwnProperty("configuredParams")){return undefined}var L=H.generalParams.configState?H.configuredParams:{};return o(M,H.generalParams,L)}function f(){var L=JSON.parse(localStorage.getItem("byo"));try{L[H.generalParams.year][H.generalParams.carline][H.generalParams.bodystyle]={};localStorage.setItem("byo",JSON.stringify(L))}catch(M){}H.generalParams.configState=false;H.configuredParams=j;p()}var e={"vehicle-info":{}};function k(){var M=a.extend({enabled:true},mrm.conf.util.vehicleConfig||{});if(M.enabled===true){K();var L=a('meta[name="carline"]').attr("content");var O=a('meta[name="bodystyle"]').attr("content");var N=a('meta[name="year"]').attr("content");var R=a('meta[name="brand"]').attr("content");var P=a(".modNav_anchor_1").find(".price").text();if(L&&O&&N){var Q=E(N,L,O);if(typeof Q==="undefined"){if(P){P=P.replace(/\D/ig,"")}m(R,N,L,O,P)}else{H=Q}p();if(!e["vehicle-info"].carline){e["vehicle-info"].carline=L}if(!e["vehicle-info"].bodystyle){e["vehicle-info"].bodystyle=O}if(!e["vehicle-info"].year){e["vehicle-info"].year=N}if(!e["vehicle-info"].brand){e["vehicle-info"].brand=R}if(typeof H.generalParams.mmc==="undefined"||H.generalParams.mmc===""){l(R,N,L,O)}else{a.eventDispatcher.trigger("vehicle_config_load")}}else{H=D();p();a.eventDispatcher.trigger("vehicle_config_load")}}else{H=H={generalParams:{},preferredParams:{},configuredParams:{}};a.eventDispatcher.trigger("vehicle_config_load_empty")}}return{init:k,getCurrentVehicle:function(){return H},getUserVehicle:w,getVehicle:function(N,L,M){return E(N,L,M)},addOption:function(N,L,M){v(N,L,M)},removeOption:function(L){C(L)},getCurrentOptions:function(){return H.generalParams.options},getCurrentOptionCount:function(){return _.size(H.generalParams.options)},optionAdded:function(L){return H.generalParams.options&&typeof(H.generalParams.options[L])!=="undefined"},getAvailableOptions:function(){return H.generalParams.availableOptions||[]},setAvailableOptions:function(L){H.generalParams.availableOptions=L;p()},isConfigured:function(){return H.generalParams.configState},setConfigured:function(){H.generalParams.configState=true;p()},hasAllConfigurationValues:function(){return I()},setPreferredColor:function(L){H.generalParams.extColor=L;q("color",L)},getPreferredColor:function(){return H.preferredParams.color},removePreferredColor:function(){z("color")},getConfiguredColor:function(){return H.configuredParams.color},setPreferredIntColor:function(L){q("intColor",L)},getPreferredIntColor:function(L){return H.preferredParams.intColor},removePreferredIntColor:function(){z("intColor")},getConfiguredIntColor:function(){return H.configuredParams.intColor},setPreferredMmc:function(L){q("mmc",L)},getPreferredMmc:function(){return H.preferredParams.mmc},getConfiguredMmc:function(){return H.configuredParams.mmc},setPreferredPeg:function(L){q("peg",L)},getPreferredPeg:function(){return H.preferredParams.peg},getConfiguredPeg:function(){return H.configuredParams.peg},setPreferredWheel:function(L){q("wheels",L)},getPreferredWheel:function(){return H.preferredParams.wheels},getConfiguredWheel:function(){return H.configuredParams.wheels},getConfiguredColorList:function(){return H.configuredParams.extColorList},getConfiguredIntColorList:function(){return H.configuredParams.interiorList},getConfiguredOptions:function(){return H.configuredParams.selectedOptions},getSelectedRpo:function(){return H.configuredParams.selectedRpo},setPreferrences:function(L){s(L)},getPreferences:function(){return H.preferredParams},setConfiguration:function(L){J(L)},getConfiguration:function(){return H.configuredParams},getExteriorImage:function(L,M){return g(L,M)},getInteriorImage:function(L,M){return n(L,M)},getCookie:function(){return d()},save:function(L){p(L)},resetConfiguredVehicle:function(){f()},setView:function(L,M){A(L,M)},getView:function(){return F()}}})()})})(mrm.$);mrm.conf.plugin.caroufredsel={auto:false,circular:true,height:"auto",infinite:false,items:{visible:1},pagination:{anchorBuilder:function(a){return'<li><a href="#">'+a+"</a></li>"}},scroll:{pauseOnHover:true,wipe:true}};(function(a){mrm.conf.plugin.cluetip={cluezIndex:15,cursor:"pointer",arrows:false,clickThrough:true,leftOffset:25,showTitle:false,splitTitle:"|",waitImage:false,dropShadow:false,positionByMethod:"hCenter",onHide:function(b){},onShow:function(d,c,b){}}})(mrm.$);mrm.conf.plugin.fancybox={padding:0,margin:0,cyclic:true,overlayOpacity:0.5,overlayColor:"#000",titlePosition:"inside"};(function(a){mrm.conf.plugin.jscrollpane={scrollbarWidth:17,showArrows:true,select:false,scrollbarMargin:0,isSelect:false,verticalGutter:0}})(mrm.$);mrm.conf.plugin.ui_dialog={callbacks:{onVideoContent:function(a){},onVideoLoaded:function(a){a.parent().addClass("mm-content");a.dialog("option","position","center")}},modal:true,width:"auto",height:"auto"};(function(a){mrm.conf.plugin.infobox={}})(mrm.$);mrm.conf.corcmp.mmVideo={playerSwf:"/static/cms/all/swf/player.swf",videoDefaults:{ignore:false,autostart:false,startmuted:false,posterclick:true},jwpDefaults:{controlbar:"over"}};mrm.conf.corcmp.mm_scroller={scroll:{fx:"slide"},animateControls:{fx:"fade",loadTimeout:5000,inactivityTimeout:5000,speed:300}};mrm.conf.cmp.cnt_dealer_intro_1=mrm.$.extend(true,mrm.conf.cmp.cnt_dealer_intro_1||{},{shoppingLinks:{}});mrm.conf.cmp.cnt_handraiser_1=mrm.conf.cmp.cnt_handraiser_1||{};mrm.$.extend(true,mrm.conf.cmp.cnt_handraiser_1,{runWidth:true});mrm.conf.cmp.cnt_mmpar_1={fancybox:mrm.$.extend({},mrm.conf.plugin.fancybox),caroufredsel:mrm.$.extend({},mrm.conf.plugin.caroufredsel)};mrm.conf.cmp.cnt_opt_1={positionBy:"auto",clickThrough:false,width:470,local:false,hideLocal:false,attribute:"href",splitTitle:"",waitImage:false,positionByMethod:"vCenter"};mrm.conf.cmp.cnt_opt_1_td={sticky:true,closePosition:"bottom",closeText:"Close"};mrm.conf.cmp=mrm.conf.cmp||{};mrm.conf.cmp.cnt_story_1={anim_speed:300};mrm.conf.cmp.colorizer=mrm.$.extend(true,mrm.conf.cmp.colorizer||{},{animateColorizerItems:true,clueTipSettings:{prepareTitleAttr:true},enableScrollerForColorChips:true,maxVisibleColours:20,scrollerSettings:{circular:false,infinite:false,scroll:{wipe:false},items:{visible:20},prev:{key:null},next:{key:null},pagination:{container:null,anchorBuilder:null}}});mrm.conf.cmp.connect_1=mrm.$.extend(true,mrm.conf.cmp.connect_1||{},{lazyLoad:true});mrm.conf.cmp.disclaimer_1={cluetip:{sticky:true,titleAttribute:"rel",activation:"click"}};mrm.conf.cmp=mrm.conf.cmp||{};mrm.conf.cmp.lyr_email_1={errormsg:"service currently not available",validationmsg:"please fill all required input fields"};mrm.conf.cmp.mh_1=mrm.conf.cmp.mh_1||{};mrm.$.extend(true,mrm.conf.cmp.mh_1,{prev:{key:"left"},next:{key:"right"},scroll:{wipe:true,noWipeDirection:"vertical"},smallContentMaxHeight:false,smallContentComponents:false,animatePagination:true});mrm.conf.cmp.mh_expander_1=mrm.$.extend(true,mrm.conf.cmp.mh_expander_1||{},{enableScrollerForColorChips:true,maxVisibleColours:10,scrollerSettings:{circular:false,infinite:false,scroll:{wipe:false},items:{visible:10},prev:{key:"left"},next:{key:"right"},pagination:{container:null,anchorBuilder:null}}});mrm.conf.cmp.mh_scroller_1=mrm.conf.cmp.mh_scroller_1||{};mrm.$.extend(true,mrm.conf.cmp.mh_scroller_1,{prev:{key:"left"},next:{key:"right"},scroll:{wipe:true,noWipeDirection:"vertical"},smallContentMaxHeight:false,smallContentComponents:false,animatePagination:true});mrm.conf.cmp.mm_1={jwpOptions:{},thumbnails_scroller_multiplier:1};mrm.conf.cmp=mrm.conf.cmp||{};mrm.conf.cmp.mm_anim_1=mrm.conf.cmp.mm_anim_1||{};mrm.$.extend(mrm.conf.cmp.mm_anim_1,{maxWidth:1920});mrm.conf.cmp=mrm.conf.cmp||{};mrm.conf.cmp.mm_gal_1=mrm.conf.cmp.mm_gal_1||{};mrm.$.extend(mrm.conf.cmp.mm_gal_1,{jumpToAnchors:false});mrm.conf.cmp=mrm.conf.cmp||{};mrm.conf.cmp.mm_mos_1={autoscroll_slow:8000,autoscroll_medium:5000,autoscroll_fast:3000};mrm.conf.cmp.mm_visualizer_1=mrm.conf.cmp.mm_visualizer_1||{};mrm.$.extend(true,mrm.conf.cmp.mm_visualizer_1,{scrollerSettings:{doInlineMargins:false,itemScrollerAlign:"left",scroll:{fx:"none"}},colorClueTipSettings:{prepareTitleAttr:true}});mrm.conf.cmp.nav_carlinefamily_selection_1={height:"auto"};(function(a){mrm.conf.cmp.nav_meta={positionDropdown:true,menuItemTriggerSelector:"#mds-cmp-metanavigation li > .mod > dl > dt > a",menuItemParentSelector:"li",positionCfg:{my:"center top",at:"center bottom",collision:"fit none",offset:"0 0",using:function(e){var b=a("#mds-area-header").innerWidth(),c=a(this).innerWidth(),d=(a(this).outerWidth()-c)/2;if(b<e.left+c){e.left=b-c;e.left-=d}if(!(e.left>0)){e.left=-1*d}a(this).css(e)}}}}(mrm.$));mrm.conf.cmp.nav_viewallvehicles_selection_1={height:"auto"};mrm.conf.cmp=mrm.conf.cmp||{};mrm.conf.cmp.ut_cookie_privacy_1=mrm.$.extend({adviceDisplayTime:12},mrm.conf.cmp.ut_cookie_privacy_1||{});mrm.conf.cmp.vi_3={fancybox:mrm.$.extend({},mrm.conf.plugin.fancybox),caroufredsel:mrm.$.extend({},mrm.conf.plugin.caroufredsel)};mrm.conf.ui.rows={except:{"06":".mds-area-content"}};mrm.conf.ui.scrollcontrol={useScrollControl:false,offsetTop:0};mrm.conf.util.externalServices=mrm.$.extend(mrm.conf.util.externalServices||{},{});mrm.conf.util.sharing=mrm.$.extend(mrm.conf.util.sharing||{},{disabledProviderTag:"disabled-"});mrm.conf.plugin.cluetip=mrm.$.extend(true,mrm.conf.plugin.cluetip||{},{arrows:true,positionBy:"bottomTop",topOffset:15,leftOffset:15,width:"auto",height:"auto",maxWidth:233,fx:{open:"fadeIn",openSpeed:300}});mrm.conf.plugin.fancybox=mrm.$.extend(true,mrm.conf.plugin.fancybox,{overlayOpacity:0.55,centerOnScroll:true,speedIn:200,speedOut:200,changeSpeed:0,titlePosition:"over"});(function(a){mrm.conf.plugin.jscrollpane=mrm.$.extend(true,mrm.conf.plugin.jscrollpane||{},{showArrows:false})})(mrm.$);mrm.conf.plugin.ui_dialog=mrm.$.extend(true,mrm.conf.plugin.ui_dialog,{show:{effect:"fade",duration:200},hide:{effect:"fade",duration:200}});(function(a){mrm.conf.plugin.infobox={position:{my:"center top",at:"center bottom",collision:"fit flip",offset:"0 10"},openEvent:"mouseenter",closeEvent:"mouseleave",openDelay:300,closeDelay:300,showCloseButton:false,closeOnBoxLeave:true}})(mrm.$);if(mrm.util.flash()){mrm.conf.corcmp.mmVideo=mrm.$.extend(true,{},mrm.conf.corcmp.mmVideo||{},{jwpDefaults:{skin:"/static/cms/chevrolet2013/skins/jwplayer/skin.zip"}})}else{if((typeof(mrm.conf.corcmp.mmVideo)==="object")&&(typeof(mrm.conf.corcmp.mmVideo.jwpSetup)==="object")&&(mrm.util.touchDevice())){mrm.conf.corcmp.mmVideo.jwpSetup.events.onPlay=function(){var a=mrm.$("#"+this.id+"_video:first");if(a.length){var b=a.get(0);if(b.webkitSupportsFullscreen){b.webkitEnterFullscreen()}}}}if(typeof(mrm.conf.corcmp.mmVideo)==="object"){delete mrm.conf.corcmp.mmVideo.config}mrm.$(document).ready(function(){mrm.corcmp.mmVideo.disableHtml5Skin(true)})}(function(a){mrm.$.extend(true,mrm.conf.corcmp,{mm_scroller:{auto:{pauseDuration:6000},scroll:{fx:!mrm.util.touchDevice()?"crossfade":"slide",easing:"easeInOutExpo",duration:1000,noWipeDirection:"vertical"},animateControls:{fx:mrm.util.touchDevice()?"none":"slide",loadTimeout:5000,inactivityTimeout:5000,speed:300}}})})(mrm.$);(function(b){var a=mrm.util.locale.getCountry();switch(a.toUpperCase()){case"US":mrm.conf.cmp.cnt_handraiser_opt_1=b.extend({},mrm.conf.cmp.cnt_handraiser_opt_1||{},{error_form:"Service currently not available.",error_ft0:"Required field.",error_gen:"Please review the red highlighted fields for errors.",test_ft1:/^[A-Za-z0-9() -]+$/,test_ft2:/^[0-9() -]+$/,test_ft3:/^[A-Za-z -]+$/,test_ft4:/[a-zA-Z]/,test_sosub:/[^0-9.]/g,test_numb:/^\d+$/,test_email:/^[a-zA-Z0-9._%\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,4}$/,test_zip:/(^\d{5}$)|(^\d{5}-\d{4}$)/,dash_dot:/[^a-zA-Z0-9]/g,error_ft1:"Entered value must be alphanumeric (no special characters).",error_ft2:"Entered value must be numbers only.",error_ft3:"Entered value must be alphabetic only (letters only).",error_msk1:"Entered value does not meet required criteria. Please check number of entered characters.",error_msk2:"Entered value does not meet required criteria. Please check format.",error_email:"Please verify that the email entered is correct.",error_email2:"Confirmation email does not match.",error_city:"Please enter a City.",error_zip:"Please verify that the zip code entered is correct.",error_zipCity:"Zipcode and City do not match."});break;case"MX":mrm.conf.cmp.cnt_handraiser_opt_1=b.extend({},mrm.conf.cmp.cnt_handraiser_opt_1||{},{});break;default:mrm.conf.cmp.cnt_handraiser_opt_1=b.extend({},mrm.conf.cmp.cnt_handraiser_opt_1||{},{})}})(mrm.$);mrm.conf.cmp.cnt_opt_1=mrm.conf.cmp.cnt_opt_1||{};mrm.$.extend(mrm.conf.cmp.cnt_opt_1,{leftOffset:61,arrows:true,liveLeftPosition:true,liveLeftOffset:10});(function(a){a.extend(true,mrm.conf.cmp,{colorizer:{useColorTip:true,animateControlsForTouch:false}})})(mrm.$);(function(a){a.extend(true,mrm.conf.cmp,{mh_1:{scrollerType2:{enabled:true,imageWidth:1280,width:1280,minWidth:980,height:551,polygon_str:null,zIndexBase:40,offset:5,strokeWidth:10,angleLength:278,loadingImgSrc:"/static/cms/chevrolet2013/images/ajax-loader.gif",animateTime:{minTime:750,maxTime:1000},onItemLoad:function(b){b.strokeStyle="white";b.beginPath();b.lineWidth=this.strokeWidth;b.moveTo(0,this.height+this.strokeWidth);b.lineTo(this.angleLength,-this.strokeWidth);b.shadowColor="rgba(0, 0, 0, 0.1)";b.shadowBlur=10;b.shadowOffsetX=5;b.shadowOffsetY=5;b.stroke();b.moveTo(this.imageWidth-this.angleLength,this.height+this.strokeWidth);b.lineTo(this.imageWidth,-this.strokeWidth);b.shadowColor="rgba(0, 0, 0, 0.1)";b.shadowBlur=10;b.shadowOffsetX=5;b.shadowOffsetY=5;b.stroke()}},animateControls:{fx:"slide"},hiddenVideoJWOptions:{"controlbar.idlehide":true,"controlbar.position":"over",controlbar:"over",showControls:true,stretching:"fill",skin:"/static/cms/chevrolet2013/skins/jwplayer/skin.zip"}}});if(mrm.util.curTemplate()==="02"){mrm.conf.cmp.mh_1.scrollerType2.imageWidth=1440}if((mrm.util.curTemplate()==="02")&&(typeof(mrm.conf.corcmp.mmVideo)==="object")&&(typeof(mrm.conf.corcmp.mmVideo.jwpSetup)==="object")){a.extend(true,mrm.conf.corcmp.mmVideo.jwpSetup,{"controlbar.idlehide":true,stretching:"fill"})}})(mrm.$);(function(a){a.extend(true,mrm.conf.cmp,{mh_scroller_1:{scrollerType2:{enabled:true,imageWidth:1280,width:1280,minWidth:980,height:551,polygon_str:null,zIndexBase:40,offset:5,strokeWidth:10,angleLength:278,loadingImgSrc:"/static/cms/chevrolet2013/images/ajax-loader.gif",animateTime:{minTime:750,maxTime:1000},onItemLoad:function(b){b.strokeStyle="white";b.beginPath();b.lineWidth=this.strokeWidth;b.moveTo(0,this.height+this.strokeWidth);b.lineTo(this.angleLength,-this.strokeWidth);b.shadowColor="rgba(0, 0, 0, 0.1)";b.shadowBlur=10;b.shadowOffsetX=5;b.shadowOffsetY=5;b.stroke();b.moveTo(this.imageWidth-this.angleLength,this.height+this.strokeWidth);b.lineTo(this.imageWidth,-this.strokeWidth);b.shadowColor="rgba(0, 0, 0, 0.1)";b.shadowBlur=10;b.shadowOffsetX=5;b.shadowOffsetY=5;b.stroke()}},animateControls:{fx:"slide"},hiddenVideoJWOptions:{"controlbar.idlehide":true,"controlbar.position":"over",controlbar:"over",showControls:true,stretching:"fill",skin:"/static/cms/chevrolet2013/skins/jwplayer/skin/skin.zip"}}});if(mrm.util.curTemplate()==="02"){mrm.conf.cmp.mh_scroller_1.scrollerType2.imageWidth=1440}if((mrm.util.curTemplate()==="02")&&(typeof(mrm.conf.corcmp.mmVideo)==="object")&&(typeof(mrm.conf.corcmp.mmVideo.jwpSetup)==="object")){a.extend(true,mrm.conf.corcmp.mmVideo.jwpSetup,{"controlbar.idlehide":true,stretching:"fill"})}})(mrm.$);(function(a){mrm.conf.cmp.mm_1=a.extend(true,{},mrm.conf.cmp.mm_1||{},{jwpOptions:{skin:"/static/cms/chevrolet2013/skins/jwplayer/mm1-skin.zip"},thumbnail_scroller_config:{scroll:{fx:"slide"}}});mrm.conf.cmp.mm_1=a.extend(true,{},mrm.conf.cmp.mm_1||{},{fx:"none"})})(mrm.$);mrm.conf.cmp.mm_visualizer_1=mrm.conf.cmp.mm_visualizer_1||{};mrm.$.extend(true,mrm.conf.cmp.mm_visualizer_1,{scrollerSettings:mrm.$.extend(mrm.conf.cmp.mm_visualizer_1.scrollerSettings,{doInlineMargins:true,scroll:{onBefore:function(c,b,a,d){if(typeof(mrm.cmp.mm_visualizer_1.canvasTransition)==="object"){mrm.cmp.mm_visualizer_1.canvasTransition.slide(c,b)}},noWipeDirection:"vertical"},animateControls:{fx:mrm.util.touchDevice()?"none":"slide",loadTimeout:5000,inactivityTimeout:5000,speed:300}})});(function(a){mrm.conf.cmp.nav_meta=a.extend({},mrm.conf.cmp.nav_meta||{},{positionCfg:{my:"center top",at:"center bottom",collision:"fit none",offset:"0 0",using:function(e){var b=a("#mds-area-header").innerWidth(),c=a(this).innerWidth(),d=(a(this).outerWidth()-c)/2,f=a("#mds-cmp-metanavigation").outerWidth();e.left=a(this).parent().position().left+(a(this).parent().outerWidth()/2)-(c/2);e.top=45;if(a("html").attr("dir")=="rtl"&&e.left<0){e.left=0;a(this).css(e)}else{if((e.left+c)>f){a(this).css({right:0,left:"inherit",top:45})}else{a(this).css(e)}}}}})}(mrm.$));(function(a){mrm.conf.cmp.nav_prim=a.extend({},mrm.conf.cmp.nav_prim||{},{openOnClick:true,followRootLevelLink:false,showMask:true,maskSpeed:200})})(mrm.$);mrm.conf.ui.rows=mrm.conf.ui.rows||{};mrm.$.extend(true,mrm.conf.ui.rows,{except:{"05":".grid_col2plus1_c2","05":".grid_col2_c1"}});mrm.conf.ui.scrollcontrol=mrm.conf.ui.scrollcontrol||{};mrm.$.extend(mrm.conf.ui.scrollcontrol,{useScrollControl:true,offsetTop:82});if(typeof(Omniture_s)!=="undefined"&&typeof(swfobject)!=="undefined"){Omniture_s.prop42=swfobject.getFlashPlayerVersion().major+"."+swfobject.getFlashPlayerVersion().minor+"."+swfobject.getFlashPlayerVersion().release}if(typeof(Omniture_s)!="undefined"){Omniture_s.m_Media_c="var m=s.m_i('Media');if(m.completeByCloseOffset==undefined)m.completeByCloseOffset=1;if(m.completeCloseOffsetThreshold==undefined)m.completeCloseOffsetThreshold=1;m.cn=function(n){var m=this;return m.s.rep(m.s.rep(m.s.rep(n,\"\\n\",''),\"\\r\",''),'--**--','')};m.open=function(n,l,p,b){var m=this,i=new Object,tm=new Date,a='',x;n=m.cn(n);if(!l)l=-1;if(n&&p){if(!m.l)m.l=new Object;if(m.l[n])m.close(n);if(b&&b.id)a=b.id;if(a)for (x in m.l)if(m.l[x]&&m.l[x].a==a)m.close(m.l[x].n);i.n=n;i.l=l;i.o=0;i.x=0;i.p=m.cn(m.playerName?m.playerName:p);i.a=a;i.t=0;i.ts=0;i.s=Math.floor(tm.getTime()/1000);i.lx=0;i.lt=i.s;i.lo=0;i.e='';i.to=-1;i.tc=0;i.fel=new Object;i.vt=0;i.sn=0;i.sx=\"\";i.sl=0;i.sg=0;i.sc=0;i.us=0;i.co=0;i.cot=0;i.lm=0;i.lom=0;m.l[n]=i}};m._delete=function(n){var m=this,i;n=m.cn(n);i=m.l[n];m.l[n]=0;if(i&&i.m)clearTimeout(i.m.i)};m.close=function(n){this.e(n,0,-1)};m.play=function(n,o,sn,sx,sl){var m=this,i;i=m.e(n,1,o,sn,sx,sl);if(i&&!i.m){i.m=new Object;i.m.m=new Function('var m=s_c_il['+m._in+'],i;if(m.l){i=m.l[\"'+m.s.rep(i.n,'\"','\\\\\"')+'\"];if(i){if(i.lx==1)m.e(i.n,3,-1);i.m.i=setTimeout(i.m.m,1000)}}');i.m.m()}};m.complete=function(n,o){this.e(n,5,o)};m.stop=function(n,o){this.e(n,2,o)};m.track=function(n){this.e(n,4,-1)};m.bcd=function(vo,i){var m=this,ns='a.media.',v=vo.linkTrackVars,e=vo.linkTrackEvents,pe='m_i',pev3,c=vo.contextData,x;c['a.contentType']='video';c[ns+'name']=i.n;c[ns+'playerName']=i.p;if(i.l>0){c[ns+'length']=i.l;}c[ns+'timePlayed']=Math.floor(i.ts);if(!i.vt){c[ns+'view']=true;pe='m_s';i.vt=1}if(i.sx){c[ns+'segmentNum']=i.sn;c[ns+'segment']=i.sx;if(i.sl>0)c[ns+'segmentLength']=i.sl;if(i.sc&&i.ts>0)c[ns+'segmentView']=true}if(!i.cot&&i.co){c[ns+\"complete\"]=true;i.cot=1}if(i.lm>0)c[ns+'milestone']=i.lm;if(i.lom>0)c[ns+'offsetMilestone']=i.lom;if(v)for(x in c)v+=',contextData.'+x;pev3='video';vo.pe=pe;vo.pev3=pev3;var d=m.contextDataMapping,y,a,l,n;if(d){vo.events2='';if(v)v+=',events';for(x in d){if(x.substring(0,ns.length)==ns)y=x.substring(ns.length);else y=\"\";a=d[x];if(typeof(a)=='string'){l=m.s.sp(a,',');for(n=0;n<l.length;n++){a=l[n];if(x==\"a.contentType\"){if(v)v+=','+a;vo[a]=c[x]}else if(y){if(y=='view'||y=='segmentView'||y=='complete'||y=='timePlayed'){if(e)e+=','+a;if(c[x]){if(y=='timePlayed'){if(c[x])vo.events2+=(vo.events2?',':'')+a+'='+c[x];}else if(c[x])vo.events2+=(vo.events2?',':'')+a}}else if(y=='segment'&&c[x+'Num']){if(v)v+=','+a;vo[a]=c[x+'Num']+':'+c[x]}else{if(v)v+=','+a;vo[a]=c[x]}}}}else if(y=='milestones'||y=='offsetMilestones'){x=x.substring(0,x.length-1);if(c[x]&&d[x+'s'][c[x]]){if(e)e+=','+d[x+'s'][c[x]];vo.events2+=(vo.events2?',':'')+d[x+'s'][c[x]]}}}vo.contextData=0}vo.linkTrackVars=v;vo.linkTrackEvents=e};m.bpe=function(vo,i,x,o){var m=this,pe='m_o',pev3,d='--**--';pe='m_o';if(!i.vt){pe='m_s';i.vt=1}else if(x==4)pe='m_i';pev3=m.s.ape(i.n)+d+Math.floor(i.l>0?i.l:1)+d+m.s.ape(i.p)+d+Math.floor(i.t)+d+i.s+d+(i.to>=0?'L'+Math.floor(i.to):'')+i.e+(x!=0&&x!=2?'L'+Math.floor(o):'');vo.pe=pe;vo.pev3=pev3};m.e=function(n,x,o,sn,sx,sl,pd){var m=this,i,tm=new Date,ts=Math.floor(tm.getTime()/1000),c,l,v=m.trackVars,e=m.trackEvents,ti=m.trackSeconds,tp=m.trackMilestones,to=m.trackOffsetMilestones,sm=m.segmentByMilestones,so=m.segmentByOffsetMilestones,z=new Array,j,t=1,w=new Object,x,ek,tc,vo=new Object;n=m.cn(n);i=n&&m.l&&m.l[n]?m.l[n]:0;if(i){if(o<0){if(i.lx==1&&i.lt>0)o=(ts-i.lt)+i.lo;else o=i.lo}if(i.l>0)o=o<i.l?o:i.l;if(o<0)o=0;i.o=o;if(i.l>0){i.x=(i.o/i.l)*100;i.x=i.x>100?100:i.x}if(i.lo<0)i.lo=o;tc=i.tc;w.name=n;w.length=i.l;w.openTime=new Date;w.openTime.setTime(i.s*1000);w.offset=i.o;w.percent=i.x;w.playerName=i.p;if(i.to<0)w.mediaEvent=w.event='OPEN';else w.mediaEvent=w.event=(x==1?'PLAY':(x==2?'STOP':(x==3?'MONITOR':(x==4?'TRACK':(x==5?'COMPLETE':('CLOSE'))))));if(!pd){if(i.pd)pd=i.pd}else i.pd=pd;w.player=pd;if(x>2||(x!=i.lx&&(x!=2||i.lx==1))) {if(!sx){sn=i.sn;sx=i.sx;sl=i.sl}if(x){if(x==1)i.lo=o;if((x<=3||x==5)&&i.to>=0){t=0;v=e=\"None\";if(i.to!=o){l=i.to;if(l>o){l=i.lo;if(l>o)l=o}z=tp?m.s.sp(tp,','):0;if(i.l>0&&z&&o>=l)for(j=0;j<z.length;j++){c=z[j]?parseFloat(''+z[j]):0;if(c&&(l/i.l)*100<c&&i.x>=c){t=1;j=z.length;w.mediaEvent=w.event='MILESTONE';i.lm=w.milestone=c}}z=to?m.s.sp(to,','):0;if(z&&o>=l)for(j=0;j<z.length;j++){c=z[j]?parseFloat(''+z[j]):0;if(c&&l<c&&o>=c){t=1;j=z.length;w.mediaEvent=w.event='OFFSET_MILESTONE';i.lom=w.offsetMilestone=c}}}}if(i.sg||!sx){if(sm&&tp&&i.l>0){z=m.s.sp(tp,',');if(z){z[z.length]='100';l=0;for(j=0;j<z.length;j++){c=z[j]?parseFloat(''+z[j]):0;if(c){if(i.x<c){sn=j+1;sx='M:'+l+'-'+c;j=z.length}l=c}}}}else if(so&&to){z=m.s.sp(to,',');if(z){z[z.length]=''+(i.l>0?i.l:'E');l=0;for(j=0;j<z.length;j++){c=z[j]?parseFloat(''+z[j]):0;if(c||z[j]=='E'){if(o<c||z[j]=='E'){sn=j+1;sx='O:'+l+'-'+c;j=z.length}l=c}}}}if(sx)i.sg=1}if((sx||i.sx)&&sx!=i.sx){i.us=1;if(!i.sx){i.sn=sn;i.sx=sx}if(i.to>=0)t=1}if(x>=2&&i.lo<o){i.t+=o-i.lo;i.ts+=o-i.lo}if(x<=2||(x==3&&!i.lx)){i.e+=(x==1||x==3?'S':'E')+Math.floor(o);i.lx=(x==3?1:x)}if(!t&&i.to>=0&&x<=3){ti=ti?ti:0;if(ti&&i.ts>=ti){t=1;w.mediaEvent=w.event='SECONDS'}}i.lt=ts;i.lo=o}if(!x||i.x>=100){x=0;m.e(n,2,-1,0,0,-1,pd);v=e=\"None\";w.mediaEvent=w.event=\"CLOSE\"}if(x==5||(m.completeByCloseOffset&&(!x||i.x>=100)&&i.l>0&&o>=i.l-m.completeCloseOffsetThreshold)){w.complete=i.co=1;t=1}ek=w.mediaEvent;if(ek=='MILESTONE')ek+='_'+w.milestone;else if(ek=='OFFSET_MILESTONE')ek+='_'+w.offsetMilestone;if(!i.fel[ek]) {w.eventFirstTime=true;i.fel[ek]=1}else w.eventFirstTime=false;w.timePlayed=i.t;w.segmentNum=i.sn;w.segment=i.sx;w.segmentLength=i.sl;if(m.monitor&&x!=4)m.monitor(m.s,w);if(x==0)m._delete(n);if(t&&i.tc==tc){vo=new Object;vo.contextData=new Object;vo.linkTrackVars=v;vo.linkTrackEvents=e;if(!vo.linkTrackVars)vo.linkTrackVars='';if(!vo.linkTrackEvents)vo.linkTrackEvents='';if(m.trackUsingContextData)m.bcd(vo,i);else m.bpe(vo,i,x,o);m.s.t(vo);if(i.us){i.sn=sn;i.sx=sx;i.sc=1;i.us=0}else if(i.ts>0)i.sc=0;i.e=\"\";i.lm=i.lom=0;i.ts-=Math.floor(i.ts);i.to=o;i.tc++}}}return i};m.ae=function(n,l,p,x,o,sn,sx,sl,pd,b){var m=this,r=0;if(n&&(!m.autoTrackMediaLengthRequired||(length&&length>0)) &&p){if(!m.l||!m.l[n]){if(x==1||x==3){m.open(n,l,p,b);r=1}}else r=1;if(r)m.e(n,x,o,sn,sx,sl,pd)}};m.a=function(o,t){var m=this,i=o.id?o.id:o.name,n=o.name,p=0,v,c,c1,c2,xc=m.s.h,x,e,f1,f2='s_media_'+m._in+'_oc',f3='s_media_'+m._in+'_t',f4='s_media_'+m._in+'_s',f5='s_media_'+m._in+'_l',f6='s_media_'+m._in+'_m',f7='s_media_'+m._in+'_c',tcf,w;if(!i){if(!m.c)m.c=0;i='s_media_'+m._in+'_'+m.c;m.c++}if(!o.id)o.id=i;if(!o.name)o.name=n=i;if(!m.ol)m.ol=new Object;if(m.ol[i])return;m.ol[i]=o;if(!xc)xc=m.s.b;tcf=new Function('o','var e,p=0;try{if(o.versionInfo&&o.currentMedia&&o.controls)p=1}catch(e){p=0}return p');p=tcf(o);if(!p){tcf=new Function('o','var e,p=0,t;try{t=o.GetQuickTimeVersion();if(t)p=2}catch(e){p=0}return p');p=tcf(o);if(!p){tcf=new Function('o','var e,p=0,t;try{t=o.GetVersionInfo();if(t)p=3}catch(e){p=0}return p');p=tcf(o)}}v=\"var m=s_c_il[\"+m._in+\"],o=m.ol['\"+i+\"']\";if(p==1){p='Windows Media Player '+o.versionInfo;c1=v+',n,p,l,x=-1,cm,c,mn;if(o){cm=o.currentMedia;c=o.controls;if(cm&&c){mn=cm.name?cm.name:c.URL;l=cm.duration;p=c.currentPosition;n=o.playState;if(n){if(n==8)x=0;if(n==3)x=1;if(n==1||n==2||n==4||n==5||n==6)x=2;}';c2='if(x>=0)m.ae(mn,l,\"'+p+'\",x,x!=2?p:-1,0,\"\",0,0,o)}}';c=c1+c2;if(m.s.isie&&xc){x=m.s.d.createElement('script');x.language='jscript';x.type='text/javascript';x.htmlFor=i;x.event='PlayStateChange(NewState)';x.defer=true;x.text=c;xc.appendChild(x);o[f6]=new Function(c1+'if(n==3){x=3;'+c2+'}setTimeout(o.'+f6+',5000)');o[f6]()}}if(p==2){p='QuickTime Player '+(o.GetIsQuickTimeRegistered()?'Pro ':'')+o.GetQuickTimeVersion();f1=f2;c=v+',n,x,t,l,p,p2,mn;if(o){mn=o.GetMovieName()?o.GetMovieName():o.GetURL();n=o.GetRate();t=o.GetTimeScale();l=o.GetDuration()/t;p=o.GetTime()/t;p2=o.'+f5+';if(n!=o.'+f4+'||p<p2||p-p2>5){x=2;if(n!=0)x=1;else if(p>=l)x=0;if(p<p2||p-p2>5)m.ae(mn,l,\"'+p+'\",2,p2,0,\"\",0,0,o);m.ae(mn,l,\"'+p+'\",x,x!=2?p:-1,0,\"\",0,0,o)}if(n>0&&o.'+f7+'>=10){m.ae(mn,l,\"'+p+'\",3,p,0,\"\",0,0,o);o.'+f7+'=0}o.'+f7+'++;o.'+f4+'=n;o.'+f5+'=p;setTimeout(\"'+v+';o.'+f2+'(0,0)\",500)}';o[f1]=new Function('a','b',c);o[f4]=-1;o[f7]=0;o[f1](0,0)}if(p==3){p='RealPlayer '+o.GetVersionInfo();f1=n+'_OnPlayStateChange';c1=v+',n,x=-1,l,p,mn;if(o){mn=o.GetTitle()?o.GetTitle():o.GetSource();n=o.GetPlayState();l=o.GetLength()/1000;p=o.GetPosition()/1000;if(n!=o.'+f4+'){if(n==3)x=1;if(n==0||n==2||n==4||n==5)x=2;if(n==0&&(p>=l||p==0))x=0;if(x>=0)m.ae(mn,l,\"'+p+'\",x,x!=2?p:-1,0,\"\",0,0,o)}if(n==3&&(o.'+f7+'>=10||!o.'+f3+')){m.ae(mn,l,\"'+p+'\",3,p,0,\"\",0,0,o);o.'+f7+'=0}o.'+f7+'++;o.'+f4+'=n;';c2='if(o.'+f2+')o.'+f2+'(o,n)}';if(m.s.wd[f1])o[f2]=m.s.wd[f1];m.s.wd[f1]=new Function('a','b',c1+c2);o[f1]=new Function('a','b',c1+'setTimeout(\"'+v+';o.'+f1+'(0,0)\",o.'+f3+'?500:5000);'+c2);o[f4]=-1;if(m.s.isie)o[f3]=1;o[f7]=0;o[f1](0,0)}};m.as=new Function('e','var m=s_c_il['+m._in+'],l,n;if(m.autoTrack&&m.s.d.getElementsByTagName){l=m.s.d.getElementsByTagName(m.s.isie?\"OBJECT\":\"EMBED\");if(l)for(n=0;n<l.length;n++)m.a(l[n]);}');if(s.wd.attachEvent)s.wd.attachEvent('onload',m.as);else if(s.wd.addEventListener)s.wd.addEventListener('load',m.as,false);if(m.onLoad)m.onLoad(s,m)";Omniture_s.m_i("Media")}(function(a){mrm.app=mrm.app||{};a.extend(mrm.app,{byo:{tpl:["16"],init:function(b){mrm.util.log("[mrm.cmp.byo] Context: "+b);a("#mds-app-byo .ui-title-replace[title]").livequery(function(){if(!a(this).hasClass("ui-title-replaced")){a(this).addClass("ui-title-replaced")}a(this).tooltip({showURL:false,extraClass:""})});a("#mds-app-byo .ui-title-replace:not([title], .ui-title-replaced)").livequery(function(){a(this).tooltip({extraClass:"ui-helper-hidden"})})}}})}(mrm.$));(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{social01:{tpl:["05","06","08"],socialcontent:function(b){a.getJSON(b,function(c){a.each(c,function(d,e){a("#twitter").append("<li><strong>"+e.text+"</strong> - "+e.created_at+"</li>")})})},init:function(b){a("div.mds-cmp-social01 div.nav_extended_1 li:first").addClass("active");a("div.mds-cmp-social01 div.nav_extended_1").click(function(c){mrm.util.log(a(c.target).closest("li").siblings());a(c.target).closest("li").addClass("active").siblings().removeClass("active")})}}})}(mrm.$));(function(a){mrm.cms=mrm.cms||{};a.extend(mrm.cms,{has_mdsAreaPT:{tpl:["04","05","08","09","12","13","14"],init:function(b){mrm.util.log("[mrm.cmp.has_mdsAreaPT] Context: "+b);a("div.mds-area-ptl").parent(":not('.teaser_scroller_area')").closest('div[id^="mds-tpl"]').addClass("has_ptl");a("div.mds-area-ptr").parent(":not('.teaser_scroller_area')").closest('div[id^="mds-tpl"]').addClass("has_ptr")}}})}(mrm.$));(function(a){mrm.cms=mrm.cms||{};a.extend(mrm.cms,{nested_objects:{init:function(d){mrm.util.log("[mrm.cms.nested_objects] Context: "+d);var b=a("object");b.each(function(c,e){var f=a(e).attr("id");a(swfobject.getObjectById(f)).addClass("active")})}}})}(mrm.$));(function(a){mrm.cms=mrm.cms||{};a.extend(mrm.cms,{validate_cookie:{init:function(b){var c=mrm.util.touchDevice()?"touchstart":"click";a(".validate-cookie").on(c,function(e){var d=a(e.currentTarget);var f=d.attr("href");mrm.cmp.zc.open(f,true,"byo16");return false})}}})}(mrm.$));function playerReady(a){mrm.corcmp.mmVideo.playerReady(a)}(function(a){mrm.corcmp=mrm.corcmp||{};a.extend(mrm.corcmp,{mmVideo:function(){var b=null;var e=null;var c=false;var d={};d._initVideo=function(f,k,v,h){var s=this;var j=a.extend(true,{},mrm.conf.corcmp.mmVideo);k=a.extend(true,{},j.videoDefaults,k);var g=f.attr("id");var n="jwPlayerTarget_"+g;var m=a("> img",f).eq(0).attr("src");if(f.data("initialized")===true){return true}f.data("initialized",true);var q=a.extend(true,{},j.jwpDefaults,{image:m,file:k.url,autostart:false,mute:k.startmuted,height:k.height||"100%",width:k.width||"100%",modes:[{type:"flash",src:j.playerSwf||null},{type:"html5"}]});var q=a.extend(true,{},q,v);if((a("html").hasClass("firefox")||mrm.util.ie()||a("html").hasClass("unknownX"))&&q.endFrameCall){f.width(q.width).height(q.height);f.find("object").width(q.width).height(q.height)}var u=(typeof h==="undefined"||h.length<1)?f:h;if(u.data("setup")!==true||a("#"+u.data("jwpTargetId")).length<1){u.html('<div id="'+n+'" />');try{var p=jwplayer(n).setup(q)}catch(l){mrm.util.log(l)}if(!p){return}p.onPlay(function(){f.closest(".mod").trigger("mmVideoPlay");s._pauseAllVideo(n)});p.onPause(function(){var A=a(this.container);var z=A.hasClass("video")?A:A.closest(".video");var w=z.siblings(".end_frame_wrap");if(w.length&&this.getPosition()>1){mrm.ui.video_end_frame.initialize(w,v,"replay")}});p.onComplete(function(){f.closest(".mod").trigger("mmVideoComplete");if(f.data("posterclick")===true){if(typeof h!=="undefined"){var w=a("#"+u.data("jwpCurrentVideo"));s.deactivateVideo(w,h);s.activateVideo(w,h)}else{if(mrm.util.ie()){setTimeout(function(){s.deactivateVideo(f)},10);setTimeout(function(){s.activateVideo(f)},20)}else{s.deactivateVideo(f);s.activateVideo(f)}}}if(f.siblings(".end_frame_wrap").length){mrm.ui.video_end_frame.initialize(f.siblings(".end_frame_wrap"),v,"end")}});u.data("setup",true);u.data("jwpTargetId",n);u.data("jwpCurrentVideo",f.attr("id"));s._initTracking(p)}else{var o=u.data("jwpTargetId");var p=jwplayer(o).load(q);u.data("jwpCurrentVideo",f.attr("id"))}var r=a(".modShare_2",f);if(r.length>0){a(p.container).after(r)}return p};d.getVideoTags=function(j){var g=this;var f="div.video";if(!j||j.length==0){return a()}if(j.length==1){if(j.is(f)){return j}return j.find(f)}else{var h=a();j.each(function(){var k=a(this);if(k.is(f)){h.add(k)}else{h.add(k.find(f))}});return h}return false},d.getJWPlayers=function(h){var f=this;var g=[];a(jwplayer.getPlayers()).each(function(j){if(h.find("#"+this.id).length>0){g.push(this)}});return g},d.activateVideo=function(p,k,f,m){var j;var h;var q;var g=[];if(typeof k!=="undefined"&&k!==null){g.push(k)}if(typeof f!=="undefined"&&f!==null){g.push(f)}if(typeof m!=="undefined"&&m!==null){g.push(m)}for(var o in g){if(typeof g[o]==="boolean"){j=g[o]}else{if(typeof g[o].jquery==="string"){h=g[o]}else{if(typeof g[o]==="object"){q=g[o]}}}}j=j===true;var n=this;var l=n.getVideoTags(p);if(!j){l=l.not('[data-ignore="true"]')}if(l.length===0){return}l.each(function(){var s=a(this);var v=s.data();if(s.data("activated")===true){return true}s.data("activated",true);var u=s.html();s.data("content",u);if(v.posterclick===true){var r=s.find("> img");r.css("cursor","pointer");r.on("click",function(){n._initVideo(s,v,q,h)})}else{n._initVideo(s,v,q,h)}});return l};d.deactivateVideo=function(k,f,j){j=j||false;mrm.ui.video_end_frame.reset(k);var g=this;var h=g.getVideoTags(k);if(h.length===0){return}h.each(function(){var l=a(this);if(l.data("activated")!==true){return true}l.data("initialized",false);l.data("activated",false);var p=l.attr("id");var n=l.data("content");if(!l.siblings(".end_frame_wrap").length||j){l.html(n)}if(typeof f!=="undefined"&&typeof f.data("jwpTargetId")!=="undefined"){var o=f.data("jwpTargetId");var m=jwplayer(o);if(m){m.pause().stop()}}})};d._pauseAllVideo=function(f){a(jwplayer.getPlayers()).each(function(g){var h=jwplayer.getPlayers()[g];if(jwplayer.getPlayers()[g].id!==f&&h.getState()==="PLAYING"){h.pause()}})};d.playerReady=function(f){mrm.util.log("[mrm.corcmp.mmVideo.playerReady] - player_object "+f);a("#"+f.id).trigger("embed.video")};d._initTracking=function(g){var f=this;g.onPlay(function(h){f._onVideoPlay(this,h)});g.onPause(function(h){if(typeof Omniture_s!="undefined"){Omniture_s.Media.stop(this.getPlaylistItem().file.split("/").pop(),this.getPosition())}});g.onComplete(function(h){if(typeof Omniture_s!="undefined"){Omniture_s.Media.stop(this.getPlaylistItem().file.split("/").pop(),this.getPosition())}if(typeof Omniture_s!="undefined"){Omniture_s.Media.close(this.getPlaylistItem().file.split("/").pop())}})};d._onVideoPlay=function(f,g){var h=null;if(f.getDuration()<f.getPosition()+1){h=0}else{h=f.getPosition()}if(f===b&&f.getPlaylistItem().file.split("/").pop()!==e){if(typeof Omniture_s!="undefined"){Omniture_s.Media.close(e)}if(typeof Omniture_s!="undefined"){Omniture_s.Media.open(f.getPlaylistItem().file.split("/").pop(),f.getDuration(),f.id)}if(typeof Omniture_s!="undefined"){Omniture_s.Media.play(f.getPlaylistItem().file.split("/").pop(),h)}}else{if(g.oldstate==="PAUSED"){if(typeof Omniture_s!="undefined"){Omniture_s.Media.play(f.getPlaylistItem().file.split("/").pop(),h)}}else{if(typeof Omniture_s!="undefined"){Omniture_s.Media.open(f.getPlaylistItem().file.split("/").pop(),f.getDuration(),f.id)}if(typeof Omniture_s!="undefined"){Omniture_s.Media.play(f.getPlaylistItem().file.split("/").pop(),h)}}}b=f;e=f.getPlaylistItem().file.split("/").pop()};d.disableHtml5Skin=function(f){c=f};return d}()})}(mrm.$));(function(a){a.fn.mmScroll=function(d){var b={debug:false,auto:{play:false,pauseDuration:5000},hiddenItemOverride:false,scroll:{pauseOnHover:true,wipe:true,noWipeDirection:false,fx:"slide"},circular:true,infinite:true,height:"auto",items:{start:true,visible:1},prev:{button:function(){return a(this).parent().prev(".prev")}},next:{button:function(){return a(this).parent().next(".next")}},pagination:{container:function(){var e=a(this).parent().parent().find("ol.mmScrollPagination");if(e.length){return e}return a('<div class="mmScrollPaginationWrp"><ol class="mmScrollPagination" /></div>').appendTo(a(this).parent().parent()).children("ol")},anchorBuilder:function(f,e){return'<li><a href="#">'+f+"</a></li>"}},animateControls:{fx:"slide",loadTimeout:5000,inactivityTimeout:5000,speed:250}},c=a.extend(true,{},b,mrm.conf.corcmp.mm_scroller||{},d||{});return this.each(function(){var s=a(this).hasClass("mmScroll")?a(this):a(this).find(".mmScroll:eq(0)"),l=s.children("ul"),o=l.children("li"),e=s.children("span.mmScrollBtn"),q={},j={min_move_x:30,min_move_y:30,preventDefaultEventsHorizontal:(!c.scroll.noWipeDirection||c.scroll.noWipeDirection!=="horizontal"),preventDefaultEventsVertical:(!c.scroll.noWipeDirection||c.scroll.noWipeDirection!=="vertical"),wipeLeft:function(u){l.trigger("next")},wipeRight:function(u){l.trigger("prev")}},m=true,r,h,p;function f(u){u.addClass("ui-helper-visible").siblings().removeClass("ui-helper-visible")}function g(u){u=u||5000;if(!m){l.trigger("showControls");m=true}window.clearTimeout(h);h=window.setTimeout(function(){m=false;l.trigger("hideControls")},u)}var k="-"+e.filter(".prev").outerWidth()+"px",n="-"+e.filter(".next").outerWidth()+"px";if(c.animateControls){e.on("mouseenter",function(u){window.clearTimeout(h)}).on("mouseleave",function(u){g(c.animateControls.inactivityTimeout)})}if(c.animateControls&&a.inArray(c.animateControls.fx,["fade","slide","hide"])>-1){p=function(u,v){u.stop(true,true);if(c.animateControls.fx==="slide"){u.filter(".prev").animate({left:!v?k:"0"},c.animateControls.speed);u.filter(".next").animate({right:!v?n:"0"},c.animateControls.speed)}else{if(c.animateControls.fx==="fade"){u[v?"fadeIn":"fadeOut"](c.animateControls.speed)}else{u[v?"show":"hide"](c.animateControls.speed)}}}}else{if(c.animateControls&&a.isFunction(c.animateControls.fx)){p=c.animateControls.fx}else{p=a.noop}}if(a.fn.touchwipe&&c.scroll.wipe){s.touchwipe(j);c.scroll.wipe=false}if(!o.length){return}q={onCreate:function(u,v){r=u.closest(".caroufredsel_wrapper");l.on("mouseenter.mmScroll",function(w){l.addClass("mmScrollHovered")}).on("mouseleave.mmScroll",function(w){l.removeClass("mmScrollHovered")});if(c.animateControls){s.on("mousemove.mmScroll mouseenter.mmScroll",function(w){g(c.animateControls.inactivityTimeout)}).on("hideControls.mmScroll",function(w){l.addClass("mmScrollControlsHidden");p(e,false)});l.on("showControls.mmScroll",function(w){l.removeClass("mmScrollControlsHidden");p(e,true)});g(c.animateControls.loadTimeout)}f(u);mrm.util.sharing.enableShare2Autorender(o);a.eventDispatcher.trigger("mh_scroller_image_change",{duration:0,dispatcher:s});return(c.onCreate||a.noop)(u,v)},scroll:{onBefore:function(v,u,w,z){r.scrollLeft(0);u.trigger("itemChange",w);if(c.animateControls){g(c.animateControls.inactivityTimeout)}a.eventDispatcher.trigger("mh_scroller_image_change",{duration:z,dispatcher:s});return(c.scroll.onBefore||a.noop)(v,u,w,z)},onAfter:function(v,u,w,z){r.scrollLeft(0);u.trigger("renderShare2");f(u);return(c.scroll.onAfter||a.noop)(v,u,w,z)}}};if(s.data("cfgDisableLoop")){q.circular=false;q.infinite=false}if(s.data("cfgAutoscroll")){a.extend(true,q,{auto:{play:true,pauseDuration:Number(s.data("cfgAutoscrollDuration"))||c.auto.pauseDuration},animateControls:{fx:"none"}})}l.mrmCarousel(a.extend(true,{},c,q));s.addClass("jsReady")})}})(mrm.$);(function(a){var b={};pubsubz=pubsubz||{subscribe:a.noop,unsubscribe:a.noop,publish:a.noop};b.eventDispatcher={on:function(c,d){return pubsubz.subscribe(c,d)},off:function(c){pubsubz.unsubscribe(c)},trigger:function(d,c){pubsubz.publish(d,c)}};a.extend(true,b)}(mrm.$));(function(b){function a(e,f){var d;if(document.defaultView&&document.defaultView.getComputedStyle){d=document.defaultView.getComputedStyle(e,"").getPropertyValue(f)}else{if(e.currentStyle){f=f.replace(/\-(\w)/g,function(g,h){return h.toUpperCase()});d=e.currentStyle[f]}}return d}function c(e,f){if(e.lang){f=e.lang.substr(0,2)}if(e&&e.style&&a(e,"text-transform")=="uppercase"){if(f=="tr"&&e.value){e.value=e.value.replace(//g,"I");e.value=e.value.replace(/i/g,"")}for(var d=0;d<e.childNodes.length;++d){if(f=="tr"&&e.childNodes[d].nodeType==Node.TEXT_NODE){e.childNodes[d].textContent=e.childNodes[d].textContent.replace(//g,"I");e.childNodes[d].textContent=e.childNodes[d].textContent.replace(/i/g,"")}else{c(e.childNodes[d],f)}}}else{if(!e.childNodes||e.childNodes.length==0){return}for(var d=0;d<e.childNodes.length;++d){c(e.childNodes[d],f)}}}if(mrm.util.locale._lang==="tr"){b(document).ready(function(){c(document.getElementsByTagName("html")[0],"")})}})(jQuery);(function(a){mrm.ie=mrm.ie||{};a.extend(mrm.ie,{asteriskAfter:{tpl:["16"],init:function(b){mrm.util.log("[mrm.ie.asteriskAfter] Context: "+b);if(mrm.util.ie7()||mrm.util.ie6()){a("form ul.formlist label, form ul.formlist p, form ul.formlist legend span").append('<span class="asterisk">*</span>');a("span.asterisk span.asterisk, span.asterisk + span.asterisk","form ul.formlist").remove()}}}})}(mrm.$));(function(a){mrm.ie=mrm.ie||{};a.extend(mrm.ie,{bgiframe:{init:function(b){if(b==="body"&&mrm.util.ie6()){mrm.util.log("[ie.bgiframe] context: "+b);a("#mds-cmp-1stlevelnavigation ul li ul").bgiframe();a("#mds-cmp-1stlevelnavigation li.baseballcard",b).livequery(function(){a(this).bgiframe()})}}}})}(mrm.$));(function(a){mrm.ie=mrm.ie||{};a.extend(mrm.ie,{empty:{tpl:["02","03","05","08","10","11","13","14","16","17"],init:function(b){mrm.util.log("[mrm.ie.empty] Context: "+b);a('div[class*="mds-cmp"]:empty').addClass("CSSempty");a("ul.radiobutton-group label:empty").addClass("CSSempty");a('div[class*="mds-area-p"]:empty').addClass("CSSempty")}}})}(mrm.$));(function(a){mrm.ie=mrm.ie||{};a.extend(mrm.ie,{flicker:{init:function(e){if(a.browser.msie&&(parseFloat(a.browser.version)<8)){if(e==="body"){mrm.util.log("[ie.flicker] context: "+e);var b=true;try{document.execCommand("BackgroundImageCache",false,b)}catch(d){}}}}}})}(mrm.$));(function(a){mrm.ie=mrm.ie||{};a.extend(mrm.ie,{linked_images_wrapped_by_span:{init:function(b){if(b==="body"&&mrm.util.ie7()){mrm.util.log("[ie.linked_images_wrapped_by_span] context: "+b);a("a span img").live("click",function(){a(this).closest("span").trigger("click")})}}}})}(mrm.$));(function(a){mrm.mod.Abstract=Tc.Module.extend({on:function(b){this.delegateEvents();this.prepare();this.prepareAsync(b)},delegateEvents:function(){if(!this.events){return}for(var e in this.events){var f=this.events[e];if(typeof f!=="function"){f=this[this.events[e]]}if(!f){continue}var d=e.match(/^(\S+)\s*(.*)$/);var c=d[1]+".delegateEvents"+this.id;var b=d[2];if(b===""){this.$ctx.on(c,a.proxy(f,this))}else{this.$ctx.on(c,b,a.proxy(f,this))}}},prepare:function(){},prepareAsync:function(b){b()}})})(mrm.$);(function(a){mrm.mod.AbstractMod=mrm.mod.Abstract.extend({events:{},init:function(d,b,e){this._super(d,b,e);var c=mrm.util.getModuleName(this.$ctx);this.cfg=a.extend(true,this.cfg||{},mrm.conf.cmp[c]||{});this.lbl=a.extend(true,this.lbl||{},mrm.lbl.cmp[c]||{});this.events=a.extend({},this.events,mrm.mod.AbstractMod.prototype.events)},on:function(b){this.delegateEvents();this.initElements();this.prepare();this.prepareAsync(b)},initElements:function(){},switchToContent:function(b){}})})(mrm.$);(function(a){mrm.mod.Global=mrm.mod.Abstract.extend({events:{click:"onBodyClick",touchend:"onBodyClick"},init:function(c,b,d){this._super(c,b,d);this.sandbox.subscribe("broadcast",this)},prepare:function(){var b;if(a.browser.msie&&parseInt(a.browser.version,10)<=8){b=_.throttle(a.proxy(this.onWindowResizeIe8,this),50)}else{b=_.throttle(a.proxy(this.onWindowResize,this),50)}a(window).on("resize",b).on("scroll",a.proxy(this.onWindowScroll,this)).on("orientationchange",a.proxy(this.onOrientationChange,this))},after:function(){a(window).trigger("resize")},onWindowResize:function(){this.fire("broadcastBeforeWindowResize",["broadcast"]);this.fire("broadcastWindowResize",["broadcast"]);this.fire("broadcastAfterWindowResize",["broadcast"])},onWindowResizeIe8:function(){var c=a(window).width();var b=a(window).height();if(this.winWidth!=c||this.winHeight!=b){this.fire("broadcastBeforeWindowResize",["broadcast"]);this.fire("broadcastWindowResize",["broadcast"]);this.fire("broadcastAfterWindowResize",["broadcast"])}this.winWidth=c;this.winHeight=b},onBodyClick:function(){this.fire("broadcastBodyClick",["broadcast"])},onWindowScroll:function(){this.fire("broadcastWindowScroll",["broadcast"])},onOrientationChange:function(){this.fire("broadcastOrientationChange",["broadcast"])},})})(mrm.$);(function(a){mrm.ui.forms=mrm.ui.forms||{};a.extend(mrm.ui.forms,{init:function(d){var b=this;this._addCheckboxReplacements();if(mrm.util.ie9_lt()){a(document).on("click.formsJS","input.ui-helper-hidden-accessible:enabled",function(c){if(!a(c.target).closest(".modVi_hmc_1, .modCnt_tbl_comp_1")){a(this).change()}})}if(mrm.util.ie9_lt()){a(document).on("click.formsJS","label img",function(){var c=a(this).parents("label").attr("for")||"";a("#"+c).change()})}a("input:radio").on("click.checkBox",function(c){a(c.target).closest("li.ui-state-error").removeClass("ui-state-error")});if(mrm.util.ie9_lt()){this.ieSelectFix()}},_addCheckboxReplacements:function(){var b=this;if(mrm.util.curTemplate()!="16"&&mrm.util.curTemplate()!="03"){try{a('input:not(".ui-helper-hidden-accessible")').checkBox()}catch(c){console.log("mrm.ui.checkbox.js missing from main.js")}}else{a("input:checked:not(:disabled)").livequery(function(){b._checkReplaceState(this)});a("input:checked:disabled").livequery(function(){b._checkReplaceState(this)});a("input:disabled:not(:checked)").livequery(function(){b._checkReplaceState(this)});a("input:not(:checked, :disabled)").livequery(function(){b._checkReplaceState(this)});a('input[title]:not(".mds-vc-prototype", ".ui-no-input-replace")').livequery(function(){var d=mrm.$(this).next("span.ui-checkbox, span.ui-radio");if(d.length>0){var e=mrm.$(this).attr("title");b._updateTooltip(d,e)}})}},_checkReplaceState:function(f){var c=a(f);if(!c.is(":radio, :checkbox")||c.hasClass("mds-vc-prototype")||c.hasClass("ui-no-input-replace")){return}var h="span.ui-checkbox, span.ui-radio";var e=c.next(h);if(e.length===0){c.checkBox();e=c.next(h)}else{try{c.checkBox("update")}catch(b){if(e.length>0){e.remove()}c.checkBox();e=c.next(h)}}if(e.length>0){var g=c.attr("title");var d=c.attr("tabindex");if(typeof(g)!="undefined"&&g!=""){e.attr("title",g)}if(typeof(d)!="undefined"&&d!=""){e.attr("tabindex",d);c.removeAttr("tabindex")}this._updateTooltip(e,g)}},_updateTooltip:function(c,e){if(c!=undefined&&c!=null){if(e!=""&&e!=undefined&&e!=null){e=e.split("##");var b="";a.each(e,function(f){b+="<li>"+this+"</li>"});var d="";if(window.navigator.pointerEnabled||window.navigator.msPointerEnabled){c.on("mouseover",function(f){if(!f.noBlock){f.stopImmediatePropagation()}}).on("mouseout",function(f){if(!f.noBlock){f.stopImmediatePropagation()}}).on("click",function(f){f.stopImmediatePropagation()});d="MSPointerDown"}else{c.on("touchstart",function(f){f.preventDefault()});d="touchend"}c.on(d,function(){var f=c.offset();c.trigger({type:"mouseover",pageX:f.left,pageY:f.top,noBlock:true})}).on("clickoutside",function(f){c.trigger({type:"mouseout",noBlock:true})});if(!(/Android 4\.[0123]{1}/).test(window.navigator.userAgent)){c.on("mouseover",function(f){f.stopImmediatePropagation()}).on("mouseout",function(f){f.stopImmediatePropagation()})}if(b!=""){c.tooltip({showURL:false,fixPNG:true,extraClass:"",bodyHandler:function(){return a("<ul>"+b+"</ul>")}})}}else{c.tooltip({extraClass:"ui-helper-hidden"})}}},ieSelectFix:function(){a("select").each(function(){var c=a(this);selWidth=c.width();c.css("min-width",selWidth)});var b;a(document).on("mousedown","select",function(){a("select.selectIEfix").removeClass("selectIEfix");b=a(this);b.addClass("selectIEfix")}).on("blur change","select",function(){if(b!==undefined){b.removeClass("selectIEfix")}})}})}(mrm.$));mrm.ui=mrm.ui||{};mrm.ui.image_loader=function(j){var e={},l,b=j(window),c=[],k=0,g=0,p=false;function h(){e=j.extend(true,{enabled:true,threshold:500,fallbackHeight:2000,onscroll_class:"load_in_view",onload_class:"onload",loaded_class:"image_loaded",onload_delay:5000,src_attr:"orig-src"},mrm.conf.ui.image_loader);if(e.enabled){b.on("load.image_loader",f);l=setTimeout(f,e.onload_delay);if(j("img."+e.onscroll_class).length){}j.eventDispatcher.on("image_loaded",n)}}function f(q){clearTimeout(l);b.off("load.image_loader");c=j("body").find("img[data-"+e.src_attr+"]."+e.onload_class);if(c.length){m(c)}else{j.eventDispatcher.trigger("image_loaded",{src:this.src})}}function m(q){q.each(function(){var r=j(this);r.one("load.image_loader",o);r.one("error.image_loader",function(){mrm.util.log("error >> "+this.src)});this.src=r.data(e.src_attr);if(mrm.util.ie_lt(10)&&this.complete){r.trigger("load.image_loader")}g++})}function o(r){j.eventDispatcher.trigger("image_loaded",{src:this.src});var q=j(this);q.removeClass(e.onload_class+" "+e.onscroll_class);q.addClass(e.loaded_class)}function n(){k++;if(k===c.length){j.eventDispatcher.trigger("all_images_loaded");j(window).trigger("resize");mrm.util.log("All Images loaded");p=true}}function a(q){var r=document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop;return(r+d()+e.threshold)>(q.offset().top+q.height())}function d(){if(window.innerHeight){return window.innerHeight}if(document.documentElement&&document.documentElement.clientHeight){return document.documentElement.clientHeight}if(document.body&&document.body.clientHeight){return document.body.clientHeight}if(document.body&&document.body.offsetHeight){return document.body.offsetHeight}return e.fallbackHeight}h();return{loaded_class:e.loaded_class,onload_class:e.onload_class,onscroll_class:e.onscroll_class,enabled:e.enabled,src_attribute:e.src_attr,images_loaded:p,load_images:m}}(mrm.$);(function(a){mrm.ui.layer={init:function(b){mrm.util.log("[layer.init] Context: "+b);this.setBindings()},mask:function(g,b,d){var f=(a(".mask",g).length>0)?a(".mask",g):g.prepend('<div class="mask" />').children(".mask");var c=(b=="hide")?"fadeOut":"fadeIn",e=(d!=undefined)?d:0;if(typeof(MRM_EXTERNAL_DOMAIN)==="string"){f.wrap('<div class="gmdsWidget" />')}f[c](e,function(){if(c=="fadeOut"){f.css("display","none")}})},setBindings:function(){a(document).on("click","a.ln_modal_ext",a.proxy(this.ln_modal_ext,this));a(document).on("click",".btn_lyr",a.proxy(this.btn_lyr,this))},get_url:function(b){var c=/(\b(https?):)/gim;return b.replace(c,window.location.protocol)},ln_modal_ext:function(e){e.preventDefault();var g=a(e.currentTarget);var c=this.get_url(g.attr("href"));var h=g.attr("id");var d=window.mrm.modals_ext[h]||{};mrm.util.log("[mrm.cmp.ext_modals.ln_modal_ext] width: "+d.width+" - height: "+d.height+" - URL: "+c);var b=a("#ln_modal_ext-"+h);if(b.length){var f=b.find("iframe");if(f.attr("src")!=c){f.attr("src",c)}b.dialog("open")}else{a('<div id="ln_modal_ext-'+h+'"><iframe src="'+c+'" width="'+mrm.util.parseDimension(d.width||400)+'" height="'+mrm.util.parseDimension(d.height||400)+'" frameborder="0" /></div>').dialog({autoOpen:true,modal:true,width:"auto",resizable:false})}},btn_lyr:function(f){f.preventDefault();var h=a(f.currentTarget);var b=h.attr("href");var g=h.data();if(b.indexOf("#")<0){this._multiMediaEnlarge(b,g,h)}else{var j=mrm.util.stripHash(b);var e=window.mrm.modals_ext[j]||{};mrm.util.log("[mrm.cmp.ext_modals.btn_lyr] width: "+e.width+" - height: "+e.height+" - modal_content: "+j+" - modal: "+e.modal+" - resizable: "+e.resizable+" - position: "+e.position);var d={autoOpen:true,modal:e.modal,width:mrm.util.parseDimension(e.width||400),height:mrm.util.parseDimension(e.height),resizable:e.resizable};if(e.position=="link"){var c=(h.offset().top-a(window).scrollTop()+h.height());d.position=["center",c]}else{d.position=["center","center"]}a("#"+j).dialog(d)}},_multiMediaEnlarge:function(b,d,c){if(b.match(/.html$/)){var e=d.method||"get";if(e=="post"){a.post(b,d,a.proxy(this.enlargeLoaded,this,c))}else{a.get(b,a.proxy(this.enlargeLoaded,this,c))}}else{a.fancybox(a.extend(mrm.conf.plugin.fancybox,{autoDimensions:true,href:b}))}},enlargeLoaded:function(h,f,c,j){var k="btn_lyr-"+new Date().getTime();var e=mrm.util.getModuleName(h.closest(".mod").closest(".mod"));a("body").append('<div id="'+k+'" class="dialog-container"></div>');var d=a("#"+k);var l=a.extend({autoOpen:false,open:function(m,n){a("html").addClass("dialog")},close:function(m,n){a("html").removeClass("dialog");if(a(this).parents(".mm-content").length===0||a(this).find(".youtube-player").length>0){a(this).dialog("destroy").remove()}else{if(jwplayer.getPlayers().length>0){a(jwplayer.getPlayers()).each(function(o){var p=jwplayer.getPlayers()[o];if(p.id!=="hiddenvideo-preload_inner"){if(p.getState()==="PLAYING"){p.pause()}}})}}},dialogClass:e+"-dialog"},mrm.conf.plugin.ui_dialog);d.dialog(l);if(a(f).find("object, video").length){l.callbacks.onVideoContent(d);d.on("embed.swf, embed.video",a.proxy(function(n){var m=a(n.target);m.parent().css("height",m.attr("height")+"px");l.callbacks.onVideoLoaded(d)},this))}var b=a(f).find("div.video");var g=a(b).attr("id");if(a("#"+g).length>0&&mrm.util.flash()){mrm.$("body").find("#"+g).parents(".dialog-container").dialog("open")}else{if(a("#"+g).length>0&&!mrm.util.flash()){a("#"+g).parents(".ui-dialog").remove();d.append(f);d.dialog("open");mrm.util.initDomContent(d)}else{d.append(f);d.dialog("open");mrm.util.initDomContent(d)}}a.event.trigger({type:"ui-dialog-loaded",dialogId:k});return d},closeDialogs:function(){a('.ui-dialog > [id^="btn_lyr"]').dialog("close")}}}(mrm.$));(function(a){mrm.ui=mrm.ui||{};a.extend(mrm.ui,{rows:{tpl:["01","02","03","04","05","06","07","08","09","10","11","12","13","14","15"],pf:["pf2","pf3","pf4","pf6","pn2","pn3"],init:function(b){var c=a(b);this.setHeightByCmpsInRow(c)},setHeightByCmpsInRow:function(d){var c=mrm.util.curTemplate();var b=this;var e=a.extend({},mrm.conf.ui.rows.except);a.each(this.pf,function(g,f){d.find("div.mds-area-"+f).filter(function(){var h=e[c];return h?!a(this).parents(h).length:1}).each(function(h,n){var k=0;var m=[],j=false;a("> div",n).each(function(s,A){var q='div[class*="mds-cmp"]';var v=a(A);var o=v.find(q);var z=o.first();var u=o.not(z).not(v.find(q+" "+q));if(z.length&&u.length==0){var w=z.get(0);var p=a(w);var B=mrm.util.getModuleName(p);switch(B){case"mm_3":if(p.hasClass("ui_position_float_rel")){var r=p.height()+parseInt(p.find(".inner").css("margin-top"),10);k=Math.max(k,r)}else{if(!p.hasClass("ui_position_float_abs")){m.push(w)}}break;case"ts_img_1":case"ts_img_2":break;default:m.push(w);break}if(z.eq(0).height()>0){j=true}}});if(m.length>1&&j){var l=a(m);l.data("gotEqualHeight",true);l.equalHeights(k)}})})}}})}(mrm.$));(function(a){mrm.ui.scrollbars={init:function(e){mrm.util.log("[mrm.ui.scrollbars] Context: "+e);var d=["#mds-app-dl #dl2a .pf2b","#mds-app-dl #dl2b .pf2b","#mds-app-dl #dr2 .pf2b","#citySelection",".mds-dlw-result-list"];a(d.join(",")).each(function(f,h){var c=a(h);if(c.is("ul, ol")){var g='<div class="scroll-pane"';if(c.attr("id")!==undefined){g+=' id="'+c.attr("id")+'ScrollbarWrapper"'}g+="></div>";c.removeClass("scroll-pane");c.wrap(g)}else{c.addClass("scroll-pane")}});var b=mrm.$.extend(true,{},mrm.conf.plugin.jscrollpane);a(".scroll-pane").jScrollPane(b);a("li.ui-state-error").each(function(){a(this).children(".jScrollPaneContainer").addClass("ui-state-error")});a("#mds-tpl-16 #mds-app-dl #paging").click(function(){mrm.ui.scrollbars.reinitialiseScrollPane()});a("#mds-vc-cmp-advantage_pack").on("VC_CMP_Show",function(c){mrm.ui.scrollbars.reinitialiseScrollPane(a(c.target).find(".scroll-pane"))});a(".mds-cmp-dealer_search_widget, .modApp_dealer_1, .modApp_dealer_2").find("ul.mds-dlw-result-list, #citySelection").on("updatedDOM",function(c){mrm.ui.scrollbars.reinitialiseScrollPane(a(this).closest(".scroll-pane"))})},applyScrollbarsTo:function(c,d){var b="auto";if(d!=undefined){b=d+"px"}if(c.is("ul, ol")){if(!c.parent().is("div.scroll-pane")){c.wrap('<div class="scroll-pane" style="max-height:'+b+'" />')}}else{c.addClass("scroll-pane").css("max-height",b)}return c.closest(".scroll-pane").jScrollPane(mrm.conf.plugin.jscrollpane||{})},reinit:function(d){if(typeof(d)=="undefined"){d=".scroll-pane:visible"}mrm.util.log("[mrm.ui.scrollbars.reinit] Context: "+d);var b=mrm.$.extend(true,{},mrm.conf.plugin.jscrollpane);a(d).jScrollPane(b)},reinitialiseScrollPane:function(b){this.reinit(b)},remove:function(d){var b=d.jScrollPane();var c=b.data("jsp");if(c){c.destroy()}}}}(mrm.$));(function(a){mrm.ui=mrm.ui||{};a.extend(mrm.ui,{scrollcontrol:{eventNamespace:".scrollCtrl",cfg:{},init:function(){var b=this;b.cfg=mrm.conf.ui.scrollcontrol||{};if(!b.cfg.useScrollControl){return false}a(document).on("click"+b.eventNamespace,function(c){if(c.isDefaultPrevented()){return}var d=a(c.target).closest("a").attr("href")||"";if(d.charAt(0)==="#"&&d.length>1){b.unbindHashChange();location.hash=d;b.scrollAction(d);b.bindHashChange();return false}});a(window).on("load"+b.eventNamespace,function(){var c=a._data(document,"events");b.onHashChange();if(!c||!c.click){return true}var d,e;a.each(c.click,function(f,g){if(g&&g.namespace&&g.namespace===b.eventNamespace.substr(1)){d=g;e=f;return true}if(d&&!isNaN(f)){c.click[f-1]=g;e=f}});if(d){c.click[e]=d}});b.bindHashChange()},onHashChange:function(){var b=window.location.hash;if(b.length){this.scrollAction(b)}},unbindHashChange:function(){var b=this;a(window).off("hashchange"+b.eventNamespace)},bindHashChange:function(){var b=this;a(window).on("hashchange"+b.eventNamespace,function(){b.onHashChange()})},scrollAction:function(b){var c=this.getScrollPos(b);if(!isNaN(c)){a(window).scrollTop(c)}},getScrollPos:function(d){var c,b;d=d||"";if(!mrm.util.isValidIdentifier(mrm.util.stripHash(d))){return}c=a(d);if(!c.length){c=a('a[name="'+d.substr(1)+'"]');if(!c.length){return}}b=this.cfg.offsetTop||0;return Math.floor(Math.max(c.offset().top-b,0))}}})}(mrm.$));(function(a){mrm.ui=mrm.ui||{};a.extend(mrm.ui,{stickybox:{cfg:{container:"div.mds-area-content"},scrollOffsetTop:0,$container:a(),init:function(e){var d=this,b=a(".stickyBox");d.$container=a(b.data("stickycontainer")||d.cfg.container);if(!b.length){return false}d.scrollOffsetTop=parseInt(b.addClass("stickyModeFloat").css("top"),10)||0;b.removeClass("stickyModeFloat");b.data("origOffset",b.offset().top);a([window,document]).on("resize",function(){d.stickify(b)});a(window).on("scroll",function(c){d.stickify(b)})},stickify:function(c){var b=this,d=false;c.removeClass("stickyModeFloat stickyModeBottom");b.$container.css("min-height",0);if(!b.stickyCheck(c)){return}b.$container.css("min-height",b.$container.height());d=b.bottomCheck(c);c.toggleClass("stickyModeFloat",!d).toggleClass("stickyModeBottom",d)},stickyCheck:function(c){var b=this,f=a(window).scrollTop(),d=b.scrollOffsetTop,e=c.data("origOffset");return f>=e-d},bottomCheck:function(c){var b=this,e=a(window).scrollTop(),d=b.scrollOffsetTop;return Math.ceil(d+c.height())>Math.floor(b.$container.offset().top+b.$container.height()-e)},resizeHandler:function(c){var b=this}}})}(mrm.$));(function(a){mrm.ui=mrm.ui||{};a.extend(mrm.ui,{transition:{init:function(b){mrm.util.log("[mrm.ui.rows] Context: "+b);this.attachEvents()},attachEvents:function(){}}})}(mrm.$));mrm.ui=mrm.ui||{};mrm.ui.video_end_frame=function(f){var p={};function g(z,u,w){if(z.length<1){return}f(".end_frame_wrap:visible").each(function(){if(f(this).not(z)){d(f(this))}});p=f.extend(true,{},mrm.conf.cmp.mm_1.jwpOptions);p=f.extend(true,u,p);z.find(".video").empty();var v=z.parent(),r=l(z);if(v.find(".playing").length<1){var s=v.find("ul");s.find("li:eq(0)").addClass("playing");j(v,r);z.find(".cta .video").each(function(){var A=f(this);A.html(A.data("content"));A.data("posterimage","");A.removeAttr("data-posterimage")})}v.addClass("vid_container");v.height(r.data("height"));v.width(r.data("width"));w=w||"end";var q=h(z);if(q&&!q.getFullscreen()){q.getPlugin("display").hide();q.getPlugin("controlbar").hide()}if(w==="end"){q.setFullscreen(false);o(z)}else{a(z)}m(z);z.show()}function a(q){q.find("a.replay.end_frame_btn").hide();q.find("a.continue.end_frame_btn").css("display","inline-block");q.find("a.continue.end_frame_btn, .end_frame, .end_frame_overlay").on("click.end_frme",function(v){v.preventDefault();v.stopPropagation();var r=h(q);if(r.getState()!="PLAYING"){var u=mrm.util.sectionname.getSectionName(f(this));var s=r.getPlaylistItem().file;s=s.substr(s.lastIndexOf("/")+1);mrm.util.trackEvent("click_cta",{section:u,linkname:"video:continue:"+s})}if(r){r.play(true)}d(q)})}function o(q){q.find("a.continue.end_frame_btn").hide();q.find("a.replay.end_frame_btn").css("display","inline-block");q.find("a.replay.end_frame_btn, .end_frame, .end_frame_overlay").on("click.end_frame",function(z){z.preventDefault();z.stopPropagation();var w=f(this);var s=h(q);if(s){s.stop().play()}else{var r=l(q).find("img");r.click()}var v=mrm.util.sectionname.getSectionName(w);var u=s.getPlaylistItem().file;u=u.substr(u.lastIndexOf("/")+1);mrm.util.trackEvent("click_cta",{section:v,linkname:"video:replay:"+u});d(q)})}function m(q){q.find(".end_frame_cta").on("click.end_frame",function(B){B.stopPropagation();var A=f(this);var w=A.closest(".vid_container");var u=true;if(A.find(".video").length){B.preventDefault();var s=l(q),r=A.find("div.video");r=r.clone();r.attr({"data-posterclick":false,"data-autostart":true,"data-width":s.data("width"),"data-height":s.data("height")});p.autostart=true;p.endFrameCall=true;s.replaceWith(r);mrm.corcmp.mmVideo.activateVideo(l(q),p);p.endFrameCall=false;p.autostart=false;c(A.find(".video_caption").html(),q)}else{if(A.data("action")==="new_slide"){B.preventDefault();e(A.attr("herf"))}else{u=false}}var v=A.find("img").attr("src");if(typeof(v)!=="undefined"){v=v.substr(v.lastIndexOf("/")+1)}var z=mrm.util.sectionname.getSectionName(A);mrm.util.trackEvent("click_cta",{section:z,linkname:"video:"+v});if(u){w.find(".playing").removeClass("playing");A.closest("li").addClass("playing");d(q)}})}function d(r){var q=h(r);if(q){q.getPlugin("controlbar").show()}r.find("*").off(".end_frame");r.hide()}function n(q){q.find(".end_frame_wrap").each(function(){var s=f(this).closest(".vid_container");if(s.length){var r=l(q);var u=b(s);r.replaceWith(u);s.find(".playing").removeClass("playing");s.removeClass("vid_container");d(f(this))}})}function j(s,r){if(s.length&&r.length){var q={};f.each(r.get(0).attributes,function(){q[this.name]=this.value});s.data("video_obj",q);s.data("video_content",r.data("content"))}}function l(q){var r=f();if(q.siblings(".video").length){r=q.siblings(".video")}else{if(q.find("object").length){r=q.find("object").closest(".video")}else{r=q.closest(".vid_container").find(">.video")}}return r}function h(q){var r=l(q).find("object").attr("id");if(r){return jwplayer(r)}else{return false}}function b(r){var q=f("<div />",r.data("video_obj")).append(r.data("video_content"));q.data("content",r.data("video_content"));return q}function e(s){var r="mod";if(!mrm.util.isValidIdentifier(mrm.util.stripHash(s))){return}var q=f(s);if(q.length===0){q=f(s.replace(/^#/,"#"+mrm.util.getRenamedIdPrefix()))}if(q.length===0){return}q.parents("."+r).each(function(v,w){var z=mrm.util.getModuleName(f(this));if(mrm.cmp[z]&&typeof mrm.cmp[z].switchToContent==="function"){mrm.cmp[z].switchToContent(q)}else{if(mrm.mod[mrm.util.getTerrificModuleName(z)]){var u=mrm.util.getTerrificInstance(f(w));if(u){u.switchToContent(q)}}}})}function c(q,s){q=q||"";if(f("div.modMm_gal_lq").find("div.caption").length){if(q.length){f("div.modMm_gal_lq").children("div.panelWrp").children("div.inner").find("div.caption").html(f('<div class="txtWrp" />').html(q))}else{f("div.modMm_gal_lq").children("div.panelWrp").children("div.inner").find("div.caption").empty()}}else{if(s&&s.closest("#fancybox-content").length){var r=s.closest("#fancybox-content").siblings("#fancybox-title");if(r.find(".indicator_number").length===0&&r.find(".indicator_dot").length===0){r.html(q)}}else{if(l(s).siblings("figcaption").length){var r=l(s).siblings("figcaption");r.html(q)}}}}function k(q){var r=l(q);if(r.closest(".hidden-video").length){return f("#"+r.closest(".hidden-video").data("vidId")).find(".hidden-video").data("posterimage")||""}else{return r.data("posterimage")||""}}return{initialize:g,reset:n}}(mrm.$);(function(a){mrm.helper=mrm.helper||{};a.extend(mrm.helper,{clickTrackLinks:{tpl:["02","05","06","12"],clickOrTouch:(mrm.util.touchDevice())?"touchstart":"click",init:function(){var b=this;mrm.$(window).load(function(){if(typeof(pageTrackJSON)!=="undefined"){b.initTracking()}})},initTracking:function(){var b=this;a("div.masthead ul.mmScrollItems li.mod h2.cta a").removeAttr("onclick");a("div#modMh_1_ctaOverlay h2.cta span.centerContent").on(b.clickOrTouch,function(d){mrm.util.trackEvent("click_cta",{section:"masthead",linkname:"link:"+a.trim(a(this).text())})});a("div.modMh_1 div.mmScroll span.prev").on(b.clickOrTouch,function(g){var e;if(mrm.util.curTemplate()==="02"){if(a("div.modMh_1 div.mmScroll ul.mmScrollItems li.modMh_item_1.prev canvas").length>0){e=a("div.modMh_1 div.mmScroll ul.mmScrollItems li.modMh_item_1.prev canvas").attr("data-imgsrc")}else{if(a("ul.mmScrollItems li.modMh_item_1.prev").length>0){e=a("ul.mmScrollItems li.modMh_item_1.prev").html();var f=e.search("<OBJECT id=externalms")-4,d=e.search("imgsrc")+8;e=e.slice(d,f)}else{if(a(".t02 .caroufredsel_wrapper img").length>0){e=a(".t02 .caroufredsel_wrapper img").attr("src").split("/").pop()}}}mrm.util.trackEvent("click_cta",{section:"masthead",linkname:"arrow:prev:"+e})}});a("div.modMh_1 div.mmScroll span.next").on(b.clickOrTouch,function(g){var e;if(mrm.util.curTemplate()==="02"){if(a("div.modMh_1 div.mmScroll ul.mmScrollItems li.modMh_item_1.next canvas").length>0){e=a("div.modMh_1 div.mmScroll ul.mmScrollItems li.modMh_item_1.next canvas").attr("data-imgsrc")}else{if(a("ul.mmScrollItems li.modMh_item_1.next").length>0){e=a("ul.mmScrollItems li.modMh_item_1.next").html();var f=e.search("<OBJECT id=externalms")-4,d=e.search("imgsrc")+8;e=e.slice(d,f)}else{if(a(".t02 .caroufredsel_wrapper img").length>0){e=a(".t02 .caroufredsel_wrapper img").attr("src").split("/").pop()}}}mrm.util.trackEvent("click_cta",{section:"masthead",linkname:"arrow:next:"+e})}});a("div.modMh_1 div.mmScrollPaginationWrp ol li a").on(b.clickOrTouch,function(f){var d="";var e;if(a(".t06c .caroufredsel_wrapper li.ui-helper-visible img")){e=a(".t06c .caroufredsel_wrapper li.ui-helper-visible img").attr("src")}else{e=a("div.modMh_scroller_1 div.mmScroll ul.mmScrollItems li.modMh_item_1 img").attr("src")}});a(document).on("click","div.modMh_1 div.mmScroll ul.mmScrollItems li.modMh_item_1.prev",function(d){var c=a("canvas",this).attr("data-imgsrc");mrm.util.trackEvent("click_cta",{section:"masthead",linkname:"scroll:prev:"+c})});a(document).on("click","div.modMh_1 div.mmScroll ul.mmScrollItems li.modMh_item_1.next",function(d){var c=a("canvas",this).attr("data-imgsrc");mrm.util.trackEvent("click_cta",{section:"masthead",linkname:"scroll:next:"+c})});a("div.mds-area-pf6 div.mds-cmp-teaser05 ul.ull li a").on(b.clickOrTouch,function(d){if(a(this).parents("form").length&&a(this).parents("form").find("input").val()!=""){mrm.util.trackEvent("click_cta",{section:"dashboard",linkname:"zipcode"})}else{mrm.util.trackEvent("click_cta",{section:"dashboard",linkname:"link:"+a(this).text()})}});a("div#nav_modelchanger_tab").on(b.clickOrTouch,function(){if(typeof(pageTrackJSON)!="undefined"){fireMetrics("model-selector")}});a("div.nav_modelchanger_menu div.modVi_1 ul.cta li a").removeAttr("onclick");a("div.nav_modelchanger_menu div.modVi_1 ul.cta li a").on(b.clickOrTouch,function(){if(typeof(pageTrackJSON)!="undefined"){fireMetrics("model-car",{model_name:a(this).parents(".exp_lyr").siblings(".jellybean").find("h3.vt").text(),link_name:a(this).attr("title")})}})}}})}(mrm.$));(function(a){mrm.helper=mrm.helper||{};a.extend(mrm.helper,{equalHeights:{tpl:["01","02","03","05","06","08","09","10","11","13","15","16"],init:function(b){mrm.util.log("[mrm.cmp.equalHeights] Context: "+b);a("ul.brochurelist > li.request_type").equalHeights()}}})}(mrm.$));(function(a){mrm.ie=mrm.ie||{};a.extend(mrm.ie,{lastChild:{init:function(b){a("#container").children(".mds-area-header").find("div.modNav_tools_1").find("dd.content > div:last").addClass("lastChild");a(".modCnt_tbl_fs_1 .tbl tfoot tr:last-child").addClass("lastChild")}}})})(mrm.$);(function(a){a.extend(mrm.cmp,{cnt_tbl_comp_1:{model:{},item:{},collection:{},view:{},$ctx:null,init:function(e){this.$ctx=a(".modCnt_tbl_comp_1");if(!this.$ctx.length){return}var d=new mrm.cmp.cnt_tbl_comp_1.collection.Bodystyle(mrm.data.cnt_tbl_comp_1,{});var b=new mrm.cmp.cnt_tbl_comp_1.view.Table({el:this.$ctx.find("table").get(0),id:"cnt_tbl_comp_1.view.Table",config:{},headerTemplateHtml:this.$ctx.find("script.prototype.headerEntry").html(),collection:d});a.eventDispatcher.on("HMC_changeMode",a.proxy(function(c,f){this.$ctx.toggle(f.mode==="compare")},this))}}})}(mrm.$));(function(a){mrm.cmp.cnt_tbl_comp_1.item.Bodystyle=Backbone.Model.extend({idAttribute:"bodystyleCode",initialize:function(){},parse:function(b){},getByCategoryAndFeature:function(c,d){var b=this.get("categories");if(b&&b[c]&&b[c].features[d]){return b[c].features[d]}else{return null}},getFormattedFeature:function(c,b){if(!c){return""}switch(c.featureType){case"SimpleFeature":return c.avail;break;case"ListFeature":return c.formattedValues.join("<br/>");break;case"ValueFeature":var d=(b.display==="lowest")?c.formattedMin:c.formattedMax;return b.prefix+" "+d+" "+b.suffix;break;default:return"-"}}})}(mrm.$));(function(a){mrm.cmp.cnt_tbl_comp_1.collection.Bodystyle=Backbone.Collection.extend({model:mrm.cmp.cnt_tbl_comp_1.item.Bodystyle,initialize:function(c,b){},getBestChoice:function(b,f,l,e,c){var k=this.filter(function(m){var n=m.toJSON();return _.contains(c,m.id)&&n.categories[b]&&n.categories[b].features[f]});var g=_.unique(_.map(k,function(m){return m.toJSON().categories[b].features[f].featureType},this));if(g.length!==1){return[]}if(g[0]==="ValueFeature"){var j=_.map(k,function(m){return m.toJSON().categories[b].features[f][l]},this);var h=(e==="lowest")?_.min(j):_.max(j);var d=_.filter(k,function(m){return m.toJSON().categories[b].features[f][l]===h},this);return d}return[]}})}(mrm.$));(function(a){mrm.cmp.cnt_tbl_comp_1.view.Table=Backbone.View.extend({$thead:null,$firstRow:null,$checkboxes:null,tableIndex:{},headerOffset:a("#mds-area-header").outerHeight(),theadHeight:0,tableHead:[],slotManager:null,numberOfColumns:0,valueKeyMapping:{lowest:"min",highest:"max"},events:{"click .toggle":"onToggleClick","click .back":"onBackClick","click .remove":"onRemoveClick","change input:checkbox":"onSelectionChange"},initialize:function(b){this.$thead=this.$el.find("thead");this.$firstRow=this.$el.find("tbody:first tr:first > *");this.$checkboxes=this.$thead.find("th:first ul :checkbox");this.theadHeight=this.$thead.height();this.createTableIndex();this.columnHeaderTemplate=Handlebars.compile(b.headerTemplateHtml);this.numberOfColumns=this.tableHead.length;this.slotManager=new mrm.util.SlotManager(this.numberOfColumns);this.$thead.css("top",this.headerOffset);_.defer(a.proxy(function(){a.eventDispatcher.trigger("HMC_clearAll")},this));this.setBindings()},setBindings:function(){a(window).on("scroll",a.proxy(this.onScroll,this));a.eventDispatcher.on("HMC_addItem",a.proxy(this.onAddItem,this));a.eventDispatcher.on("HMC_removeItem",a.proxy(this.onRemoveItem,this));a.eventDispatcher.on("HMC_tableLock",a.proxy(function(){this.$checkboxes.filter(":not(:checked)").prop("disabled",true).checkBox("update")},this));a.eventDispatcher.on("HMC_tableUnlock",a.proxy(function(){this.$checkboxes.prop("disabled",false).checkBox("update")},this));a.eventDispatcher.on("HMC_clearAll",a.proxy(function(b,c){this.$checkboxes.prop("checked",false).prop("disabled",false).checkBox("update");_.times(this.numberOfColumns,function(d){this.clearColumn(d)},this);this.slotManager.clearAll()},this));a.eventDispatcher.on("HMC_changeMode",a.proxy(function(b,c){if(c.mode==="compare"){this.resetCategoriesFolding()}},this))},onToggleClick:function(b){a(b.target).closest("tr").toggleClass("fold").nextAll().toggle()},onBackClick:function(b){a.eventDispatcher.trigger("HMC_changeMode",{mode:"choose"})},onRemoveClick:function(b){b.preventDefault();a.eventDispatcher.trigger("HMC_removeItem",{items:[a(b.target).data("id")]})},onSelectionChange:function(d){var b=a(d.target);var c=b.is(":checked")?"HMC_addItem":"HMC_removeItem";a.eventDispatcher.trigger(c,{items:[b.val()]})},onAddItem:function(b,c){_.each(c.items,function(e){var d=this.slotManager.add(e);if(d>=0){this.$checkboxes.filter('[value="'+e+'"]').prop("checked",true).checkBox("update");this.fillColumn(d,e);this.clearEmptyRows();if(this.slotManager.isFull()){a.eventDispatcher.trigger("HMC_tableLock")}}},this);this.setHighlighting()},onRemoveItem:function(b,c){_.each(c.items,function(e){var d=this.slotManager.remove(e);if(d>=0){this.$checkboxes.filter('[value="'+e+'"]').prop("checked",false).checkBox("update");this.clearColumn(d);if(!this.slotManager.isFull()){a.eventDispatcher.trigger("HMC_tableUnlock")}}},this);this.setHighlighting()},resetCategoriesFolding:function(){this.$el.find("tbody tr.thead:not(.fold) .toggle").trigger("click");this.$el.find("tbody:first tr.thead.fold:not(.empty) .toggle").trigger("click")},clearEmptyRows:function(){_.each(this.tableIndex,function(d,c){var e=0;var b=0;_.each(d,function(h,g){var f=0;_.each(h.cells,function(j){e++;if(j.html()=='<span class="status-n-a"></span>'||j.html()==""){f++;b++}},this);if(f==3){h.cells[0].parent().addClass("empty")}else{h.cells[0].parent().removeClass("empty")}},this);if(e==b){this.$el.find("tbody[data-category="+c+"] tr.thead").addClass("empty")}else{this.$el.find("tbody[data-category="+c+"] tr.thead").removeClass("empty")}},this)},fillColumn:function(c,e){var d=this.collection.get(e);if(!d){return}var b=_.extend({id:e},mrm.conf.cmp.cnt_tbl_comp_1.bodystyles[e]);this.tableHead[c].html(this.columnHeaderTemplate(b));_.each(this.tableIndex,function(g,f){_.each(g,function(l,k){var h=d.getByCategoryAndFeature(f,k);if(h){var j="";if(h.featureType==="SimpleFeature"){j+='<span class="status-';switch(h.avail){case"notAvailable":j+="n-a";break;case"standardForAll":j+="standard";break;default:j+="available";break}j+='"></span>'}else{j=d.getFormattedFeature(h,l.config)}l.cells[c].html(j)}else{l.cells[c].html('<span class="status-n-a"></span>')}},this)},this)},clearColumn:function(b){this.tableHead[b].html("");_.each(this.tableIndex,function(c){_.each(c,function(d){d.cells[b].html("")},this)},this)},setHighlighting:function(){this.$("td.highlight").removeClass("highlight");var b=_.compact(this.slotManager.toArray());if(b.length<2){return}_.each(this.tableIndex,function(d,c){_.each(d,function(g,f){if(g.config.highlight!=="none"){var e=this.collection.getBestChoice(c,f,this.valueKeyMapping[g.config.display],g.config.highlight,b);_.each(_.pluck(e,"id"),function(h){g.cells[this.slotManager.getIndexByContent(h)].addClass("highlight")},this)}},this)},this)},onScroll:function(d){var b=a(window).height()<this.$el.height()+this.theadHeight-this.$thead.height();var e=this.$el.offset().top;var c=this.$el.offset().top+this.$el.height()-this.$thead.height();var f=a(window).scrollTop()+this.headerOffset;if(b&&!this.isSticky&&f>e&&f<c){this.isSticky=true;this.$thead.addClass("sticky");this.$firstRow.css("padding-top",parseInt(this.$firstRow.css("padding-top"))+this.$thead.height())}else{if(!b||(this.isSticky&&(f>c||f<e))){this.isSticky=false;this.$firstRow.css("padding-top",parseInt(this.$firstRow.css("padding-top"))-this.$thead.height());this.$thead.removeClass("sticky")}}},createTableIndex:function(){_.each(this.$el.find("thead tr:first th:not(:first)"),function(c,b){this.tableHead[b]=a(c)},this);_.each(this.$el.find("tbody"),function(c,d){var b=a(c);var e=b.data("category");this.tableIndex[e]={};_.each(b.find("tr:not(.thead)"),function(k,f){var h=a(k);var g=h.data("feature");this.tableIndex[e][g]={config:h.data(),cells:[]};_.each(h.find("td"),function(l,j){this.tableIndex[e][g].cells[j]=a(l)},this)},this)},this)}})}(mrm.$));(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{bbc_n01:{init:function(d){var b=this;a("#mds-area-header").on("loadBBC","div.n01",function(f){var c=a(this);if(c.find(".footer ul.ui-layout-justified").length>0){b.justifyFooter(c.find(".footer ul.ui-layout-justified"))}})},justifyFooter:function(c){var d=c.width();var e=0;c.find("li").each(function(){e+=a(this).outerWidth(true)});var b=(d-e)/c.find("li").length;c.find("li").each(function(){var f=a(this).width();var g=f+b;a(this).css("width",g)})}}})}(mrm.$));(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{bbc_n01b:{init:function(b){this.setBindings()},setBindings:function(){var b=this;a("#mds-area-header").on("mouseleave","div.n01b ul.dropdown > li > a:not(.hasChildren)",function(c){a(this).closest("li").removeClass("li_active")});a("#mds-area-header").on("bbcContentShow","div.n01b div.bbcContent",function(c){var d=a(c.target);a(this).addClass("visible").parent(".content").addClass("bbcContentVisible");if(!d.data("initDone")){mrm.util.initDomContent(d.data("initDone",true))}}).on("bbcContentHide","div.n01b div.bbcContent",function(c){a(this).removeClass("visible").parent(".content").removeClass("bbcContentVisible")});a("#mds-area-header").on("firstLevelNavHideAllClosedBbc","div.n01b",function(c){a(this).children(".content").removeClass("bbcContentVisible")})}}})}(mrm.$));(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{bbc_n02b:{$nugget:null,init:function(b){this.$nugget=a("body").append().find("span.nugget").get(0);this.setBindings()},bbcShrinkHeightToViewport:function(f,d){var c=a("#mds-area-header"),e=f.closest("div.modBaseballcard.n02b"),b=a(window).height(),j,h,g;this.bbcResetHeight(f,d);j=c.height()+e.height();h=j-b;g=b<j;e.toggleClass("reducedHeight",g);if(c.css("position")!=="fixed"||!g){return false}this.bbcHeightAdjust(f,d,h)},bbcHeightAdjust:function(d,c,e){var b;if(!e){return}b=Math.max(30,d.filter(":visible").height()-e);d.height(b);d.find("img").css("margin-top",-e/2);c.css("top",function(f,g){g=parseInt(g,10);return(!e?g:Math.max(0,g-e))+"px"})},bbcResetHeight:function(c,b){c.height("auto");c.find("img").css("margin-top","auto");b.css("top",function(d,e){if(!b.data("resetTop")){b.data("resetTop",b.position().top)}return b.data("resetTop")+"px"})},setNetPricingCluetips:function(){a(".tn02b_nav_carline_detail .modNav_vehicle_selection_1 div dl dd a[cluetip-title*=' ']:not(.cluetip_vi_8_applied)").addClass("cluetip_vi_8 cluetip_vi_8_applied");var c=a.extend({},mrm.conf.plugin.cluetip||{},{sticky:true,titleAttribute:"cluetip-title",activation:"click",disableScroll:true});a(".cluetip_vi_8").removeClass("cluetip_vi_8").cluetipWrap(c)},setBindings:function(){var c=this,b=a("#mds-area-header");b.on("click",".n02b .modNav_carline_selection_1 > ul > li a, .n02b .modNav_vehicle_selection_1 > dl li a, div.modVi_1 dl dt, div.modVi_1 dl dd",function(d){d.preventDefault();if(a("#cluetip").is(":visible")){a("#cluetip").css("display","none")}});b.on("loadBBC","div.n02b",function(g){var d=a(this).find("div.modNav_vehicle_selection_1 li.attributes ul");var f=a(this).find("div.modNav_carline_selection_1 div.modVi_1");f.each(function(){var e=a(this);if(!e.children("dl").length){e.append("<dl><dt>&nbsp;</dt><dd>&nbsp;</dd></dl>")}});d.each(function(){var e=a(this);if(!e.children("li").length&&!d.hasClass("ll")){e.parent("li.attributes").remove()}})});b.on("click",".n02b .modNav_carline_selection_1 > ul > li",function(h){var g,d,k=a(this),j=a(k.find("a").prop("hash")),f=k.addClass("active").siblings(".active").removeClass("active").andSelf().children(".nugget");k.append(f.length?f:a("<span />").addClass("nugget")).closest("ul").addClass("activated");if(a(this).parents(".modNav_prim_2.grid_style").length){a(this).parents(".modNav_carline_selection_1").siblings(".nav_carline_bbc").height(382)}j.show({duration:0,complete:function(){if(!a(this).hasClass("configured")&&a(this).parents(".modNav_prim_2.grid_style").length>0){a(this).addClass("configured");var e=a(this).find("img.mm");a.each(e,function(){var m=a(this).parents("figure").width();var l=a(this).width();if(l<m){a(this).width(m)}if(l>m){var n=(l-m)/2;a(this).css("margin-left",-n)}})}}}).siblings("div.modNav_vehicle_selection_1").hide();j.children("dl").find("li").first().trigger("click");k.trigger("click.Nav_carline_selection_1");h.stopPropagation();g=j.children("div").children("figure");d=j.children("dl");c.bbcShrinkHeightToViewport(g,d);c.setNetPricingCluetips()});b.on("click",".n02b .modNav_vehicle_selection_1 > dl li",function(h){var g,f,j=a(this),d=a(j.find("a").prop("hash"));j.addClass("active").siblings(".active").removeClass("active");d.show().siblings("div.modVi_8").hide();h.stopPropagation();g=d.children("figure");f=d.siblings("dl");c.bbcShrinkHeightToViewport(g,f);c.setNetPricingCluetips()})}}})}(mrm.$));(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{body_style_selection:{init:function(e){a(".modBody_style_selection ul li div a[cluetip-title*=' ']").addClass("cluetip_body_style_selection");var d=a.extend({},mrm.conf.plugin.cluetip||{},{sticky:true,titleAttribute:"cluetip-title",activation:"click"});a(".cluetip_body_style_selection").cluetipWrap(d)}}})}(mrm.$));(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{btn_cookie_privacy_1:{$ctx:null,init:function(d){this.$ctx=a(".modBtn_cookie_privacy_1");var b=mrm.util.cookie.getConfirmedTrackingProvider();if(b!==null){if(b.length>0){this.$ctx.find("a.allow").addClass("ui-state-active")}else{this.$ctx.find("a.deny").addClass("ui-state-active")}}this.setBindings()},setBindings:function(){this.$ctx.find("a.deny").on("click",a.proxy(this.onDeny,this));this.$ctx.find("a.allow").on("click",a.proxy(this.onAllow,this))},onDeny:function(b){b.preventDefault();mrm.util.cookie.denyTrackingProvider();this.$ctx.find("a.deny").addClass("ui-state-active")},onAllow:function(b){b.preventDefault();mrm.util.cookie.allowTrackingProvider();this.$ctx.find("a.allow").addClass("ui-state-active");if(this.$ctx.hasClass("iframe_fallback")){location.reload()}}}})}(mrm.$));(function(a){mrm.mod.Btn_lyr_1=mrm.mod.AbstractMod.extend({events:{},prepare:function(){var b=mrm.$.extend({},mrm.conf.plugin.cluetip||{},{width:125});this.$ctx.find("a").cluetipWrap(b);this.initWindowCheck()},seconds:1000,minutes:60*this.seconds,chatCheckInterval:30,chatIntervalObj:{},$chatBtn:{},chatWindowAvailabilityStartArray:Array(),chatWindowAvailabilityEndArray:Array(),checkChatAvailability:function(b){if(b===undefined){b=moment()}else{b=moment(b)}console.log("current date: %o",b);var c=this.chatWindowAvailabilityStartArray[b.day()];var d=this.chatWindowAvailabilityEndArray[b.day()];c=c.date(b.date());c=c.month(b.month());c=c.year(b.year());d=d.date(b.date());d=d.month(b.month());d=d.year(b.year());console.log("chat window start: %o",c.format());console.log("current date: %o",b.format());console.log("chat window end: %o",d.format());if(b.isBetween(c,d)){this.$chatBtn.style.display="block";console.log("Chat Active")}else{this.$chatBtn.style.display="none";console.log("Chat Inactive")}},initWindowArray:function(c,b){if(Array.isArray(c)&&Array.isArray(b)){this.chatWindowAvailabilityStartArray=c.slice(0);this.chatWindowAvailabilityEndArray=b.slice(0)}},initWindowCheck:function(b){var c=2000;var d=500;if(b===undefined||isNaN(b)){b=10}jQuery(".btn_lyr_c1").on("DOMContentLoaded",window.setTimeout(function(){var e=".btn_lyr_c1 a.btn[title='Live Chat']";if(document.querySelector(e)&&0!=document.querySelector(e).parentNode.length){this.$chatBtn=document.querySelector(e).parentNode;this.$chatBtn.style.display="none";if(0==this.chatWindowAvailabilityStartArray.length||0==this.chatWindowAvailabilityEndArray.length){console.error("Chat availability windows are not initalized");return false}this.checkChatAvailability()}else{console.error("Chat button not found (%o)",b);if(c>b){initWindowCheck(b+d)}else{document.querySelector(".btn_lyr_c1").style.display="none"}return false}var g=this.chatCheckInterval-(moment().minutes()%this.chatCheckInterval);var f=this;window.setTimeout(function(){f.checkChatAvailability();f.chatIntervalObj=window.setInterval(f.checkChatAvailability,f.chatCheckInterval*f.minutes)},parseInt((g*this.minutes)+(30*this.seconds)))},b))},})})(mrm.$);(function(a){a.extend(mrm.cmp,{cnt_acc_catalog_1:{initMod:function(d){var e=a("ul.accessory_items",d),f=e.children("li"),c=a(),b=this;if(typeof(b.leftNavigationSticky)==="object"){b.leftNavigationSticky.init()}d.find(".name_sort_asc, .name_sort_desc, .price_sort_asc, .price_sort_desc").on("click",function(k){k.preventDefault();var g;var j;if(a(this).hasClass("name_sort_asc")||a(this).hasClass("name_sort_desc")){g="sortName";j=a(this).hasClass("name_sort_asc")?"asc":"desc"}if(a(this).hasClass("price_sort_asc")||a(this).hasClass("price_sort_desc")){g="sortPrice";j=a(this).hasClass("price_sort_asc")?"asc":"desc"}var h=f.sort(function(m,l){var n=0;if(a(m).data(g)<a(l).data(g)){n=j=="asc"?-1:1}if(a(m).data(g)>a(l).data(g)){n=j=="asc"?1:-1}return n});e.empty();e.append(h);b.setupDialogEvents(d,f);a(this).parent().find(".selected").removeClass("selected");a(this).addClass("selected")});a("ul.category_filters",d).on("click","a[data-category]",function(g){g.preventDefault();a(this).closest("li").addClass("active").siblings().removeClass("active");var h=a(this).attr("data-category");if(h==="all"){f.hide().not(".featured").show();if(typeof(b.leftNavigationSticky)==="object"){b.leftNavigationSticky.calculateBounds()}return}f.hide().filter("."+h).show();if(typeof(b.leftNavigationSticky)==="object"){b.leftNavigationSticky.calculateBounds()}}).find("a[data-category]:first").trigger("click");b.setupDialogEvents(d,f);f.children("div").equalHeights();if(d.find(".category_filters").hasClass("ui-vertical-tabs")){b.setSticky(d,"v")}else{b.setSticky(d,"h")}},setSticky:function(c,b){c.addClass(b=="v"?"stickyVertical":"stickyHorizontal");if(b=="v"){var d=c.find(".category_filters");window.onscroll=function(g){if(a(document).scrollTop()>=c.find(".accessory_item_container").offset().top-a("#mds-area-header").height()){var f=c.find(".accessory_item_container").offset().top-a("#mds-area-header").height()+c.find(".accessory_item_container").height()-d.height();if(a(document).scrollTop()>=f){d.removeClass("sticky");d.addClass("stickyBottom")}else{d.removeClass("stickyBottom");d.addClass("sticky")}}else{d.removeClass("sticky");d.removeClass("bottom")}}}else{var d=c.find(".category_filters");window.onscroll=function(g){if(a(document).scrollTop()>=c.find(".accessory_item_container").offset().top-a("#mds-area-header").height()-d.height()){var f=c.find(".accessory_item_container").offset().top-a("#mds-area-header").height()+c.find(".accessory_item_container").height()+d.height();if(a(document).scrollTop()>=f){d.removeClass("sticky");c.find(".accessory_item_container").css("margin-top","0")}else{d.addClass("sticky");c.find(".accessory_item_container").css("margin-top",d.height()+"px")}}else{d.removeClass("sticky");c.find(".accessory_item_container").css("margin-top","0")}}}},setupDialogEvents:function(c,d){var b=this;c.find(".modCnt_accessory_item_1").on("click","a.accDetail",function(h){var f=a(this).closest("li");var g=(a(this).closest(".ace_feed").length>0)?"accessories_ace_1":"accessories_1";h.preventDefault();$dialogContentWrp=a('<div class="dialogContentWrp" />').mrmDialog({dialogClass:g,destroyOnClose:true,autoOpen:false,resizeEvent:"updateDialogSize"});$dialogContentWrp.parent().find(".ui-widget-header").prepend('<a href="#" class="ui-dialog-titlebar-print ui-corner-all" role="button"><span class="ui-icon-printthick">Print</span></a>');$dialogContentWrp.parent().find(".ui-dialog-titlebar-print").click(function(j){var l=$dialogContentWrp.html();var e=window.open("","","height=280,width=980");var k=a("head").html();k=k.replace('rel="stylesheet"','rel="stylesheet" media="print"');k="<title>"+$dialogContentWrp.find(".tt").text()+"</title>";e.document.write("<html><head>");e.document.write(k);e.document.write("</head><body >");e.document.write(l);e.document.write("</body></html>");e.document.close();e.print();j.preventDefault()});$dialogContentWrp.dialog("widget").on("accCatshowPrevItem accCatshowNextItem",function(m,l){var k=l.position||0,n,j;if(m.type==="accCatshowNextItem"){k++}else{k--}n=d.filter(":visible").eq(k);j=n.find("a.accDetail").attr("href");if(n.length&&j){b.setDialogContent(j,$dialogContentWrp,n)}});b.setDialogContent(a(this).attr("href"),$dialogContentWrp,f)})},setDialogContent:function(c,d,b){a.get(c,function(h){var f=b.siblings().andSelf().filter(":visible"),e=f.index(b),g=f.length;d.dialog("open").empty().html(h);mrm.util.initDomContent(d);d.trigger("updateDialogSize").children(".mod").trigger("updatePagination",{position:e,total:g})})}}})}(mrm.$));(function(a){mrm.track=mrm.track||{};a.extend(mrm.track,{cnt_acc_catalog_1:{initTrack:function(c,d){var b=(mrm.util.touchDevice())?"touchstart":"click";c.find(".catalog_sort > a").on(b,function(){var e=a(this).text();var f=a(".category_filters .active span").text();f=f.substr(0,f.indexOf("("));a.trim(f);mrm.util.trackEvent("click_cta",{section:d,linkname:f+":toggle:"+e})});c.find("ul.category_filters a").on(b,function(){var e=a(this).find("span").text();e=e.substr(0,e.indexOf("("));a.trim(e);mrm.util.trackEvent("click_cta",{section:d,linkname:"tab:"+e})})}}})}(mrm.$));(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{cnt_accessories_1:{initMod:function(d){var c=this,f=d.find("div.detailsNavigation"),e=d.closest(".ui-dialog"),b;d.imagesLoaded(function(g,h,j){a(".mmScroll",d).mmScroll({animateControls:false,scroll:{duration:0}});d.children("div.mmScroll, div.accessoryInfo").equalHeights();if(e.height()>a(window).height()){e.css("top",(a(window).scrollTop()+10)+"px")}});f.on("click","a.next:not(.disabled), a.prev:not(.disabled)",function(j){var g=a(this),h=g.hasClass("next")?"next":"prev";if(!c.isStepBlocked(h,b)){a(this).trigger(a(this).hasClass("next")?"accCatshowNextItem":"accCatshowPrevItem",b)}return false});d.on("updatePagination",function(h,g){g=g||{};var j=!isNaN(g.position)?g.position+1:0;b={position:(!isNaN(g.position)?g.position:0),total:g.total||0};f.find("a.prev").toggleClass("disabled",c.isStepBlocked("prev",b));f.find("a.next").toggleClass("disabled",c.isStepBlocked("next",b));f.children(".currentPosition").text(j||0);f.children(".totalPositions").text(g.total||"")});if(d.hasClass("ace_feed")){c.setupTableEvents(d)}if(e.height()>a(window).height()){e.css("top",a(window).scrollTop()+"px")}},isStepBlocked:function(c,b){return(c==="next"&&b.position===b.total-1)||(c==="prev"&&b.position===0)},setupTableEvents:function(b){$slideContainer=b.find(".mmScrollItems");$rowToggles=b.find("tr.view_toggle");$rowToggles.each(function(c,d){a(d).on("click",function(){var e=a(this).data("imgId");$rowToggles.removeClass("active");$slideContainer.trigger("slideTo",a("#"+e));a(this).addClass("active")})})}}})}(mrm.$));(function(a){mrm.track=mrm.track||{};a.extend(mrm.track,{cnt_accessories_1:{initTrack:function(c,d){var b=(mrm.util.touchDevice())?"touchstart":"click";c.find(".accessoryInfo .cta_nav_container a span").on(b,function(){var e=a(this).text();e=e.trim();mrm.util.trackEvent("click_cta",{section:"modal",linkname:"button:"+e})});c.find(".detailsNavigation .prev span").on(b,function(){var e=a(".accessoryInfo h3").text();mrm.util.trackEvent("click_cta",{section:"modal",linkname:"arrow:prev:"+e})});c.find(".detailsNavigation .next span").on(b,function(){var e=a(".accessoryInfo h3").text();mrm.util.trackEvent("click_cta",{section:"modal",linkname:"arrow:next:"+e})})}}})}(mrm.$));(function(a){mrm.mod.Cnt_accessory_item_1=mrm.mod.AbstractMod.extend({events:{},prepare:function(){var d=this;var b=this.$ctx.children("div.tx").find("span");var c=this.$ctx.children("div.tx").height();while(b.outerHeight()>c){b.text(function(e,f){return f.replace(/\W*\s(\S)*$/,"...")})}}})})(mrm.$);(function(a){mrm.track=mrm.track||{};a.extend(mrm.track,{cnt_accessory_item_1:{initTrack:function(c,d){var b=(mrm.util.touchDevice())?"touchstart":"click";c.find("a.accDetail").on(b,function(){var e=a(this).attr("href");var g=a(".category_filters .active span").text();g=g.substr(0,g.indexOf("("));g=a.trim(g);var h=a(this).parent();var f=h.find("figcaption span").text();mrm.util.trackEvent("click_cta",{section:d,linkname:g+":block:"+f})})}}})}(mrm.$));(function(a){mrm.mod.Cnt_background_1=mrm.mod.AbstractMod.extend({events:{},maxWidth:1920,prepare:function(){var s=this,h=s.$ctx,e=h.data("bg-type"),j=h.data("width-type"),o=h.data("x-offset"),g=h.data("y-offset"),p=h.data("z-index"),c=h.data("width"),r=h.data("img-src"),m=h.data("color-type"),l="#"+h.attr("data-bg-color1"),k="#"+h.attr("data-bg-color2"),n=h.data("gradient-direction"),q=h.data("height");switch(e){case"image":h.css("background-image","url('"+r+"')");q=h.data("height");break;case"color":if(m==="solid"){h.css("background-color",l)}else{if(m==="gradient"){var b="180deg",d=0;if(n==="topToBottom"){b="180deg";d=0}else{if(n==="leftToRight"){b="90deg";d=1}}h.css("background","linear-gradient("+b+", "+l+", "+k+")");if(mrm.util.ie8()){h.css("filter","progid:DXImageTransform.Microsoft.gradient(GradientType="+d+",startColorstr='"+l+"', endColorstr='"+k+"')");h.css("-ms-filter","progid:DXImageTransform.Microsoft.gradient(GradientType="+d+",startColorstr='"+l+"', endColorstr='"+k+"')")}if(a.browser.msie&&parseInt(a.browser.version,10)===9){h.css("filter","progid:DXImageTransform.Microsoft.gradient(GradientType="+d+",startColorstr='"+l+"', endColorstr='"+k+"')")}}}break;case"custom":break}switch(j){case"fixed":h.width(c);var f=(0-(c-980)/2)+o;h.css("margin-left",f+"px");break;case"liquid":h.width(c);var f=0-(c-980)/2;h.css("margin-left",f+"px");h.css({height:h.height(),maxWidth:s.maxWidth,overflow:"hidden"});h.css({overflow:"visible","padding-left":0,"padding-right":0});a(window).resize(a.proxy(function(){this.resize(h)},this));s.resize(h);break}h.css("margin-top",g);h.css("z-index",p);h.css("height",q)},resize:function(d){var c=this;var b=a(window).width(),e=980;var f=(e-b)*0.5;f=f>0?0:f;d.css({"margin-left":f,"margin-right":f});if(b>c.maxWidth){d.css("left",(b-c.maxWidth)*0.5)}else{d.css("left",0)}}})})(mrm.$);(function(a){mrm.mod.Cnt_btn_1=mrm.mod.AbstractMod.extend({events:{},prepare:function(){var b=this;b.$ctx.find("a.btn_close").on("click",function(){window.close()})}})})(mrm.$);(function(a){mrm.track=mrm.track||{};a.extend(mrm.track,{cnt_btn_1:{initTrack:function(d,e){var c=(mrm.util.touchDevice())?"touchstart":"click";var b=d.parents(".mod");e=(b.length>0&&b.find("h2.hl_2 p").length>0)?a.trim(b.find("h2.hl_2 p").text()):e;d.find("a").on(c,function(){var f=a.trim(a(this).text());var g=a(this).closest(".ui-helper-visible.dynamic").attr("id");if(typeof(g)!=="undefined"){f=g+":button:"+f}else{f="button:"+f}mrm.util.trackEvent("click_cta",{section:e,linkname:f})})}}})}(mrm.$));jQuery(window).on("load",function(){jQuery(".quantum-tools a.shppngLnk.sl-raq").click(function(){var c=jQuery("a.shppngLnk.sl-raq").attr("href");var b=decodeURIComponent(c);var a=b.replace("carline","x-carline");a=a.replace("bodyType","x-bodystyle");a=a.replace("modelyear","x-modelyear");a=a.replace("trim","trimVcCode");jQuery("a.shppngLnk.sl-raq").attr("href",a)})});(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{cnt_coupon_1:{init:function(b){mrm.util.log("[mrm.cmp.cnt_coupon_1] Context: "+b);a(".cnt_coupon_1 li.service-facebook a").on("click",function(){var c=mrm.cmp.cnt_coupon_1.findCouponId(a(this));mrm.util.trackEvent("click_cta",{section:c,linkname:"facebook"})});a(".cnt_coupon_1 li.service-twitter a").on("click",function(){var c=mrm.cmp.cnt_coupon_1.findCouponId(a(this));mrm.util.trackEvent("click_cta",{section:c,linkname:"twitter"})});a(".cnt_coupon_1 li.service-email a").on("click",function(){var c=mrm.cmp.cnt_coupon_1.findCouponId(a(this));mrm.util.trackEvent("click_cta",{section:c,linkname:"email"})})},findCouponId:function(c){var b=(a(c).closest(".cnt_coupon_1").find("a:first").attr("name"));if(b==""){b=(a(c).closest(".modCnt_well_1").attr("id"));if(typeof b=="undefined"){b="no section"}}return b}}})}(mrm.$));(function(a){mrm.mod.Cnt_dealer_intro_1=mrm.mod.AbstractMod.extend({events:{"click a.print":"onPrintClick"},options:{selector:".modCnt_dealer_intro_1",buttonMapping:{raq:"requestQuote",rtd:"requestTestdrive",ras:"requestService"}},prepare:function(){var c=this;var e=c.$ctx.find(".shoppingLink");a.each(c.options.buttonMapping,function(j,g){var f=c.cfg.shoppingLinks[g];var k=e.filter("."+j).closest("li").toggleClass("ui-helper-hidden",f!==true&&f.visible!==true);if(!a.isPlainObject(f)){return true}var h;if(f.dealerBAC){h="dealerBAC="+f.dealerBAC}else{if(f.dealerUPSC){h="dealerID="+f.dealerUPSC+"&dealerCADC="+(f.dealerCADC||"")}}k.find("a").attr("href",function(m,l){if(l==="#"){return l}return l+(l.indexOf("?")===-1?"?":"&")+h})});var b=c.$ctx.find(".col:first > .text-cms");var d=c.$ctx.find(".col:first > .text-application");if(d.length>0&&a.trim(d.html())===""){b.toggleClass("ui-helper-hidden",false);d.toggleClass("ui-helper-hidden",true)}},onPrintClick:function(b){event.preventDefault();mrm.util.print()}})})(mrm.$);(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{cnt_dealermap_2:{$dealerMapCmp:null,_externalDomain:"",_dataUrl:"/bypass/gmna/dealerlocator/services/getdealers?type=PostalCode&format=JSON&x-country="+mrm.util.locale.getCountry().toUpperCase()+"&x-language="+mrm.util.locale.getLang()+"&x-brand=Chevrolet&postalcode=",_mainmap:null,_infowindow:null,_latlng:null,_cityState:"",_geo:null,_bounds:null,_markerArray:[],_dealerMapDOMObj:null,_conf:{defaultRadius:30,defaultResults:5,availableMapViews:"maps",showDealerWebsiteLink:true,dealerWebsiteLabel:"Dealer Website",showDistanceFromOrigin:true,distanceFromOriginLabel:"Distance",allDealersUrl:null,showFax:true,setInfoWidth:true,showPhone:true,servicesFilter:"all",mapWidth:"100%",mapHeight:"275px"},_advancedLink:"",_charArr:"A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z".split(","),_protocol:(location.protocol==="https:")?"https://":"http://",init:function(){if(!a("html").hasClass("cq-wcm-edit")){this.$dealerMapCmp=a("div.cnt_dealermap_2");this._dealerMapDOMObj=this.$dealerMapCmp.find("#gmv_dealermap")[0];this._externalDomain=(typeof(MRM_EXTERNAL_DOMAIN)!="undefined")?MRM_EXTERNAL_DOMAIN:"";if(!this.$dealerMapCmp.length){return}var b=this;b._conf.allDealersUrl=this.$dealerMapCmp.data("allDealerLink");a.extend(this._conf,mrm.conf.cmp.cnt_dealermap_2||{});if((b._conf.mapWidth!=="")&&(b._conf.mapWidth!=="0")){if(!isNaN(b._conf.mapWidth)){b._conf.mapWidth+="px"}this._dealerMapDOMObj.style.width=b._conf.mapWidth}if((b._conf.mapHeight!=="")&&(b._conf.mapWidth!=="0")){if(!isNaN(b._conf.mapHeight)){b._conf.mapHeight+="px"}this._dealerMapDOMObj.style.height=b._conf.mapHeight}b._advancedLink=(a("div").hasClass("gmdsWidget"))?b.$dealerMapCmp.find(".form_elements a:last-child").attr("href").split("/",3).join("/"):"";b.$dealerMapCmp.find("div.dealer_all_results_container a.btn_sec:first").attr("href",b._conf.allDealersUrl);var c=null;if(mrm.util.cookie.get("cookie_customer_location")!==null){try{var h=a.parseJSON(mrm.util.cookie.get("cookie_customer_location"));c=h.zipcode}catch(g){}}else{if(mrm.util.cookie.get("GMWP_location")!==null){try{var h=mrm.util.cookie.get("GMWP_location");var f=h.split(",");for(i=0;i<f.length;i++){var d=f[i].split("=");if(d[0]==="zip"){if(d[0]!==""){c=d[1].substr(0,5)}break}}}catch(g){}}}if(this._conf.leavingNotification){b.initNotification()}if(c!==null){a("div.cnt_dealermap_2 div.form_elements input.gmv_zipcode").val(c)}this.createBinds();if(b._conf.geoLocation===true){b.initGeoLocation()}}},initMap:function(){var b=this;b.$dealerMapCmp.find("div.service_loading").css("visibility","visible");if(window.google==null||window.google.maps==null){a.getScript("//maps.googleapis.com/maps/api/js?client=gme-adamopelag&v=3.23&language="+mrm.util.locale.getLang()+"&region="+mrm.util.locale.getCountry(),function(c,e,d){if(e==="success"){b.initMapContinue()}})}else{b.initMapContinue()}},initMapContinue:function(){var b=this;var c=b.$dealerMapCmp.find("input.gmv_zipcode").val();var e=google.maps.MapTypeId.HYBRID;var d=true;b.$dealerMapCmp.find("div.results_container").slideDown("slow");switch(b._conf.availableMapViews){case"satellite":e=google.maps.MapTypeId.HYBRID;d=false;break;case"maps":e=google.maps.MapTypeId.ROADMAP;d=false;break}b._mainmap=new google.maps.Map(this._dealerMapDOMObj,{zoom:3,streetViewControl:false,scaleControl:true,mapTypeControl:d,mapTypeId:e,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL}});b._geo=new google.maps.Geocoder();b._infowindow=new google.maps.InfoWindow({content:"loading..."});b._mainmap.setCenter(new google.maps.LatLng(37.055177,-95.668945));b._mainmap.setZoom(4);a("div.gmv_maploading").css("height","0").show();b.executeAJAX();if(!b.$dealerMapCmp.find(".info_container").length){b.$dealerMapCmp.find(".dealer_all_results_container").prepend('<div class="info_container"><div class="dealer_info"></div><div class="dealer_shopping_links"></div></div>')}if(b._conf.setInfoWidth){b.$dealerMapCmp.find(".info_container").width(b.$dealerMapCmp.find("#gmv_dealermap").width()-20)}if(typeof(Omniture_s)!="undefined"){mrm.util.tagging.omniture_tl(this,window.location.pathname,"o",undefined,{events:"event7",prop16:"locate a dealer",prop27:"global_nav:locate a dealer",prop32:"global_nav: locate a dealer: go",eVar35:c})}},initGeoLocation:function(){var c=mrm.util.geoLocation,d=this.$dealerMapCmp,b="";if(c&&c.available()){var f=d.find("input");var b=this._conf.geoLocationError;f.after(a('<div id="error_msg">').text(b));f.attr("rel","#error_msg");f.before(a('<button class="btn_prim geolocate"><span title="'+this._conf.geoLocationTooltip+'">geo</span></button>').on("click",function(g){g.preventDefault();g.stopPropagation();c.getLocationZip(function(h){if(h.status==="success"){f.val(h.postal_code);d.find(".gmv_infolink").click()}else{f.addClass("gl_error")}})}));var e={positionBy:"auto",width:"auto",local:true,hideLocal:true,cluetipClass:"location_err",showTitle:false,splitTitle:"",cluezIndex:9999999,onActivate:function(g){if(!f.hasClass("gl_error")){return false}return true}};f.cluetip(e)}},executeAJAX:function(){var b=this;var d="",c=b.$dealerMapCmp.find("input.gmv_zipcode").val();a.ajax({dataType:(b._externalDomain!=="")?"jsonp":"json",async:true,url:b._externalDomain+b._dataUrl+c,cache:true,success:function(h,g){var e=0;for(var f=0;f<h.length;f++){if((b._conf.servicesFilter.toLowerCase()=="all")||(b._conf.servicesFilter.toLowerCase()=="")){if(e<b._conf.defaultResults){b.addMarker(h[f],e)}e++}}b.$dealerMapCmp.find("p.dealer_results").html((h.length)+" dealers found near "+c);a("div.gmv_maploading").animate({height:b._conf.mapHeight});b.$dealerMapCmp.find("div.service_loading").css("visibility","hidden")},error:function(){b.$dealerMapCmp.prepend('<div class="error">'+b._conf.serviceUnavailableText+"</div>");b.$dealerMapCmp.find("div.error").fadeTo(0,0).delay(1000).fadeTo(1000,100).delay(5000).fadeTo(1000,0)}});return d},clearMap:function(){var b=0;if(this._markerArray.length){for(b=0;b<this._markerArray.length;b++){this._markerArray[b].setMap(null)}this._markerArray=[]}},addMarker:function(g,f){var p=this;var e=(p._conf.showDealerWebsiteLink&&(g.url!=""))?'<a href="'+g.url+'" target="_blank">'+g.brandSiteName+"</a>":g.brandSiteName;var h=(p._conf.showDealerWebsiteLink&&(g.url!=""))?'<br /><a href="'+g.url+'" target="_blank">'+p._conf.dealerWebsiteLabel+"</a>":"";if(this._conf.leavingNotification){e=(p._conf.showDealerWebsiteLink&&(g.url!=""))?'<a class="ddl-notification" href="javascript:void(0);" data-url="'+g.url+'" target="_blank" onclick="return false;">'+g.brandSiteName+"</a>":g.brandSiteName;h=(p._conf.showDealerWebsiteLink&&(g.url!=""))?'<br /><a class="ddl-notification" href="javascript:void(0);" data-url="'+g.url+'" target="_blank" onclick="return false;">'+p._conf.dealerWebsiteLabel+"</a>":""}var c=(p._conf.showPhone&&(g.contact.phone!=""))?g.contact.phone:"";var l=(p._conf.showFax&&(g.contact.fax!=""))?"FAX: "+g.contact.fax+"<br />":"";var b=(p._conf.showDistanceFromOrigin&&(!isNaN(parseFloat(g.distance.distance))))?"<br />Distance: "+parseFloat(g.distance.distance).toFixed(1)+" "+g.distance.unitOfLength:"";var k="";if(p._conf.shoppingLinks){for(iShoppingLink=0;iShoppingLink<p._conf.shoppingLinks.length;iShoppingLink++){var o=(p._conf.shoppingLinks[iShoppingLink].url.indexOf("?")==-1)?"?x-caller=lad&bacId="+g.dealerId:"&x-caller=lad&bacId="+g.dealerId;if(g.enableCID===""&&p._conf.shoppingLinks[iShoppingLink].id!=="searchInventory"){}else{k+='<a href="'+p._advancedLink+p._conf.shoppingLinks[iShoppingLink].url+o+'">'+p._conf.shoppingLinks[iShoppingLink].label+"</a>"}}if(k!==""){k='<div class="shoppingLinks">'+k+"</div>"}}var d=new google.maps.LatLng(parseFloat(g.address.latitude),parseFloat(g.address.longitud));var n=new google.maps.Marker({position:d,map:p._mainmap,title:g.dealerName,html:"<div><p>"+g.brandSiteName+"<br />"+g.address.street+"<br />"+g.address.city+", "+g.address.province+" "+g.address.postCode+"</p></div>",icon:p._protocol+"www.google.com/mapfiles/marker"+p._charArr[f]+".png"});var m={dealerTitle:e,dealerUrl:h,dealerPhone:c,dealerFax:l,dealerDistance:b};a.extend(true,m,g);var j=p.getDealerInfoHTML(n,m);google.maps.event.addListener(n,"click",function(){p.showDealerInfo(j,k);if(typeof(Omniture_s)!="undefined"){mrm.util.tagging.omniture_tl(true,window.location.pathname,"o",undefined,{prop16:"Nav Dealer Locator Component",prop32:"Dealer Map Marker - "+g.brandSiteName})}});p._markerArray.push(n);if(f===0){p._mainmap.setZoom(10);p._mainmap.panTo(d);p.showDealerInfo(j,k)}},getDealerInfoHTML:function(b,d){var c="";c+='<div style="background:url('+b.icon+') no-repeat;">';c+="<h3>"+d.dealerTitle+"</h3>";c+="<p>";c+=d.address.street;c+="<br />";c+=d.address.city+", "+d.address.province+" "+d.address.postCode;c+="<br />";c+=d.dealerPhone+d.dealerDistance+d.dealerUrl;c+="</p>";c+="</div>";return c},showDealerInfo:function(b,d){var c=this;c.$dealerMapCmp.find("div.info_container").slideUp("slow",function(){c.$dealerMapCmp.find("div.dealer_info").html(b);c.$dealerMapCmp.find("div.dealer_shopping_links").html(d);a(this).slideDown("slow")})},checkZipCode:function(d){if(d){d.preventDefault()}var l=this;var e=l.$dealerMapCmp.find("input.gmv_zipcode").val();var c="0123456789";var k=0;var g=1;var h="";if(mrm.util.locale.getCountry().toUpperCase()==="CA"){e=e.replace(/\s+/g,"");l.$dealerMapCmp.find("input.gmv_zipcode").val(e);var f=/\w\d\w\d\w\d/;var j=/\w\d\w[ ]\d\w\d/;if(!(f.test(e)||j.test(e))){alert(l._conf.searchboxInvalidText);proceed=0;l.$dealerMapCmp.find("input.gmv_zipcode").addClass("err")}}else{if(e.length!=5){alert(l._conf.searchboxInvalidText);g=0;l.$dealerMapCmp.find("input.gmv_zipcode").addClass("err")}else{for(k=0;k<5;k++){h=""+e.substring(k,(k+1));if(c.indexOf(h)=="-1"){g=0;alert("Invalid characters in your zip code. Please try again.");l.$dealerMapCmp.find("input.gmv_zipcode").addClass("err");return false}}}}if(g){l.$dealerMapCmp.find("input.gmv_zipcode").removeClass("err gl_error");l.initMap();var b=(mrm.util.cookie.get("cookie_customer_location")!==null)?a.parseJSON(mrm.util.cookie.get("cookie_customer_location")):{zipcode:e};b.zipcode=e;mrm.util.cookie.set("cookie_customer_location",JSON.stringify(b),{path:"/"})}},createBinds:function(){var b=this;b.$dealerMapCmp.find("div.form_elements a.arrow").on("click",function(c){b.checkZipCode(c)});b.$dealerMapCmp.find("input.gmv_zipcode").keypress(function(c){if(c.which==13){c.preventDefault();b.checkZipCode(c)}})},initNotification:function(){a("#ddl-body-title").text(this._conf.navBodyTitle);a("#ddl-independent").text(this._conf.navIndependent);a("#ddl-convenience").text(this._conf.navConvenience);a("#ddl-continue").text(this._conf.navContinueButton);a("#ddl-cancel").text(this._conf.navCancelButton);var c=a("#ddl-leaving-notification").dialog({dialogClass:"no-close",autoOpen:false,width:575,modal:true});var b;a(".content").on("click",".ddl-notification",function(){console.log("External Notification Has been clicked.");a("#ddl-leaving-notification").zIndex(100000);c.dialog("open");b=event.target.attributes.getNamedItem("data-url").nodeValue});a("#ddl-leaving-notification").on("click","#ddl-continue",function(){c.dialog("close");window.open(b,"newwin")});a("#ddl-leaving-notification").on("click","#ddl-cancel",function(){c.dialog("close")})}}})}(mrm.$));(function(a){mrm.mod.Cnt_expander_1=mrm.mod.AbstractMod.extend({prepare:function(){var c=this,b=c.$ctx.hasClass("accordion")?"accordion":"expander";mrm.util.log("[mrm.cmp.cnt_expander_1] Context: "+c.$ctx);if(b==="accordion"){c.$ctx.accordion({collapsible:true,autoHeight:false,header:"dt"});c.$ctx.find("dt").on("click",function(g){for(var f=jwplayer.getPlayers().length-1;f>=0;f--){try{if(jwplayer.getPlayers()[f].getState()==="PLAYING"){jwplayer.getPlayers()[f].pause()}}catch(g){}}if(typeof(aryPlayers)!="undefined"){for(var f=0;f<aryPlayers.length;f++){try{aryPlayers[f].pauseVideo()}catch(g){}}}});a(".nav_verticaltabs_1_nav_layer").find("li a").on("click",function(){for(var f=jwplayer.getPlayers().length-1;f>=0;f--){try{if(jwplayer.getPlayers()[f].getState()==="PLAYING"){jwplayer.getPlayers()[f].pause()}}catch(g){}}if(typeof(aryPlayers)!="undefined"){for(var f=0;f<aryPlayers.length;f++){try{aryPlayers[f].pauseVideo()}catch(g){}}}})}else{if(b==="expander"){var d={elem:c.$ctx},e=function(){d.elem=a(this).next("dd");d.active=a(this).children(".ui-icon").hasClass("ui-icon-triangle-1-s");a(this).children(".ui-icon").removeClass("ui-icon-triangle-1-"+(d.active?"s":"e")).addClass("ui-icon-triangle-1-"+(d.active?"e":"s"));d.elem.css("display",(d.active?"none":"block"))};c.$ctx.delegate("dt.ln","click",e)}}},after:function(){var b=this;b.$ctx.find("dt a").on("click",function(c){c.stopPropagation()})}})})(mrm.$);(function(a){mrm.mod.Cnt_faq_1=mrm.mod.AbstractMod.extend({events:{},prepare:function(){var b=this;this.$ctx.accordion({collapsible:true,autoHeight:false,header:"dt"})}})})(mrm.$);(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{cnt_handraiser_1:{modCfg:null,initMod:function(c){var b=this,d=a.extend({},mrm.conf.cmp.cnt_handraiser_opt_1);b.modCfg=mrm.conf.cmp.cnt_handraiser_1||{};if(c.closest(".modLyr_cnt_1").length){b.prepModal(c,b,d)}else{b.configureForm(c,b,d)}},configureForm:function(d,c,e){if(d.hasClass("formset")){return}c.errorSettings(d);c.setTabIndex();c.setColumnLayout(d);c.lblSetPosition(d,c);c.lblRequiredFields(d);c.setLblFieldWidths(d,c,e);c.setPositionCTA(d);c.setOmnitureEvents(d,c);var b=a("form",d);b.submit(function(f){f.preventDefault();c.callOmnitureTracking(d,d.find(".btn_prim"),"caseFormSubmit");c.submitForm(d,c,e)});c.resetErrorMsg();d.addClass("formset")},prepModal:function(c,b,d){a(".ui-widget-overlay").livequery(function(){var f=c.closest(".ui-dialog");f.addClass("handraiser-modal");if(f.find(".modCnt_handraiser_1").length>0){var e=(f.width()-parseInt(f.css("padding-left")));c.css("width",e);f.find(".ui-dialog-content").css("height","auto")}b.configureForm(c,b,d);b.repositionForm(c,b)})},repositionForm:function(d,b){var c=a(".ui-dialog"),e=a(window);if(c.height()>e.height()||parseInt(c.css("top").replace("px",""))<0){c.css({position:"absolute",top:e.scrollTop()+"px"});if(c.css("position")=="fixed"){c.on("dialogclose",b.closeFormListener)}}},closeFormListener:function(d){var c=a(".ui-dialog"),b=mrm.cmp.cnt_handraiser_1;c.css("position","fixed");c.off("dialogclose",b.closeFormListener)},errorSettings:function(b){if(a("#error-tx").html().length!==0){a("#error-tx").addClass("preset-err")}var c=window.location.search.substr(1);if(window.self!==window.top){c=parent.window.location.search.substr(1)}if(c==="debug"){if(a("#error-tx").hasClass("preset-err")){a("#error-tx").removeClass("preset-err")}b.addClass("valOnBlur")}},setTabIndex:function(){a("#cnt_handraiser_1 li :input").each(function(b){if(a(this).attr("type")!=="hidden"){a(this).attr("tabindex",b+1).addClass("frmField")}});a("#cnt_handraiser_1").find(".ctaDiv :input").attr("tabindex",20)},setColumnLayout:function(b){if(b.hasClass("twoCol")){b.find("ol").addClass("col1");a('<ol class="col2"></ol>').insertAfter("ol.col1");b.find("ol.col1 > li").each(function(c){if(c%2!==0){a(this).appendTo("ol.col2")}});b.fadeIn("slow")}a('<div class="clearfix"></div>').appendTo("#cnt_handraiser_1")},iframeSettings:function(b){if(window.self===window.top){}else{var d=a("iframe#handraiserform_iframe",parent.document),c=d.width()-5;formHeight=b.find("#cnt_handraiser_1").height();b.css("width",c);if(d.attr("height")===undefined){d.css("height",formHeight)}}},lblSetPosition:function(c,b){if(c.hasClass("lblPos3")){a("label[for]").each(function(e,d){d=a(d);var f=a("#"+d.attr("for"));if(f.length){b.fnInlineLabel(d,f)}})}},lblRequiredFields:function(c){var d=a("#cnt_handraiser_1 .required"),b=c.find("#propReqChar").html();if(b===""){b="*"}if(c.parents().hasClass("lblAlign2")){a.each(d,function(f){var g=a(this).attr("id");var e=a("label[for="+g+"]");a('<div class="reqAsterisk">'+b+"</div>").appendTo(e)})}else{a.each(d,function(f){var g=a(this).attr("id");var e=a("label[for="+g+"]");a('<div class="reqAsterisk">'+b+"</div>").prependTo(e)})}},setLblFieldWidths:function(g,d,h){var f=(parseInt(a("#cnt_handraiser_1 input").css("padding-left"))+2)*2,c=f*1.5;if(g.hasClass("lblPos2")){a("#cnt_handraiser_1 label").each(function(k){if(this.offsetWidth>c){c=this.offsetWidth}});a("#cnt_handraiser_1 label").css("width",c);c=c+f+16}var e=a("#cnt_handraiser_1 li").width(),b,j;if(g.hasClass("lblPos1")){b=e}a("#cnt_handraiser_1 .frmField").each(function(l){j=a(this);if(j.get(0).tagName==="SELECT"){b=b+f}else{b=e-c}if(j.attr("style")===undefined||j.attr("style").indexOf("width")!==0){if(d.modCfg.runWidth){j.css("width",b)}}if(g.hasClass("valOnBlur")){j.on("blur",function(){d._unHighlightFields(a(this));d.validateField(g,h,a(this))})}else{var k;(j.get(0).tagName==="SELECT")?k="change":k="keypress";j.on(k,function(){d._unHighlightFields(a(this))})}})},setPositionCTA:function(c){if(c.hasClass("ctaPos2")||c.hasClass("ctaPos4")){var b=c.width()-c.find(".ctaDiv").width()-20;c.find("div.legal").css("width",b)}else{a(".ctaDiv").insertAfter("#error-msg")}},validateField:function(g,k,b){var n=this;c=a.trim(b.val()),objId=b.attr("id"),errorMessage="";if(b.hasClass("required")){if(c===""){errorMessage=k.error_ft0}}if(c===""){if(objId==="salesLeadaddresscity"||objId==="salesLeadaddresszipCode"&&!b.hasClass("required")){if(a("#salesLeadaddresszipCode").hasClass("checkcity")&&(f===""||c==="")){n.clearErrorsCityZip(n)}}}else{if(b.hasClass("ft1")){var d=new RegExp(k.test_ft1);if(!d.test(c)){errorMessage=k.error_ft1}}if(b.hasClass("ft2")){var d=new RegExp(k.test_ft2);if(!d.test(c)){errorMessage=k.error_ft2}}if(b.hasClass("ft3")){var d=new RegExp(k.test_ft3);if(!d.test(c)){errorMessage=k.error_ft3}}if(b.hasClass("ft5")){var d=new RegExp(k.test_email);if(!d.test(c)){errorMessage=k.error_email}}if(b.attr("mask")!==undefined){var m=b.attr("mask"),c=b.val();var d=new RegExp(k.dash_dot);c=c.replace(d,"");if(m.length!==c.length){errorMessage=k.error_msk1}else{for(var h=0;h<m.length;h++){if(m[h]==="#"){if(isNaN(c[h])){errorMessage=k.error_msk2}}else{var d=new RegExp(k.test_ft4);if(!d.test(c[h])){errorMessage=k.error_msk2}}}}}if(objId==="emailconfirm"){if(c!==a.trim(a("#salesLeadcommunicationDetailsemailAddress").val())){errorMessage=k.error_email2}}if(objId==="salesLeadaddresscity"||objId==="salesLeadaddresszipCode"){var f=a.trim(a("#salesLeadaddresszipCode").val()),j=a.trim(a("#salesLeadaddresscity").val()).toUpperCase();if(!a("#salesLeadaddresszipCode").hasClass("checkcity")||f===""||c===""){return}n.clearErrorsCityZip(n);var d=new RegExp(k.test_zip);if(!d.test(f)){errorMessage=k.error_zip;n._highlightFields(a("#salesLeadaddresszipCode"),errorMessage)}if(errorMessage===""){if(j!==""&&f!==""){var l=n.getCitiesFromJSON(f);if(l==="jsonCallFailure"){return}n.clearErrorsCityZip(n);var e=0;for(var h=0;h<l.length;h++){if(l[h]===j){e=e+1}}if(e){errorMessage=""}else{if(a.trim(a("#propPostalCityValErrMsg").html()).length!==0){errorMessage=a("#propPostalCityValErrMsg").text()}else{errorMessage=k.error_zipCity}n._highlightFields(a("#salesLeadaddresszipCode"),"");n._highlightFields(a("#salesLeadaddresscity"),"")}}}}var o=a("form",g);if(a.trim(a("#salesLeadaddressstreet").val()).length===0&&a.trim(a("#salesLeadaddressline2").val()).length===0&&a.trim(a("#salesLeadaddresscity").val()).length===0&&a.trim(a("#salesLeadaddressstate").val()).length===0&&a.trim(a("#salesLeadaddresszipCode").val()).length===0){a('input:hidden[name="salesLead.address.countryCode"]').attr("disabled",true)}else{a('input:hidden[name="salesLead.address.countryCode"]').removeAttr("disabled")}}if(errorMessage!==""){n._highlightFields(b,errorMessage);n.callOmnitureTracking(g,b,"caseError")}else{n.resetErrorMsg()}},getCitiesFromJSON:function(c){var b="/zipdata/en-us/"+c+".json";jsonCities=[];a.ajax({url:b,dataType:"json",async:false,success:function(d){jsonCities=d.cities},error:function(d,f,e){jsonCities="jsonCallFailure";console.error("zipdata: "+f+" | error: "+e)}});return jsonCities},clearErrorsCityZip:function(b){b._unHighlightFields(a("#salesLeadaddresszipCode"));b._unHighlightFields(a("#salesLeadaddresscity"))},_highlightFields:function(c,b){a("#error-msg").fadeIn("slow");c.parent().addClass("error-state");if(!a("#error-tx").hasClass("preset-err")){a("#error-tx").text(b)}},_unHighlightFields:function(b){b.parent().removeClass("error-state");mrm.cmp.cnt_handraiser_1.resetErrorMsg()},resetErrorMsg:function(){if(a("li.error-state").length===0){a("#error-msg").fadeOut("slow")}},fnInlineLabel:function(c,b){if(b.val()!==""){c.addClass("hidden")}c.click(function(){c.addClass("hidden")});b.focus(function(){c.addClass("hidden")});b.blur(function(){if(b.val()===""){c.removeClass("hidden")}})},submitForm:function(g,c,h){var f;var b=a("form",g),d=a(".frmField",b);a.each(d,function(j){c.validateField(g,h,a(this))});if(a("li.error-state").length!==0){return false}a.each(d,function(j){if(a(this).hasClass("sosub")&&a(this).val()!==""){var k=new RegExp(h.test_sosub);a(this).val(a(this).val().replace(k,""))}});var e=b.serialize();d.prop("disabled",true);var f=a.ajax({async:false,type:"POST",url:b.attr("action"),data:e,dataType:"json"});f.success(function(j,l,k){if(j.http_response_code){a("#error-tx").text("error: "+j.http_response_code+": "+j.message);a("#error-msg").fadeIn("slow")}else{g.addClass("caseFormSubmit");a("div#lyr_form").hide();a("div#lyr_success",g).show()}});f.fail(function(j,l,k){a("#error-tx").text(h.error_form);a("#error-msg").fadeIn("slow")});f.always(function(){d.prop("disabled",false)})},setOmnitureEvents:function(d,c){var b;a(".frmField").each(function(){a(this).on("focus",function(){if(b!=="true"){c.callOmnitureTracking(d,a(this),"caseInit");b="true";a(window).bind("beforeunload",function(){if(!d.hasClass("caseFormSubmit")){c.callOmnitureTracking(d,a(this),"caseLeaveEarly")}})}});var e="";a(this).on("blur",function(){a(".lastBlur").removeClass("lastBlur");a(this).addClass("lastBlur");var f=this.value;if(f!==e){e=f;c.callOmnitureTracking(d,a(this),"caseCompleteFld")}})})},callOmnitureTracking:function(c,f,e){if(typeof(Omniture_s)==="undefined"){return}var d=Omniture_s.prop18.toLowerCase(),b=Omniture_s.pageName;switch(e){case"caseInit":mrm.util.tagging.omniture_tl(f,f.attr("name"),"o","event1",{events:"event1",pageName:b,eVar17:d+":get email updates",eVar18:d+":get email updates",eVar72:b+":get email updates:"+f.prev("label").text(),eVar73:b+":get email updates:"+f.attr("id")});break;case"caseCompleteFld":mrm.util.tagging.omniture_tl(f,f.attr("name"),"o",undefined,{eVar16:b,eVar17:d+":get email updates",eVar18:d+":get email updates",eVar72:b+":get email updates:"+f.prev("label").text(),eVar73:b+":get email updates:"+f.attr("id")});break;case"caseLeaveEarly":f=c.find(".lastBlur");mrm.util.tagging.omniture_tl(f,"get email updates form","o",undefined,{eVar16:b,eVar17:d+":get email updates",eVar18:d+":get email updates",eVar72:b+":get email updates:"+f.prev("label").text(),eVar73:b+":get email updates:"+f.attr("id"),prop28:b+":get email updates:"+f.attr("name")});break;case"caseError":mrm.util.tagging.omniture_tl(f,f.attr("name"),"o",undefined,{eVar16:b,eVar17:d+":get email updates",eVar18:d+":get email updates",eVar72:b+":get email updates:"+f.prev("label").text(),eVar73:b+":get email updates:"+f.attr("id"),eVar74:b+":get email updates:"+c.find("#error-tx").text()});break;case"caseFormSubmit":mrm.util.tagging.omniture_tl(f,"submit button","o","event2",{"s.events":"event2",pageName:b,prop27:b+":get email updates:submit",prop32:b+":get email updates:submit"});break}}}})}(mrm.$));(function(a){mrm.track=mrm.track||{};a.extend(mrm.track,{cnt_hl_2:{initTrack:function(c,d){var b=(mrm.util.touchDevice())?"touchstart":"click";c.find("a").on(b,function(){var e=a.trim(a(this).text());mrm.util.trackEvent("click_cta",{section:d,linkname:"block:"+e})})}}})}(mrm.$));(function(a){mrm.mod.Cnt_mmpar_1=mrm.mod.AbstractMod.extend({prepare:function(){var b=this;var c=a.extend({},b.cfg);var d=b.$ctx.find("dl").attr("id");if(mrm.conf.cmp[d]){c.callbacks=mrm.conf.cmp[d]}c=a.extend(true,{caroufredsel:{onCreate:function(e){b.updateCaption(e);mrm.util.sharing.enableShare2Autorender(b.$ctx.find(".tx_cap"))},scroll:{onBefore:function(f,e){b.$ctx.find(".caroufredsel_wrapper").scrollLeft(0);b.updateCaption(e);b.$ctx.find(".tx_cap").trigger("renderShare2")}}},fancybox:{onComplete:function(){a("#fancybox-title").trigger("renderShare2")}}},c);b.$ctx.fancyCarousel(c);mrm.util.doInitVideo(b.$ctx)},updateCaption:function(d){var b=this;b.$ctx.find(".tx_cap > .modShare_2").remove();var c=d.find(".modShare_2").clone();var e=b.$ctx.find(".tx_cap");e.append(c)},switchToContent:function(b){var c=b.closest("ul");c.trigger("slideTo",b)}})})(mrm.$);(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{cnt_opt_1:{tpl:["10","16"],init:function(e){mrm.util.log("[mrm.cmp.cnt_opt_1] Context: "+e);mrm.conf.cmp.cnt_opt_1=mrm.conf.cmp.cnt_opt_1||{};mrm.conf.plugin.cluetip=mrm.conf.plugin.cluetip||{};if(mrm.util.touchDevice()){mrm.conf.cmp.cnt_opt_1_td=mrm.conf.cmp.cnt_opt_1_td||{}}else{mrm.conf.cmp.cnt_opt_1_td={}}var d=a("a.cnt_opt"),b=mrm.$.extend({},mrm.conf.plugin.cluetip,mrm.conf.cmp.cnt_opt_1,mrm.conf.cmp.cnt_opt_1_td);d.each(function(c){var g=a(this),f=g.attr("href");if(f.substr(0,1)!="#"){var h="opt_cnt_"+c;a('a.cnt_opt[href="'+f+'"]').attr("rel","#"+h).click(function(j){j.preventDefault()})}a(this).parent("th, td").addClass("has_cnt_opt_1")});d.not(".ui-tabs-hide a.cnt_opt").cluetipWrap(b);d.filter(".ui-tabs-hide a.cnt_opt").on("newTabShown",function(){if(!a(this).closest(".ui-tabs-hide").length){a(this).cluetipWrap(b).unbind("newTabShown")}})}}})}(mrm.$));if(typeof(Omniture_s)!=="undefined"){if(Omniture_s.eVar18=="vauxhall"){if(jQuery("#tel-number")){jQuery("#tel-number").attr("onblur","phnNumValidation(this)");function phnNumValidation(b){var a=jQuery("#tel-number").val();var c=/^(?:(?:\(?(?:00|\+)([1-4]\d\d|[1-9]\d?)\)?)?[\-\.\ \\\/]?)?((?:\(?\d{1,}\)?[\-\.\ \\\/]?){0,})(?:[\-\.\ \\\/]?(?:#|ext\.?|extension|x)[\-\.\ \\\/]?(\d+))?$/i;if(c.test(a)==true){jQuery(b).parent().removeClass("ui-state-error");jQuery(".phnError").remove()}else{jQuery(".phnError").remove();jQuery(b).parent().addClass("ui-state-error");if(jQuery("#salesleadsubmitInformation").has(".errorMessage").length==0){jQuery("#salesleadsubmitInformation").prepend('<div class="errorMessage"><p class="ui-state-error"> Please check your information below:</p><ul></ul>')}jQuery(".errorMessage ul").append("<li class='phnError'>There are required fields missing (Phone Number).</li>")}}}}}(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{cnt_prices_1:{init:function(b){a(".ui-widget-overlay").livequery(function(){if(a(this).prev(".ui-dialog").find(".cnt_prices_1").length>0){a(this).prev(".ui-dialog").addClass("dfc-modal")}})}}})}(mrm.$));(function(a){mrm.$("div.cnt_recall_component div.inputDiv .btn_prim").click(function(){var d=mrm.$("div.cnt_recall_component input.vinTextBox").val().toUpperCase();var c=mrm.cntRecallComponent;if(d.length!=0){var b="/apps/servlets/recall.json?requestInformation="+d+c.recallTypeString+"&env="+c.recallEnv;mrm.$.ajax({type:"GET",url:b,dataType:"json",success:function(e){var k=mrm.$("div.cnt_recall_component div.recallImage");var f=mrm.$("div.cnt_recall_component div.vinInformation");var j=mrm.$("div.cnt_recall_component div.lastUpdate");var l=mrm.$("div.cnt_recall_component div.vinMessage");if(e.error_code){if(e.error_code=="91"){k.addClass("yellow").removeClass("green").removeClass("red").removeClass("warning");f.html(c.invalidVinText+d+c.invalidVinText1);j.html("");l.html("")}else{if(e.error_code=="92"){k.addClass("warning").removeClass("red").removeClass("green").removeClass("yellow");f.html(c.systemErrorText);j.html("");l.html("")}}}else{if(e.number_of_recalls>0){var h=e.recalls[0].mfr_recall_number;for(var g=1;g<e.recalls.length;g++){h=h+", "+e.recalls[g].mfr_recall_number}k.addClass("red").removeClass("yellow").removeClass("green").removeClass("warning");f.html("VIN:"+d);j.html("LAST UPDATE: "+e.refresh_date);l.html(c.recallFoundTxt+h+c.recallFoundTxt1);Omniture_s.eVar48=d;Omniture_s.t()}else{k.addClass("green").removeClass("yellow").removeClass("red").removeClass("warning");f.html("VIN:"+d);j.html("LAST UPDATE: "+e.refresh_date);l.html(c.noRecallText);Omniture_s.eVar48=d;Omniture_s.t()}}}})}})})(mrm.$);(function(a){mrm.mod.Cnt_reevoo_1=mrm.mod.AbstractMod.extend({prepare:function(){var b=this;mrm.util.externalServices.loadReevoo(function(){if(!window.Omniture_s){return}mrm.util.externalServices.loadReevooAPI(function(){mrm.util.externalServices.onReevooClick(b.$ctx,function(e){var c=a(e).find(".reevoomark_badge").data("badge-type");var d={};switch(c){case"product_reviews":d.prop27="reevoo_review";d.prop32=(Omniture_s.pageName||"")+":reev:review";break;case"ask_an_owner":d.prop27="reevoo_ask_owner";d.prop32=(Omniture_s.pageName||"")+":reev:ask";break}mrm.util.tagging.omniture_tl(e,window.location.pathname,"o",undefined,d)})})})}})})(mrm.$);(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{cnt_rss_feed_1:{tpl:["06"],init:function(b){mrm.util.log("[mrm.cnt_rss_feed_1] Context: "+b);a(document).ready(function(){var f=document.URL;var d=f.substr(f.indexOf("#")+1);var j=/[0-9]+/g;var e=d.match(j);var g=0;var c=a(".rssfeed_container").attr("id");if((f.search(d))>0){g=e}else{g=0}var h=a("ul#storylist li.storyitem").size()-1;var k=a(".rss_feed_stories ul#storylist li.storyitem").outerWidth();var l=k*(-1);a("#rssfeed_prev").click(function(){if(g>0){g=g-1}else{if(g==0){g=h}}var m=parseInt(a(".rss_feed_stories ul#storylist").css("left"),10)+k;a(".rss_feed_stories ul#storylist").animate({left:m},200,function(){a(".rss_feed_stories ul#storylist li.storyitem:first").before(a(".rss_feed_stories ul#storylist li.storyitem:last"));a(".rss_feed_stories ul#storylist").css({left:"0"})});a("#rssfeedOptions #sharecomp_recreated .modShare_2").remove();a(".rss_feed_stories ul#storylist li#"+c+g).find("#shareitemwrapper .modShare_2").clone().appendTo("#rssfeedOptions #sharecomp_recreated");return false});a("#rssfeed_next").click(function(){if(g<h){g=g+1}else{if(g>=h){g=g-h}}var m=parseInt(a(".rss_feed_stories ul#storylist").css("left"),10)-k;a(".rss_feed_stories ul#storylist").animate({left:m},200,function(){a(".rss_feed_stories ul#storylist li.storyitem:last").after(a(".rss_feed_stories ul#storylist li.storyitem:first"));a(".rss_feed_stories ul#storylist").css({left:"0"})});a(".cntScrollBtn a.prev").css({display:"block"});a("#rssfeedOptions #sharecomp_recreated .modShare_2").remove();a(".rss_feed_stories ul#storylist li#"+c+g).find("#shareitemwrapper .modShare_2").clone().appendTo("#rssfeedOptions #sharecomp_recreated");return false});a.fn.textlimit=function(){return this.each(function(){var n=mrm.$(this);var q=400;var m=n.html();var p=m.length;if(p>q){var o=m.substr(0,q);m=o+'<span class="hide" style="display:none;">'+m.substr(q,m.length)+'</span><span><a class="readmorelink" href="#">Read More...</a></span>';n.html(m)}})};a(".rss_feed_stories ul#storylist li.storyitem #story_content").textlimit();a(".readmorelink").click(function(p){var q=a("li#"+c+g+" .mh_title_1").html();var n=a("li#"+c+g+" #story_content").text().replace("Read More...","");var m=q+"<br>"+n;var o=a("<div></div>").html(m).dialog({autoOpen:false,modal:true,width:"500"});o.dialog("open");return false});a(function(){a(".rss_feed_stories ul#storylist li#"+c+g).find("#shareitemwrapper .modShare_2").clone().appendTo("#rssfeedOptions #sharecomp_recreated")})})}}})}(mrm.$));(function(a){mrm.mod.Cnt_story_1=mrm.mod.AbstractMod.extend({events:{click:"onClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",},prepare:function(){},onClick:function(c){var b=this.$ctx.find(".further > a");document.location.href=b.attr("href")},onMouseEnter:function(d){var b=this;if(b.$ctx.closest(".modStory_overview").length!==0&&b.$ctx.closest(".modStory_overview.ui-image-view").length===0){return}var f=b.$ctx.find(".content");if(!f.data("initial-y")){f.data("initial-y",f.position().top)}var c=f.parent();var e=c.height()+parseInt(c.css("margin-top"),10);f.stop().animate({top:e-f.height()},b.cfg.anim_speed)},onMouseLeave:function(c){var b=this;if(b.$ctx.closest(".modStory_overview").length!==0&&b.$ctx.closest(".modStory_overview.ui-image-view").length===0){return}var d=b.$ctx.find(".content");d.stop().animate({top:d.data("initial-y")},b.cfg.anim_speed)}})})(mrm.$);(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{cnt_storyref_1:{clickOrTouch:null,initMod:function(c){var b=this;b.clickOrTouch=(mrm.util.touchDevice())?"touchstart":"click";if(!c.hasClass("multiStory")){return}b.createScroller(c)},loadImage:function(b){b=b.parent("ul").find("li:visible");a.each(b,function(d,c){c=a(this).find("img.img");if(c.attr("src").indexOf("culture-loader")>-1){c.attr("src",c.data("original"))}})},bindArticleClicks:function(c){var b=this;c.find(".cnt_storyref_1_story").on("click",function(f){f.preventDefault();var d=a(".story-teasertext > a",this);document.location.href=d.attr("href")})},createScroller:function(f){var c=this;var g=f.find(".story_list ul").addClass("mmScroll");g.siblings("span").addClass("mmScrollBtn");var d={height:"variable",width:980,auto:false,prev:{button:function(){return a(this).parent().prev(".prev")}},next:{button:function(){return a(this).parent().next(".next")}},items:{visible:3,width:316},pagination:{container:function(){return a('<div class="pager_wrap"><span class="pager_prevpage" id="pager_prevpage">&lt;</span><span class="pager"></span><span class="pager_nextpage" id="pager_nextpage">&gt;</span></div>').prependTo(a(this).parent().parent().parent().children(".intro_holder")).children(".pager")},anchorBuilder:function(h){return' <a href="#" id="page_'+h+'" class="page"><span>'+h+"</span></a>"}},scroll:{onAfter:function(k,j,h,l){a(this).css("left","0");c.loadImage(j)},wipe:true},onCreate:function(n,l,k,o){var m=7;var h=0;var j=7;c.loadImage(n);a(this).bind("updatePageStatus.cfs",function(){var p=a(this).parent().parent().parent();if(a(p).find(".pager_wrap .pager a").length>j){var v=a(this).children().length;var r=a(this).triggerHandler("currentPosition");var u=(r/Math.floor(j/2))+1;var q=Math.ceil(v/Math.floor(j/2));if(u<=Math.ceil(j/2)){a(".page").show();for(var s=j+1;s<=q;s++){a("#page_"+s).hide()}}else{if(u>q-Math.ceil(j/2)){a(".page").hide();for(var s=q-Math.floor(j-1);s<=q;s++){a("#page_"+s).show()}}else{a(".page").hide();for(var s=u-Math.floor(j/2);s<=u+Math.floor(j/2);s++){a("#page_"+s).show()}}}u===1?a(this).parents(".story_list").siblings(".intro_holder").find(".pager_prevpage").addClass("inactive"):a(this).parents(".story_list").siblings(".intro_holder").find(".pager_prevpage").removeClass("inactive");u===q?a(this).parents(".story_list").siblings(".intro_holder").find(".pager_nextpage").addClass("inactive"):a(this).parents(".story_list").siblings(".intro_holder").find(".pager_prevpage").removeClass("inactive")}else{p.find(".pager_prevpage").hide();p.find(".pager_nextpage").hide()}})}},b=a.extend(true,{},d),e={min_move_x:30,min_move_y:30,preventDefaultEventsHorizontal:(!b.scroll.noWipeDirection||b.scroll.noWipeDirection!=="horizontal"),preventDefaultEventsVertical:(!b.scroll.noWipeDirection||b.scroll.noWipeDirection!=="vertical"),wipeLeft:function(h){g.trigger("next")},wipeRight:function(h){g.trigger("prev")}};if(a.fn.touchwipe&&b.scroll.wipe){g.touchwipe(e);b.scroll.wipe=false}g.carouFredSel(b).css("left","0");f.find(".story_list.nonScroll").addClass("jsReady");f.find(".intro_holder").on("click",".pager_nextpage",function(h){f.find("ul").trigger("next")});f.find(".intro_holder").on("click",".pager_prevpage",function(h){f.find("ul").trigger("prev")});c.bindArticleClicks(f)}}})})(mrm.$);(function(a){mrm.track=mrm.track||{};a.extend(mrm.track,{cnt_storyref_1:{initTrack:function(c,d){d=(c.find("h2").text().length>0)?a.trim(c.find("h2").text()):d;var b=(mrm.util.touchDevice())?"touchstart":"click";if(c.hasClass("multiStory")){c.find(".story-teasertext.tx a[onclick]").removeAttr("onclick");c.find(".prev").on(b,function(){mrm.util.trackEvent("click_cta",{section:d,linkname:"scroller:arrow:prev"})});c.find(".next").on(b,function(){mrm.util.trackEvent("click_cta",{section:d,linkname:"scroller:arrow:next"})});c.find(".pager_prevpage").on(b,function(){mrm.util.trackEvent("click_cta",{section:d,linkname:"scroller:page:prev"})});c.find(".pager_nextpage").on(b,function(){mrm.util.trackEvent("click_cta",{section:d,linkname:"scroller:page:next"})});c.find(".pager_wrap a").on(b,function(){mrm.util.trackEvent("click_cta",{section:d,linkname:"scroller:page:toggle"})});c.find(".cnt_storyref_1_story").on(b,function(){var e=a(this).find("h3.tt").text();mrm.util.trackEvent("click_cta",{section:d,linkname:"scroller:story:"+e})});c.find(".story-teasertext.tx a").on(b,function(f){f.stopPropagation();var e=a(this).parent().parent().siblings("h3.tt").text();mrm.util.trackEvent("click_cta",{section:d,linkname:"scroller:read:"+e})})}}}})}(mrm.$));(function(a){mrm.mod.Cnt_tbl_fs_1=mrm.mod.AbstractMod.extend({cfg:{defaults:{}},prepare:function(){var o=this;this.cfg.defaults.$ctx=this.$ctx;this.cfg.defaults.id=this.id;this.cfg.defaults.sandbox=this.sandbox;var d=[1];var l=mrm.conf.cmp.cnt_tbl_fs_1.number_without_dropdowns||4;var b=mrm.util.getStrippedHash();o.$ctx.find(".singlePriceDisplay, .dualPriceDisplay").hide();o.$ctx.find(".dualPriceDisplay .tx2.it").prepend(mrm.lbl.cnt_tbl_fs_1.pricePrefix||""," ").append(" ",mrm.lbl.cnt_tbl_fs_1.grossPriceSuffix||"incl. VAT");o.$ctx.find(".dualPriceDisplay .tx2.et").prepend(mrm.lbl.cnt_tbl_fs_1.pricePrefix||""," ").append(" ",mrm.lbl.cnt_tbl_fs_1.netPriceSuffix||"excl. VAT");if(o.cfg.dualPriceDisplay===true){o.$ctx.find(".dualPriceDisplay").show()}else{o.$ctx.find(".singlePriceDisplay").show()}o.$ctx.attr("id","cnt_tbl_fs_1_table_"+o.id);if(b.length){o.$ctx.find("tr.thead:first th").each(function(p,q){if((a(q).attr("class")||"").indexOf(b)>=0){d[0]=p}})}d[0]=o.cfg.defaults.s0||d[0];d[1]=o.cfg.defaults.s1||2;d[2]=o.cfg.defaults.s2||0;if(o.cfg.mergeEqualCells){o.$ctx.addClass("tbl_merge")}o.$ctx.dyntable({dynCols:3,minCols:++l,tbodyHeader:true,dropdownChooseText:mrm.lbl.cnt_tbl_fs_1.select||"Please Choose",selectedIndex:d,mergeEqualCells:o.cfg.mergeEqualCells||false});if(o.$ctx.hasClass("tbl_expander")){var k='<tr class="expanderNav top"><td colspan="'+a("thead tr.caption",o.$ctx).find("> :first-child").attr("colspan")+'"><a class="showAll" href="#">'+(mrm.lbl.cnt_tbl_fs_1.showAll||"Expand all")+'</a><a class="hideAll" href="#">'+(mrm.lbl.cnt_tbl_fs_1.hideAll||"Close all")+"</a></td></tr>";a(k).insertAfter(a("thead tr.caption",o.$ctx)).addClass("top").filter(":last-child").addClass("lastChild");if(o.$ctx.find("tfoot tr:last-child a").length>0){a(k).appendTo(o.$ctx.find("tfoot")).addClass("bottom lastChild")}else{a(k).appendTo(o.$ctx.find("tfoot")).addClass("lastChild")}o.$ctx.find(".tbl > tbody > tr.thead:first-child").each(function(q,s){var p=a(s);var r=p.siblings("tr");if(q===0){o.openSections(p,r)}else{o.closeSections(p,r)}p.on("click",function(u){u.preventDefault();if(p.hasClass("closed")){o.openSections(p,r)}else{o.closeSections(p,r)}})});o.$ctx.find(".expanderNav a").on("click",function(s){s.preventDefault();var p=a(this);var q=a(".tbl > tbody > tr.thead:first-child",p.closest(".cnt_tbl_fs_1"));var r=q.siblings("tr");if(p.hasClass("showAll")){o.openSections(q,r)}else{o.closeSections(q,r)}})}if(o.cfg.lockDropdowns){var e=o.$ctx.find("thead");var g=o.$ctx.find("tfoot");var f=o.$ctx.find(".modNav_tablay_1")||a();var j=(a("#mds-area-header").css("position")=="fixed")?a("#mds-area-header").height():0;var m=e.height();var h=g.height();var n=f.height();var c=(f.length)?f.offset().top-j:e.offset().top-j;if(g.length===0){g=a("<tfoot>").appendTo(o.$ctx.find("table"))}a(window).on("scroll",function(){var p=a(document).scrollTop();var q=g.offset().top+h-j-m;if(p>=c&&p<=q){e.addClass("fixed");f.addClass("fixed");o.$ctx.css("padding-top",(n+m)+"px");f.css("top",j+"px");e.css("top",(j+n)+"px")}else{f.removeClass("fixed").css("top","auto");e.removeClass("fixed").css("top","auto");o.$ctx.css("padding-top",0)}})}},openSections:function(b,c){b.removeClass("closed").addClass("open");c.show()},closeSections:function(b,c){b.removeClass("open").addClass("closed");c.hide()}})})(mrm.$);(function(a){mrm.mod.Cnt_tbl_fs_2=mrm.mod.AbstractMod.extend({stickyNav:{enabled:true,trim:null,trimDrive:null,trimDriveConfig:null},columnData:[{number:1,featConfigured:false,capConfigured:false,conflict:false,conflictArea:null,config:null,prevConfig:null,trim:null,prevTrim:null,driveType:null,prevDriveType:null,style:null,prevStyle:null,trims:[],trimPrices:[],mmcPegs:[],imageUrls:[],price:null,prevPrice:null,engine:null,prevEngine:null,featData:null,capData:null},{number:2,featConfigured:false,capConfigured:false,conflict:false,conflictArea:null,config:null,prevConfig:null,trim:null,prevTrim:null,driveType:null,prevDriveType:null,style:null,prevStyle:null,trims:[],trimPrices:[],mmcPegs:[],imageUrls:[],price:null,prevPrice:null,engine:null,prevEngine:null,featData:null,capData:null},{number:3,featConfigured:false,capConfigured:false,conflict:false,conflictArea:null,config:null,prevConfig:null,trim:null,prevTrim:null,driveType:null,prevDriveType:null,style:null,prevStyle:null,trims:[],trimPrices:[],mmcPegs:[],imageUrls:[],price:null,prevPrice:null,engine:null,prevEngine:null,featData:null,capData:null}],featData:null,capData:null,featConfigCount:null,capConfigCount:null,el:{},selectedSection:{featuresDiv:null,capabilitiesDiv:null},viewDiffsActive:{featuresDiv:false,capabilitiesDiv:false},stickyNavStart:null,stickyNavReturn:null,tempResources:{},handleDebugMode:function(){var b=mrm.util.getUrlParam("debug");var c=["1","yes","true"];var d=c.length;for(i=0;i<d;i++){if(c[i]==b){mrm.debug=true;break}}},log:function(g){var c=this;function b(l,j){var m=l.toString();var h=m.length;if(h<j){for(var k=h;k<j;k++){m="0"+m}return m}else{return m}}function e(){var h=new Date();var k=h.getTime().toString();var j=k.substr(k.length-3);return h.getHours().toString()+":"+b(h.getMinutes(),2)+":"+b(h.getSeconds(),2)+"."+j}if(mrm.debug){var d="";var f=e();if(g.indexOf("<timestamp>")==-1){d=g+" ("+f+")"}else{d=g.replace(/<timestamp>/gi,f)}console.log(d)}},getStickyNavStart:function(){var b=this;b.stickyNavStart=b.el.$tabsDiv.offset().top;b.log("[Cnt_tbl_fs_2.getStickyNavStart] stickyNavStart: "+b.stickyNavStart+".")},prepare:function(){var b=this;b.log("[Cnt_tbl_fs_2.prepare] Method starting.");b.handleDebugMode();b.setupSelectors();b.getInitColData();b.log("[Cnt_tbl_fs_2.prepare] Method completed.")},after:function(){var b=this;b.log("[Cnt_tbl_fs_2.after] Method starting.");b.getStickyNavStart();b.preActivateSection();b.el.$yearDropdownLink.on("click",function(c){c.preventDefault();b.el.$modelyearDiv.toggleClass("active")});b.el.$yearDropdownDiv.on("mouseleave",function(c){b.el.$modelyearDiv.removeClass("active")});b.el.$tabsDiv.on("tabsenable",function(d,c){b.log("[Cnt_tbl_fs_2.after] tabsenable event-type: "+d.type+".")}).on("tabsshow",function(e,d){var c=d.panel.id;myNewPanelStr=(c==b.el.$ftrsDiv.attr("id"))?"features":"capabilities";b.el.$activeTab=b.el.$tabs.filter(".ui-state-active");b.el.$activeDiv=(myNewPanelStr=="features")?b.el.$ftrsDiv:b.el.$capsDiv;if(b.selectedSection[b.el.$activeDiv.attr("id")]==null){b.preActivateSection()}b.log("[Cnt_tbl_fs_2.after] Tab clicked -- New panel ID "+c+".")});a(document).on("click.autoclose",".ui-widget-overlay",function(){a(".ui-dialog:visible > .ui-widget-content:first").dialog("close");b.log("[Cnt_tbl_fs_2.after] jQuery-UI Dialog auto-closed.")});b.el.$ftrsStyleCells.on("click",function(c){c.stopPropagation();b.toggleBodystyleMenu(c)});b.el.$capsControlCells.find("a.changeLink").on("click",function(c){c.preventDefault();b.activateCapsMatrix(c)});b.el.$capsConfigCell3.on("click",function(c){c.preventDefault();if(a(c.delegateTarget).hasClass("placeholder")){b.activateCapsMatrix(c)}});b.el.$capsMatrixDiv.find("a.closeLink").on("click",function(c){c.preventDefault();b.deactivateCapsMatrix()});b.el.$capsControlCells.on("click",function(c){c.stopPropagation();b.toggleEngineMenu(c)});mrm.$.merge(b.el.$ftrsDiffsChkbx,b.el.$capsDiffsChkbx).on("click",function(c){var d=c.delegateTarget.checked;if(d){b.activateDiffs()}else{b.deactivateDiffs()}});b.el.$ftrsTrimCells.on("click",function(c){c.stopPropagation();b.toggleTrimMenu(c)});a.merge(b.el.$ftrsSectionRows,b.el.$capsSectionRows).on("click",function(c){b.toggleSection(c)});a("body").on("click",function(c){b.autoHideMenu(c)});a(window).on("scroll",_.throttle(a.proxy(b.checkStickyNavScroll,b),50));a(window).on("resize",_.throttle(a.proxy(b.adjustMovLink,b),50));b.setupDataEvents();b.loadData("feat");b.loadData("cap");b.el.$tabsDiv.on("tabsshow",function(c,d){if(a(d.panel).attr("id")==="capabilitiesDiv"){if(b.capConfigCount===0){b.setupCapabilitiesTabs()}else{a.eventDispatcher.on("capConfigReady",function(){b.setupCapabilitiesTabs()})}}});b.el.$tabsDiv.on("tabsshow",function(c,d){if(a(d.panel).attr("id")==="featuresDiv"){if(b.featConfigCount===0){b.setupFeaturesTab()}else{a.eventDispatcher.on("featConfigReady",function(){b.setupFeaturesTab()})}}});b.setupCfdLinks()},cfdPaths:[],centerDiv:function(j){var d=this;var h=j.outerWidth();var e=j.outerHeight();var g=a(window).width();var c=a(window).height();var f=(c-e)/2;var b=(g-h)/2;j.css({top:f,left:b});d.log("[Cnt_tbl_fs_2.centerDiv] Div centered.  top: "+f+"; left: "+b)},handleSmallCfdImg:function(e){var c=this;var f=e.find("dt");var d=f.find("img");var h=null;var g=null;function b(){h=d[0].naturalHeight;if(h<342){g=((f.height()-h)/2)+"px";d.css("marginTop",g);c.log("[Cnt_tbl_fs_2.handleSmallCfdImg] Image is small (height "+h+"); added "+g+" top margin.")}else{c.log("[Cnt_tbl_fs_2.handleSmallCfdImg] Image is correct size (608x342); no top margin added.")}}if(d.length>0){d.load(function(){b()});f.addClass("hasImg")}},updateCfdTitleAttr:function(c){var b=this;a(".ui-dialog.cnt_tbl_fs_2-dialog:visible").find(".ui-dialog-title").attr("title",c)},updateCfdContent:function(j){var m=this;var g=a(j.currentTarget);var h=g.attr("data-section");var e=g.attr("data-cfdpath");var c=g.parents(".cnt_tbl_fs_2-dialog");var f=m.getCfdPrevNextPaths(h,e);var d=f[0];var k=f[1];var b=c.find("button.previous");var l=c.find("button.next");a.get(e,function(q){var p=a(q);var o=p.find("h3.pt");var n=a.trim(o.html());o.remove();c.find(".ui-dialog-title").html(n);c.find("dl").html(p.find("dl").html());b.attr("data-cfdpath",d);l.attr("data-cfdpath",k);if(d===""){b.hide()}else{b.show()}if(k===""){l.hide()}else{l.show()}m.updateCfdTitleAttr(n);m.handleSmallCfdImg(c);m.log("[Cnt_tbl_fs_2.updateCfdContent] CFD content updated.")})},getCfdPrevNextPaths:function(g,e){var d=this;var f=[];var c=d.cfdPaths[g];var b=c.indexOf(e);var j="";var h="";switch(parseInt(b)){case 0:h=c[1];break;case (c.length-1):j=c[b-1];break;default:j=c[b-1];h=c[b+1]}return[j,h]},createCfdControlBar:function(c,h){var m=this;var n=m.cfdPaths[c];var d=n.indexOf(h);var e=a("<div>").addClass("dialogControlBar");var j=m.getCfdPrevNextPaths(c,h);var f=j[0];var l=j[1];var b=a("<button data-section='"+c+"' data-cfdpath='"+f+"'>").addClass("previous");var g=a("<span>").html(m.el.$tabsDiv.attr("data-previous-button-label"));b.append(g);e.append(b);var k=a("<button data-section='"+c+"' data-cfdpath='"+l+"'>").addClass("next");var g=a("<span>").html(m.el.$tabsDiv.attr("data-next-button-label"));k.append(g);e.append(k);if(f===""){e.find("button.previous").hide()}else{e.find("button.previous").show()}if(l===""){e.find("button.next").hide()}else{e.find("button.next").show()}return e},createCfdDialog:function(e,c){var b=this;var d=b.createCfdControlBar(e,c);a.get(c,function(l){var k=a(l);var g=k.find("h3.pt");var f=a.trim(g.html());g.remove();var m;if(mrm.util.locale.getCountry()=="ca"){m=a("<div class='usModelOnlyDisclaimer'>"+mrm.conf.usModelOnlyDisclaimer+"</div>")}var h=k.first().append(m).append(d);var j=a.extend(mrm.conf.plugin.ui_dialog,{open:function(n,o){b.handleSmallCfdImg(h)},close:function(n,o){},position:["center","center"],dialogClass:"cnt_tbl_fs_2-dialog",title:f});h.dialog(j).load(function(){if(a("html").hasClass("msie9")){b.centerDiv(b.el.$cfdDiv)}});b.updateCfdTitleAttr(f);if(mrm.util.locale.getLang().toLowerCase()==="fr"){a(".ui-dialog.cnt_tbl_fs_2-dialog:visible").find(".ui-dialog-titlebar-close span").html("Fermer")}b.log("[Cnt_tbl_fs_2.createCfdDialog] CFD dialog created.")})},setupCfdLinks:function(){var b=this;b.log("[Cnt_tbl_fs_2.setupCfdLinks] Method starting.");b.el.$ftrsDataRows.find("a.detailsLink").on("click",function(h){if(a(this).attr("target")==="_blank"){return}else{h.preventDefault()}var f=a(this).attr("href");var g=a(this).parents("tr");var k=g.attr("data-category");var d=a("tr.dataRow.active[data-category="+k+"]").find("a.detailsLink");var c=d.length;var j=[];for(var e=0;e<c;e++){j.push(d.filter("a:eq("+e+")").attr("href"))}if(typeof b.cfdPaths[k]==="undefined"){b.cfdPaths[k]=j}b.createCfdDialog(k,f)});b.log("[Cnt_tbl_fs_2.setupCfdLinks] CFD links setup completed.")},setupFeaturesTab:function(){var b=this;b.log("[Cnt_tbl_fs_2.setupFeaturesTab] Method starting.");var c=b.columnData[0].driveType;b.log("[Cnt_tbl_fs_2.setupFeaturesTab] Method completed.")},setupSelectors:function(){var d=this;d.log("[Cnt_tbl_fs_2.setupSelectors] Method starting.");d.el.$tabsDiv=a("div.tabsDiv",d.$ctx);d.el.$modelyearDiv=a("div.year-switch",d.el.$tabsDiv);d.el.$yearDropdownLink=a("a.year",d.el.$modelYearDiv);d.el.$yearDropdownDiv=a("div.year-dropdown",d.el.$modelyearDiv);d.el.$yearLink=a("a",d.el.$yearDropdownDiv);d.el.$tabs=a("li.tabItem",d.el.$tabsDiv);d.el.$backToMOV=a("a.backToMOV",d.el.$tabsDiv);d.el.$ftrsDiv=a("div.#featuresDiv",d.el.$tabsDiv);d.el.$ftrsViewsTbl=a("table.viewsTable",d.el.$ftrsDiv);d.el.$ftrsImgCells=a("th.imageCell",d.el.$ftrsViewsTbl);d.el.$ftrsImgCell1=a("th.imageCell.col1",d.el.$ftrsViewsTbl);d.el.$ftrsImgCell2=a("th.imageCell.col2",d.el.$ftrsViewsTbl);d.el.$ftrsImgCell3=a("th.imageCell.col3",d.el.$ftrsViewsTbl);d.el.$ftrsCtrlsTbl=a("table.controlsTable",d.el.$ftrsDiv);d.el.$ftrsDrivetypesCell=a("tr.controlsRow.bodystyles > td.controlCell.drivetypes",d.el.$ftrsCtrlsTbl);d.el.$ftrsDrivetypeBtns=a("input[type=radio]",d.el.$ftrsDrivetypesCell);d.el.$ftrsDrivetypeBtn1=a("div.drivetypeDiv:eq(0) input[type=radio]",d.el.$ftrsDrivetypesCell);d.el.$ftrsDrivetypeBtn2=a("div.drivetypeDiv:eq(1) input[type=radio]",d.el.$ftrsDrivetypesCell);d.el.$ftrsStyleCells=a("tr.controlsRow.bodystyles > td.controlCell.bodystyle",d.el.$ftrsCtrlsTbl);d.el.$ftrsStyleCell1=a("tr.controlsRow.bodystyles > td.controlCell.bodystyle.col1",d.el.$ftrsCtrlsTbl);d.el.$ftrsStyleCell2=a("tr.controlsRow.bodystyles > td.controlCell.bodystyle.col2",d.el.$ftrsCtrlsTbl);d.el.$ftrsStyleCell3=a("tr.controlsRow.bodystyles > td.controlCell.bodystyle.col3",d.el.$ftrsCtrlsTbl);d.el.$ftrsDiffsCell=a("tr.controlsRow.trims > td.controlCell.viewdiffs",d.el.$ftrsCtrlsTbl);d.el.$ftrsDiffsChkbx=a("input#ftrsViewdiffsChkbx",d.el.$ftrsDiffsCell);d.el.$ftrsDiffsCell2=a("tr.stickyNavRow > td.controlCell.viewdiffs.stickyNav",d.el.$ftrsCtrlsTbl);d.el.$ftrsDiffsChkbx2=a("input#ftrsViewdiffsChkbx2",d.el.$ftrsDiffsCell2);d.el.$ftrsTrimCells=a("tr.controlsRow.trims td.controlCell.trim",d.el.$ftrsCtrlsTbl);d.el.$ftrsTrimCell1=a("tr.controlsRow.trims td.controlCell.trim.col1",d.el.$ftrsCtrlsTbl);d.el.$ftrsTrimCell2=a("tr.controlsRow.trims td.controlCell.trim.col2",d.el.$ftrsCtrlsTbl);d.el.$ftrsTrimCell3=a("tr.controlsRow.trims td.controlCell.trim.col3",d.el.$ftrsCtrlsTbl);d.el.$ftrsDataTbl=a("table.dataTable",d.$ctx);d.el.$ftrsSectionRows=a("tr.sectionRow",d.el.$ftrsDataTbl);d.el.$ftrsDataRows=a("tr.dataRow",d.el.$ftrsDataTbl);d.el.$ftrsAllMenus=a("ul.bodystyleList, ul.trimList",d.el.$ftrsDiv);d.el.$ftrsStyleMenus=a("ul.bodystyleList",d.el.$ftrsDiv);d.el.$ftrsStyleMenu1=a("ul.bodystyleList.col1",d.el.$ftrsDiv);d.el.$ftrsStyleMenu2=a("ul.bodystyleList.col2",d.el.$ftrsDiv);d.el.$ftrsStyleMenu3=a("ul.bodystyleList.col3",d.el.$ftrsDiv);d.el.$ftrsTrimMenus=a("ul.trimList",d.el.$ftrsDiv);d.el.$ftrsTrimMenu1=a("ul.trimList.col1",d.el.$ftrsDiv);d.el.$ftrsTrimMenu2=a("ul.trimList.col2",d.el.$ftrsDiv);d.el.$ftrsTrimMenu3=a("ul.trimList.col3",d.el.$ftrsDiv);d.el.$cfdDiv=a("div.ui-dialog.cnt_tbl_fs_2-dialog");d.el.$ftrsCtasRow=a("tfoot tr.ctasRow",d.el.$ftrsDataTbl);d.el.$ftrsCtaCells=a("td.ctaCell",d.el.$ftrsDataTbl);d.el.$ftrsCtaBtns=a("td.ctaCell a.btn_prim, a.btn_nba",d.el.$ftrsDataTbl);d.el.$ftrsCtaBtnsCol1=a("td.ctaCell.col1 a.btn_prim, td.ctaCell.col1 a.btn_nba",d.el.$ftrsDataTbl);d.el.$capsDiv=a("div.#capabilitiesDiv",d.el.$tabsDiv);d.el.$capsConfigsTbl=a("table.capsConfigsTable",d.el.$capsDiv);d.el.$capsConfigCells=a("tr.configsRow td.configCell",d.el.$capsConfigsTbl);d.el.$capsConfigCell1=a("tr.configsRow td.configCell.col1",d.el.$capsConfigsTbl);d.el.$capsConfigCell2=a("tr.configsRow td.configCell.col2",d.el.$capsConfigsTbl);d.el.$capsConfigCell3=a("tr.configsRow td.configCell.col3",d.el.$capsConfigsTbl);d.el.$capsDiffsCell=a("tr.controlsRow.configs td.controlCell.viewdiffs",d.el.$capsConfigsTbl);d.el.$capsDiffsChkbx=a("input#capsViewdiffsChkbx",d.el.$capsDiffsCell);d.el.$capsDiffsCell2=a("tr.stickyNavRow td.controlCell.viewdiffs.stickyNav",d.el.$capsConfigsTbl);d.el.$capsDiffsChkbx2=a("input#capsViewdiffsChkbx2",d.el.$capsDiffsCell2);d.el.$capsControlCells=a("tr.controlsRow td.controlCell[class*=col]",d.el.$capsConfigsTbl);d.el.$capsControlCell1=a("tr.controlsRow td.controlCell.col1",d.el.$capsConfigsTbl);d.el.$capsControlCell2=a("tr.controlsRow td.controlCell.col2",d.el.$capsConfigsTbl);d.el.$capsControlCell3=a("tr.controlsRow td.controlCell.col3",d.el.$capsConfigsTbl);d.el.$capsDataTbl=a("table.capsDataTable",d.el.$capsDiv);d.el.$capsSectionRows=a("tr.sectionRow",d.el.$capsDataTbl);d.el.$capsDataRows=a("tr.dataRow",d.el.$capsDataTbl);d.el.$capsCtasRow=a(".ctasRow",d.el.$capsDataTbl);d.el.$capsCtaCells=a(".ctasRow .ctaCell",d.el.$capsCtasRow);d.el.$capsMatrixDiv=a("div#capsMatrixDiv",d.el.$capsDiv);d.el.$capsMatrixStyleHdrCells=a("th.matrixStyleCell",d.el.$capsMatrixDiv);d.el.$capsMatrixEngineHdrCells=a("th.matrixEngineCell",d.el.$capsMatrixDiv);d.el.$capsEngineMenus=a("ul.capsEngineList",d.el.$capsDiv);d.el.$capsEngineMenu1=a("ul.capsEngineList.col1",d.el.$capsDiv);d.el.$capsEngineMenu2=a("ul.capsEngineList.col2",d.el.$capsDiv);d.el.$capsEngineMenu3=a("ul.capsEngineList.col3",d.el.$capsDiv);d.el.$tabsDiv.tabs();d.el.$capsMatrixDiv.dialog({autoOpen:false,modal:true,width:960,dialogClass:"capsMatrix"});d.el.$activeTab=d.el.$tabs.filter(".ui-state-active");if(d.el.$activeTab.find("a").attr("href")=="#featuresDiv"){d.el.$activeDiv=d.el.$ftrsDiv}else{d.el.$activeDiv=d.el.$capsDiv}if(d.$ctx.hasClass("hasConfigurations")){d.el.$ftrsStyleCells.filter(".placeholder").find(".styleLabelDiv > span").html(d.el.$tabsDiv.attr("data-configuration-select-label"))}d.el.$ftrsStyleCells.filter(".placeholder").find(".labeP > span").html(d.el.$tabsDiv.attr("data-trim-select-label"));d.el.$capsControlCells.filter(".config:not(.placeholder)").find(".changeLink > span").html(d.el.$tabsDiv.attr("data-change-configuration-label"));d.el.$capsControlCells.filter(".config.placeholder").find(".changeLink > span").html(d.el.$tabsDiv.attr("data-add-configuration-label"));var c=d.el.$ftrsStyleCell1.find(".styleImgDiv").attr("data-bodystyle");if(!d.$ctx.hasClass("noConfigurations")){var c=d.el.$ftrsStyleCell1.find(".styleImgDiv").attr("data-bodystyle");if(c.indexOf("wheelbase")!==-1){a.merge(d.el.$ftrsStyleCells,d.el.$capsConfigCells).find(".styleImgDiv[data-bodystyle=placeholder]").css({backgroundPosition:"left -850px"})}}d.el.$tabs.first().css("margin-left",(d.el.$modelyearDiv.outerWidth(true)+30-parseInt(d.el.$tabs.first().css("padding-left"))));d.el.$backToMOV.css("left",d.el.$tabs.last().position().left+d.el.$tabs.last().width()+40);var f='<td class="ctaCell"></td>';var e=d.el.$ftrsCtaCells.length;if(e<2){d.log("[Cnt_tbl_fs_2.setupSelectors] CTA cell(s) missing...");var b=a(f).addClass("col2");if(d.el.$ftrsImgCell2.hasClass("placeholder")){b.addClass("ui-helper-hidden")}d.el.$ftrsCtasRow.append(b);d.el.$capsCtasRow.append(b.clone());d.log("[Cnt_tbl_fs_2.setupSelectors] CTA cells appended. column: 2.");d.el.$ftrsCtaCells=a(".ctaCell",d.el.$ftrsCtasRow);d.el.$capsCtaCells=a(".ctaCell",d.el.$capsCtasRow);if(e<3){var g=a(f).addClass("col3");if(d.el.$ftrsImgCell3.hasClass("placeholder")){g.addClass("ui-helper-hidden")}d.el.$ftrsCtasRow.append(g);d.el.$capsCtasRow.append(g.clone());d.log("[Cnt_tbl_fs_2.setupSelectors] CTA cells appended. column: 3.");d.el.$ftrsCtaCells=a(".ctaCell",d.el.$ftrsCtasRow);d.el.$capsCtaCells=a(".ctaCell",d.el.$capsCtasRow)}}else{d.log("[Cnt_tbl_fs_2.setupSelectors] All three CTA cells already present.  No additions needed.")}d.log("[Cnt_tbl_fs_2.setupSelectors] Selectors setup completed.")},conflictMessage:{title_prefix:"",title:" model is not available in this ",title_suffix:" selection.",generic_title:"Some models are not available in this ",body_prefix:"If you continue with the selection of ",body:" will be removed and you may select another ",body_suffix:".",generic_body:"If you continue with this selection, some selections will be removed and you may select another.",trimName:"trim",configName:"cab and box",driveTypeName:"drive type",continue_button:"Continue with Selection",cancel_button:"Cancel",placeholder_config:"Select Cab Style",placeholder_trim:"SELECT MODEL",placeholder_engine:"Select Engine"},LSLR:{price_text:"STARTING MSRP<sup>1</sup>:"},setupDataEvents:function(){var b=this;b.log("[Cnt_tbl_fs_2.setupDataEvents] Method starting.");b.el.$ftrsDrivetypeBtns.off("click.dataEvents");b.el.$ftrsDrivetypeBtns.on("click.dataEvents",function(c){b.log("[Cnt_tbl_fs_2.setupDataEvents] Drivetype button clicked! event.namespace: "+c.namespace);if(c.target.className.indexOf("ui-radio")===-1){if(b.featConfigCount===0){b.handleFeatDriveType(a(this))}else{a.eventDispatcher.on("featConfigReady",function(){b.handleFeatDriveType(a(this))})}}else{b.log("[Cnt_tbl_fs_2.setupDataEvents] Event handler not triggered -- duplicate event from jQuery-UI span.ui-radio.")}});a(".bodystyleItem",b.el.$ftrsStyleMenus).off("click.dataEvents");a(".bodystyleItem",b.el.$ftrsStyleMenus).on("click.dataEvents",function(){if(b.featConfigCount===0){b.handleFeatConfig(a(this))}else{a.eventDispatcher.on("featConfigReady",function(){b.handleFeatConfig(a(this))})}});a(".trimItem",b.el.$ftrsDiv).off("click.dataEvents");a(".trimItem",b.el.$ftrsDiv).on("click.dataEvents",function(){if(b.featConfigCount===0){b.handleFeatTrim(a(this))}else{a.eventDispatcher.on("featConfigReady",function(){b.handleFeatTrim(a(this))})}});a(".engineItem",b.el.$capsDiv).off("click.dataEvents");a(".engineItem",b.el.$capsDiv).on("click.dataEvents",function(){if(b.capConfigCount===0){b.handleCapsDropdown(a(this))}else{a.eventDispatcher.on("capConfigReady",function(){b.handleCapsDropdown(a(this))})}});a(".ui-dialog.cnt_tbl_fs_2-dialog .dialogControlBar button").live("click",function(c){b.updateCfdContent(c)});a(".undoLink",a(".conflictModal",b.el.$ftrsDiv)).off("click.conflictUndo");a(".undoLink",a(".conflictModal",b.el.$ftrsDiv)).on("click.conflictUndo",function(c){b.handleConflictUndo(c)});b.log("[Cnt_tbl_fs_2.setupDataEvents] Data-events setup completed.")},removePlaceholderClasshooks:function(d){var c=this;c.log("[Cnt_tbl_fs_2.removePlaceholderClasshooks] Method starting.");var b=a(".placeholder");b.filter(".col"+d).removeClass("placeholder");c.log("[Cnt_tbl_fs_2.removePlacholderClasshooks] Column "+d+" 'placeholder' classhooks removed.");return true;c.log("[Cnt_tbl_fs_2.removePlaceholderClasshooks] Placholder classhooks removed. Column: "+d)},handleCapsMatrix:function(c,b){var k=this;k.log("[Cnt_tbl_fs_2.handleCapsMatrix] Method starting.");var j=k.getColNbr(k.getColClass(c.parent()));var f=c.parents("tbody").find(".matrixStylesRow .matrixStyleCell.col"+j);var e=a.trim(c.data("drivetype"));var d=a.trim(f.find(".styleImgDiv").data("bodystyle"));var g=/<[a-zA-Z]+>[^<]+<\/[a-zA-Z]+>/;var h=a.trim(c.parents("tr").data("engine").replace(g,""));a("#capsMatrixDiv .drivetypeDiv").removeClass("active");c.addClass("active");if(k.el["$capsConfigCell"+b].hasClass("placeholder")){k.log("[Cnt_tbl_fs_2.handleCapsMatrix] Removing table-column"+b+" placeholder classhooks. ");k.removePlaceholderClasshooks(b)}k.columnData[b-1].driveType=e;k.columnData[b-1].config=d;k.columnData[b-1].engine=h;k.columnData[b-1].capConfigured=true;k.populateData(k.columnData[b-1]);k.updateCapsConfigCell(k.columnData[b-1]);k.updateCapsTableData(k.columnData[b-1]);if(k.viewDiffsActive[k.el.$activeDiv.attr("id")]){k.activateDiffs()}else{k.setDiffClasses(k.el.$activeDiv)}k.deactivateCapsMatrix();k.log("[Cnt_tbl_fs_2.handleCapsMatrix] Capabilities matrix selection handled.")},handleCapsDropdown:function(b){var c=this;c.log("[Cnt_tbl_fs_2.handleCapsDropdown] Method starting.");var e=c.getColNbr(c.getColClass(b.parent()));var f=a.trim(b.data("driveType"));var d=a.trim(b.data("engine"));c.columnData[e-1].driveType=f;c.columnData[e-1].engine=d;c.columnData[e-1].config="NoConfig";c.columnData[e-1].capConfigured=true;c.populateData(c.columnData[e-1]);c.updateCapsTableData(c.columnData[e-1]);c.updateCapsDropdownControl(c.columnData[e-1]);if(c.viewDiffsActive[c.el.$activeDiv.attr("id")]){c.activateDiffs()}else{c.setDiffClasses(c.el.$activeDiv)}a(c.el.$capsCtaCells[e-1]).removeClass("ui-helper-hidden");c.hideAllMenus();c.log("[Cnt_tbl_fs_2.handleCapsDropdown] Engine selection handled.  Column: "+e)},handleFeatDriveType:function(c){var d=this;d.log("[Cnt_tbl_fs_2.handleFeatDriveType] Method starting.");var j=a.trim(c.siblings(".drivetypeLabel").find(".drivetypeSpan").html());var g=null;for(var b=0;b<d.columnData.length;b++){g=d.columnData[b];var f=g.number;if(d.el["$ftrsStyleCell"+(b+1)].hasClass("placeholder")){d.log("[Cnt_tbl_fs_2.handleFeatDriveType] Skipping columnData["+b+"] updates -- Col"+(b+1)+" is a placeholder column.");break}if(g.conflict&&a(".conflictModal").data("conflict-trigger")==="featDriveType"){d.restorePrevSelection(g);return}else{d.backupPrevSelection(g)}g.driveType=j;function e(){d.updateFeatImage(g);d.updateFeatConfigControl(g);d.updateFeatTrimControl(g);d.updateFeatTableData(g);d.updateFeatPriceAndCta(g);d.destroyConflictModal(b+1);d.showColumnData(b+1);if(d.viewDiffsActive[d.el.$activeDiv.attr("id")]){d.activateDiffs()}else{d.setDiffClasses(d.el.$activeDiv)}d.log("[Cnt_tbl_fs_2.handleFeatDriveType] Data/displays handled -- no conflict.  Column: "+g.number)}function h(){var q=g.conflictArea;d.log("[Cnt_tbl_fs_2.handleFeatDriveType] Conflict area: "+q);d.createConflictModal("featDriveType",g);var l=d.el["$ftrsImgCell"+g.number].find("img");var m=l.attr("src");l.attr("src",m.replace(/\/[^\/]+\.png/,"/Default.png"));switch(q){case"config":g.featConfigured=false;g.config=null;g.style=null;g.trim=null;g.price=null;var n=d.el["$ftrsTrimMenu"+g.number];var k=g.trims;var o=k.length;n.empty();for(t=0;t<o;t++){var r=a('<li class="trimItem"><p class="labelP"></p><p class="priceP"><span class="descriptionSpan"></span><span class="priceSpan"></span></p></li>');r.attr("data-trimid",a.trim(k[t])).attr("data-bodystyleid",g.config);r.find(".labelP").html(a.trim(k[t]));r.find(".priceP .descriptionSpan").html(d.tempResources.priceDescrSpanHtml);r.find(".priceP .priceSpan").html(a.trim(g.trimPrices[t]));n.append(r)}d.el["$ftrsStyleCell"+g.number].find(".styleLabelDiv span").html("Select Cab &amp; Box");var p=d.el["$ftrsTrimCell"+g.number];p.find(".labelP span").html(d.conflictMessage.placeholder_trim);p.find(".labelP").addClass("unselected");p.find(".priceP span").text("");p.find(".disclaimerList .cashCredit").text("");p.find(".disclaimerList .ownerCash").text("");d.log("[Cnt_tbl_fs_2.handleFeatDriveType] Trim selection cleared. (<timestamp>)\n  myCurrColData.prevDriveType: "+g.prevDriveType+"\n  myCurrColData.prevConfig: "+g.prevConfig+"\n  myCurrColData.prevTrim: "+g.prevTrim+"\n  myCurrColData.driveType: "+g.driveType+"\n  myCurrColData.config: "+g.config+"\n  myCurrColData.trim: "+g.trim);break;case"trim":g.featConfigured=false;g.trim=null;g.price=null;var n=d.el["$ftrsTrimMenu"+g.number];var k=g.trims;var o=k.length;n.empty();for(t=0;t<o;t++){var r=a('<li class="trimItem"><p class="labelP"></p><p class="priceP"><span class="descriptionSpan"></span><span class="priceSpan"></span></p></li>');r.attr("data-trimid",a.trim(k[t])).attr("data-bodystyleid",g.config);r.find(".labelP").html(a.trim(k[t]));r.find(".priceP .descriptionSpan").html(d.tempResources.priceDescrSpanHtml);r.find(".priceP .priceSpan").html(a.trim(g.trimPrices[t]));n.append(r)}var p=d.el["$ftrsTrimCell"+g.number];p.find(".labelP span").html(d.conflictMessage.placeholder_trim);p.find(".labelP").addClass("unselected");p.find(".priceP span").text("");p.find(".disclaimerList .cashCredit").text("");p.find(".disclaimerList .ownerCash").text("");d.log("[Cnt_tbl_fs_2.handleFeatDriveType] Trim selection cleared. (<timestamp>)\n  myCurrColData.prevDriveType: "+g.prevDriveType+"\n  myCurrColData.prevConfig: "+g.prevConfig+"\n  myCurrColData.prevTrim: "+g.prevTrim+"\n  myCurrColData.driveType: "+g.driveType+"\n  myCurrColData.config: "+g.config+"\n  myCurrColData.trim: "+g.trim);d.log("[Cnt_tbl_fs_2.handleFeatDriveType] Data/displays handled incl. conflict modal -- conflictArea: "+g.conflictArea+".  Column: "+g.number);break;default:break}}if(g.featConfigured===true){a.when(d.populateData(g,"drivetype")).then(e,h)}else{d.populateData(g,"drivetype");d.updateFeatConfigControl(g);d.updateFeatTrimControl(g);d.log("[Cnt_tbl_fs_2.handleFeatDriveType] Data/displays handled -- data not fully configured.  Column: "+g.number)}}d.setupDataEvents()},handleFeatConfig:function(b){var c=this;c.log("[Cnt_tbl_fs_2.handleFeatConfig] Method starting.");var f=b.parents("ul");var g=c.getColNbr(c.getColClass(f));var h=c.columnData[g-1];if(c.el["$ftrsStyleCell"+g].hasClass("placeholder")){c.removePlaceholderClasshooks(g)}if(h.conflict){c.restorePrevSelection(h)}else{c.backupPrevSelection(h)}var d=a.trim(b.data("bodystyleid"));h.config=d;function e(){c.updateFeatImage(h);c.updateFeatConfigControl(h);c.updateFeatTrimControl(h);c.updateFeatTableData(h);c.updateFeatPriceAndCta(h);c.destroyConflictModal(g);c.showColumnData(g);if(c.viewDiffsActive[c.el.$activeDiv.attr("id")]){c.activateDiffs()}else{c.setDiffClasses(c.el.$activeDiv)}c.log("[Cnt_tbl_fs_2.handleFeatConfig] Data/displays handled -- no conflict.  Column: "+h.number)}function j(){var k=h.conflictArea;c.log("[Cnt_tbl_fs_2.handleFeatConfig] Conflict area: "+k);c.createConflictModal(k,h);var p=c.el["$ftrsImgCell"+h.number].find("img");var s=p.attr("src");p.attr("src",s.replace(/\/[^\/]+\.png/,"/Default.png"));h.featConfigured=false;h.trim=null;h.price=null;var q=c.el["$ftrsTrimMenu"+g];var l=h.trims;var r=l.length;q.empty();for(t=0;t<r;t++){var o=a('<li class="trimItem"><p class="labelP"></p><p class="priceP"><span class="descriptionSpan"></span><span class="priceSpan"></span></p></li>');o.attr("data-trimid",a.trim(l[t])).attr("data-bodystyleid",h.config);o.find(".labelP").html(a.trim(l[t]));o.find(".priceP .descriptionSpan").html(c.tempResources.priceDescrSpanHtml);o.find(".priceP .priceSpan").html(a.trim(h.trimPrices[t]));q.append(o)}var m=c.el["$ftrsStyleCell"+g];var n=c.el["$ftrsTrimCell"+g];m.find(".styleLabelDiv span").html(h.style);n.find(".labelP span").html(c.conflictMessage.placeholder_trim);n.find(".labelP").addClass("unselected");n.find(".priceP span").text("");c.log("[Cnt_tbl_fs_2.handleFeatConfig] Trim selection cleared. (<timestamp>)\n  myCurrColData.prevDriveType: "+h.prevDriveType+"\n  myCurrColData.prevConfig: "+h.prevConfig+"\n  myCurrColData.prevTrim: "+h.prevTrim+"\n  myCurrColData.driveType: "+h.driveType+"\n  myCurrColData.config: "+h.config+"\n  myCurrColData.trim: "+h.trim);f.removeClass("active");c.log("[Cnt_tbl_fs_2.handleFeatConfig] Data/displays handled incl. conflict modal -- conflictArea: "+h.conflictArea+".  Column: "+g)}if(h.featConfigured===true){a.when(c.populateData(h,"config")).then(e,j)}else{c.populateData(h,"config");c.updateFeatConfigControl(h);c.updateFeatTrimControl(h);c.log("[Cnt_tbl_fs_2.handleFeatConfig] Data/displays handled -- data not fully configured.  Column: "+h.number)}c.hideAllMenus();c.setupDataEvents();c.log("[Cnt_tbl_fs_2.handleFeatConfig] Features Configuration selection handled. Column: "+g)},handleFeatTrim:function(c){var d=this;d.log("[Cnt_tbl_fs_2.handleFeatTrim] Method starting.");var e=d.getColNbr(d.getColClass(c.parents("ul")));d.backupPrevSelection(d.columnData[e-1]);var b=c.data("trimid");d.columnData[e-1].trim=a.trim(b);d.columnData[e-1].featConfigured=true;d.populateData(d.columnData[e-1],"trim");d.updateFeatImage(d.columnData[e-1]);d.updateFeatTrimControl(d.columnData[e-1]);d.updateFeatTableData(d.columnData[e-1]);d.updateFeatPriceAndCta(d.columnData[e-1]);d.destroyConflictModal(e);d.showColumnData(e);if(d.viewDiffsActive[d.el.$activeDiv.attr("id")]){d.activateDiffs()}else{d.setDiffClasses(d.el.$activeDiv)}d.hideAllMenus();d.setupDataEvents();d.log("[Cnt_tbl_fs_2.handleFeatTrim] Features Trim selection handled. Column: "+e)},populateData:function(h,m){var o=this;o.log("[Cnt_tbl_fs_2.populateData] Method starting.");var f=a.Deferred();if(h.featConfigured===true){var g=o.checkFeatConflicts(h,m);if(g.conflict){f.reject(g.conflictArea)}else{f.resolve(g.conflictArea)}}var d=h.driveType;var c=h.config;var e=h.trim;if(h.engine===null&&h.featConfigured===true){for(var n in o.capData[h.config][h.driveType]){h.engine=a.trim(n);h.capConfigured=true;break}}for(var l=0;l<o.featData.configs.length;l++){if(o.featData.configs[l].config===c||o.featData.configs[l].config===""){for(var k=0;k<o.featData.configs[l].configDetails.length;k++){if(o.featData.configs[l].configDetails[k].type===d){h.trims=o.featData.configs[l].configDetails[k].trims;h.trimPrices=o.featData.configs[l].configDetails[k].msrps;h.mmcPegs=o.featData.configs[l].configDetails[k].mmcPegs;h.imageUrls=o.featData.configs[l].configDetails[k].imageUrls;if(mrm.util.locale.getCountry()==="ca"&&o.featData.configs[l].configDetails[k].regionalPrices!==undefined){h.regionalPrices=o.featData.configs[l].configDetails[k].regionalPrices}break}}break}}for(var l=0;l<h.trims.length;l++){if(h.trims[l]===e&&mrm.util.locale.getCountry()==="ca"&&h.regionalPrices!==undefined){h.mmcPeg=h.mmcPegs[l];h.region=mrm.util.locale.region!=undefined?mrm.util.locale.region:h.regionalPrices[l].region;h.price=a("#featuresDiv").data("Regions")[h.mmcPeg][h.region].formattedPrice}else{if(h.trims[l]===e){h.price=h.trimPrices[l]}}}var j=h.engine;h.style=o.featData.configStyles[c];try{if(h.featConfigured===true){h.featData=o.featData[c][d][e]}if(h.capConfigured===true){h.capData=o.capData[c][d][j]}}catch(b){}o.log("[Cnt_tbl_fs_2.populateData] Data populated.");return f.promise()},handleConflictUndo:function(e){var c=this;c.log("[Cnt_tbl_fs_2.handleConflictUndo] Method starting.");e.preventDefault();var c=this;var f=a(e.delegateTarget).closest(".conflictModal");var b=f.attr("data-conflict-trigger");var d=c.getColNbr(c.getColClass(f));c.restorePrevSelection(c.columnData[d-1]);f.remove();c.log("[Cnt_tbl_fs_2.handleConflictUndo] Method completed.  conflict-trigger: "+b+".")},hideColumnData:function(c){var b=this;b.el.$ftrsDataRows.find(".detailCell"+c+" .iconSpan").addClass("conflicted");b.log("[Cnt_tbl_fs_2.hideColumnData] Column "+c+" data hidden.")},showColumnData:function(c){var b=this;b.el.$ftrsDataRows.find(".detailCell"+c+" .iconSpan").removeClass("conflicted");b.log("[Cnt_tbl_fs_2.hideColumnData] Column "+c+" data hidden.")},createConflictModal:function(b,e){var k=this;k.log("[Cnt_tbl_fs_2.createConflictModal] Method starting.");var c=e.number;var g="col"+c;var d="";var f=k.el.$ftrsDataRows.eq(0).find(".detailCell"+c).offset().top+10+"px";var h=k.el.$ftrsDataRows.eq(0).find(".detailCell"+c).offset().left+10+"px";k.hideColumnData(c);if(b==="trim"){d=k.el.$tabsDiv.attr("data-conflict-message-drive");d=d.replace(/\[configuration\]/gi,'<span class="configSpan">'+e.style)+"</span>";d=d.replace(/\[trim\]/gi,'&nbsp;<span class="trimSpan">'+e.trim+"</span>")}else{if(b==="config"){d=k.el.$tabsDiv.attr("data-conflict-message-configuration");d=d.replace(/\[trim\]/gi,'<span class="trimSpan">'+e.trim+"</span>")}else{if(b==="drive+config"){d=k.el.$tabsDiv.attr("data-conflict-message-drive-and-configuration");d=d.replace(/\[Configuration\]/gi,'<span class="bodystyleSpan">'+e.style+"</span>")}}}var j=a('<div class="conflictModal"></div>');j.append('<div class="textDiv"><p class="conflictMsgP"></p></div>');j.append('<div class="controlsDiv"><a href="#" class="undoLink"><span>Undo</span></a></div>');j.addClass(g).attr("data-conflict-trigger",b);j.find(".conflictMsgP").html(d);j.find(".undoLink span").html(k.el.$tabsDiv.attr("data-undo-selection-label"));k.el.$ftrsDiv.append(j);j.addClass("active");k.log("[Cnt_tbl_fs_2.createConflictModal] Conflict Dialog displayed. Column: "+c+";  Message: "+d+".")},destroyConflictModal:function(b){a(".conflictModal.col"+b).remove()},updateFeatImage:function(f){var c=this;c.log("[Cnt_tbl_fs_2.updateFeatImage] Method starting.");var g=c.$ctx;var b=c.el["$ftrsImgCell"+f.number];var e=b.find("img.vehicleImg");var d="";for(trim in f.trims){if(f.trim===f.trims[trim]){d=f.imageUrls[trim]}}if(e.length===0){$newImage=a("<img>").addClass("vehicleImg").addClass("col"+f.number).attr("src",d);b.append($newImage)}else{e.attr("src",d)}if(f.featConfigured){b.removeClass("placeholder");b.css("visibility","visible")}else{b.css("visibility","hidden")}c.log("[Cnt_tbl_fs_2.updateFeatImage] Features vehicle-image updated.  Column: "+f.number+".")},updateFeatConfigControl:function(d){var k=this;k.log("[Cnt_tbl_fs_2.updateFeatConfigControl] Method starting.");var h=k.el["$ftrsStyleCell"+d.number];var b=k.el["$ftrsStyleMenu"+d.number];k.log("[Cnt_tbl_fs_2.updateFeatConfigControl] Updating.  [Column "+d.number+" is not a placeholder]");h.find(".styleLabelDiv").html(d.style);h.find(".styleImgDiv").attr("data-bodystyle",d.config);b.empty();for(var g=0;g<k.featData.configs.length;g++){var j=(k.featData.configs[g].config==="")?"NoConfig":k.featData.configs[g].config;if(typeof k.featData[j][d.driveType]==="undefined"){continue}var e=a("<li>").attr("data-bodystyleid",k.featData.configs[g].config).addClass("bodystyleItem");var f=a("<p>").addClass("labelP").html(k.featData.configs[g].style);var c=a("<span>").addClass("iconSpan");f.appendTo(e);c.appendTo(e);b.append(e)}k.log("[Cnt_tbl_fs_2.updateFeatConfigControl] Features Configuration control-cell updated. Column: "+d.number+".")},updateFeatTrimControl:function(f){var n=this;n.log("[Cnt_tbl_fs_2.updateFeatTrimControl] Method starting.");var e=n.el["$ftrsTrimCell"+f.number];var l=n.el["$ftrsTrimMenu"+f.number];var g=n.el.$tabsDiv.data("pricedescription");var m=a.trim(f.config);var h=a('<p class="priceP"><span class="descriptionSpan">'+g+'</span>&nbsp;<span class="priceSpan"></span></p>');if(f.featConfigured===true){e.removeClass("placeholder");e.find(".labelP span").html(f.trim);e.find(".priceP").html(h.html());e.find(".priceSpan").html(f.price);var c=f.trims.indexOf(f.trim);if(mrm.util.locale.getCountry()==="ca"){e.addClass("dynPriceEh");e.attr("data-seriescode",f.mmcPeg);e.find(".priceSpan").addClass("priceEh");if(f.regionalPrices[c].cashCreditDisclaimer.text!==undefined&&f.regionalPrices[c].cashCreditDisclaimer.text!==""){e.find(".cashCredit").html(a("#featuresDiv").data("Regions")[f.mmcPeg][f.region].cashCreditDisclaimer)}else{e.find(".cashCredit").html("")}if(f.regionalPrices[c].cashCreditDisclaimer.ownerCashText!==undefined&&f.regionalPrices[c].cashCreditDisclaimer.ownerCashText!==""){e.find(".ownerCash").html(a("#featuresDiv").data("Regions")[f.mmcPeg][f.region].ownerCashDisclaimer)}else{e.find(".ownerCash").html("")}}}l.empty();for(var k=0;k<f.trims.length;k++){var j=a("<li>").attr("data-bodystyleid",a.trim(m)).attr("data-trimid",a.trim(f.trims[k])).addClass("trimItem");var b=a("<p>").addClass("labelP").html(a.trim(f.trims[k]));var h=a('<p class="priceP"><span class="descriptionSpan">'+g+'</span>&nbsp;<span class="priceSpan"></span></p>');if(mrm.util.locale.getCountry()==="ca"&&f.regionalPrices[k].priceDisclaimerSymbol!==undefined){var d=f.mmcPegs[k];f.region=mrm.util.locale.region!=undefined?mrm.util.locale.region:f.regionalPrices[k].region;h.find(".priceSpan").html(a.trim(a("#featuresDiv").data("Regions")[d][f.region].formattedPrice)).addClass("priceEh");j.addClass("dynPriceEh");j.attr("data-seriescode",f.mmcPegs[k])}else{h.find(".priceSpan").html(a.trim(f.trimPrices[k]))}b.appendTo(j);h.appendTo(j);l.append(j)}n.log("[Cnt_tbl_fs_2.updateFeatTrimControl] Features Trim control-cell updated. Column: "+f.number+".")},updateFeatTableData:function(c){var b=this;b.log("[Cnt_tbl_fs_2.updateFeatTableData] Method starting.");b.el.$ftrsDataRows.each(function(d,g){var e=c.featData[d];var f=e.replace("/","").toLowerCase();if(f==="s.o."){f="na"}else{if(f==="en option"){f="available"}else{if(f==="de srie"){f="standard"}}}if(f!=="na"&&f!=="available"&&f!=="standard"){f=""}a(g).find(".detailCell"+c.number).empty();var h=a("<span>").addClass("iconSpan").addClass(f).html(e);a(g).find(".detailCell"+c.number).append(h)});b.log("[Cnt_tbl_fs_2.updateFeatTableData] Features table-data updated.")},updateFeatPriceAndCta:function(m){var n=this;n.log("[Cnt_tbl_fs_2.updateFeatPriceAndCta] Method starting.");var g=n.$ctx;var l=n.el.$ftrsDiv;var j=l.find(".priceCell.col"+m.number);var d=a(n.el.$ftrsCtaCells[m.number-1]);n.el.$capsCtaCells=a(".ctaCell",n.el.$capsCtasRow);var e=a(n.el.$capsCtaCells[m.number-1]);j.find(".trimP").html(m.trim);j.find(".priceSpan").html(m.price);if(mrm.util.locale.getCountry()==="ca"){j.attr("data-seriescode",m.mmcPeg);var k=m.trims.indexOf(m.trim);if(m.regionalPrices[k].feeDisclaimerText!==undefined){j.find(".feeText").html(a("#featuresDiv").data("Regions")[m.mmcPeg][m.region].feeDisclaimer)}else{j.find(".feeText").html("")}if(m.regionalPrices[k].cashCreditDisclaimer.text!==undefined){j.find(".cashCredit").html(a("#featuresDiv").data("Regions")[m.mmcPeg][m.region].cashCreditDisclaimer)}else{j.find(".cashCredit").html("")}if(m.regionalPrices[k].cashCreditDisclaimer.ownerCashText!==undefined&&m.regionalPrices[k].cashCreditDisclaimer.ownerCashText!==""){j.find(".ownerCash").html(a("#featuresDiv").data("Regions")[m.mmcPeg][m.region].ownerCashDisclaimer)}else{j.find(".ownerCash").html("")}if(m.regionalPrices[k].currentLocationPrefix!==undefined){var b=mrm.util.location.getPostalCode();if(b){while(b.length<6){b+="*"}}else{b=""}j.find(".postalPrompt").html(m.regionalPrices[k].currentLocationPrefix.replace(/&amp;/g,"&")+'<span class="postalCodeDisplay">'+b+"</span> (<a >"+m.regionalPrices[k].currentLocationLinkText+"</a>)")}else{j.find(".postalPrompt").html("")}}if(d.find("a.btn_prim, a.btn_nba").length==0){n.el.$ftrsCtaCells.filter(":eq(0)").find("a.btn_prim, a.btn_nba").each(function(o,p){a(p).clone().appendTo(d)})}var h=m.mmcPegs[m.trims.indexOf(m.trim)];var c=null;var f=null;d.find("a.btn_prim, a.btn_nba").each(function(p,q){c=a(q).attr("href");f=a(q).attr("onclick");var o=h!=null?h.split("_")[0]:"";a(q).attr("href",c.replace(/x-series=[^&]+/,"x-series="+h).replace(/trimVcCode=[^&]+/,"trimVcCode="+h).replace(/modelDesignator=[^&]+/,"modelDesignator="+o));a(q).attr("onclick",f.replace(/x-series=[^&]+/,"x-series="+h).replace(/trimVcCode=[^&]+/,"trimVcCode="+h))});a.merge(j,d).removeClass("ui-helper-hidden");e.html(d.html()).removeClass("ui-helper-hidden");n.log("[Cnt_tbl_fs_2.updateFeatPriceAndCta] Price and CTAs updated. Column: "+m.number+".")},backupPrevSelection:function(c){var b=this;b.log("[Cnt_tbl_fs_2.backupPrevSelection] Method starting.");c.prevDriveType=c.driveType;c.prevConfig=c.config;c.prevStyle=c.style;c.prevTrim=c.trim;c.prevPrice=c.price;c.prevEngine=c.engine;b.log("[Cnt_tbl_fs_2.backupPrevSelection] Previous selection backed up. Column: "+c.number+".")},restorePrevSelection:function(f){var l=this;l.log("[Cnt_tbl_fs_2.restorePrevSelection] Method starting.");var h=f.number;var g=l.el.$ftrsDrivetypeBtns;var c=l.el["$ftrsStyleCell"+h];var k=c.find(".styleLabelDiv span");var d=l.el["$ftrsTrimCell"+h];var e=d.find(".labelP span");var b=d.find(".priceP .descriptionSpan");var j=d.find(".priceP .priceSpan");f.config=f.prevConfig;f.style=f.prevStyle;f.trim=f.prevTrim;f.price=f.prevPrice;f.engine=f.prevEngine;f.conflict=false;f.conflictArea=null;f.featConfigured=true;c.find(".styleImgDiv").attr("data-bodystyle",f.config);k.html(f.style);e.html(f.trim);b.html(l.el.$tabsDiv.data("pricedescription"));j.html(f.price);if(!g.hasClass("ui-helper-hidden-accessible")){f.driveType=f.prevDriveType;g.not(":checked").click()}else{g.not(":checked").siblings("span.ui-radio").click()}l.loadData("feat");l.showColumnData(h);l.destroyConflictModal(h);l.log("[Cnt_tbl_fs_2.restorePrevSelection] Previous selection restored. Column: "+h)},checkFeatConflicts:function(f,e){var c=this;var b=f.number;var d=false;var g=null;if(typeof c.featData[f.config]!=="undefined"){if(typeof c.featData[f.config][f.driveType]!=="undefined"){if(typeof c.featData[f.config][f.driveType][f.trim]!=="undefined"){d=false;g=null;c.log("[Cnt_tbl_fs_2.checkFeatConflicts] No conflict.  Table column: "+b)}else{d=true;g="trim";c.log("[Cnt_tbl_fs_2.checkFeatConflicts] Conflict DETECTED for Trim!  Table column: "+b)}}else{d=true;switch(e){case"trim":g="config";c.log("[Cnt_tbl_fs_2.checkFeatConflicts] Conflict DETECTED for Drive Type (selected Trim unavailable)!  Table column: "+b);break;case"config":g="drive+config";c.log("[Cnt_tbl_fs_2.checkFeatConflicts] Conflict DETECTED for Drive Type (selected Config unavailable)!  Table column: "+b)}}}else{d=true;g="config";c.log("[Cnt_tbl_fs_2.checkFeatConflicts] Conflict DETECTED for Config!  Table column: "+b)}f.conflict=d;f.conflictArea=g;return{conflict:d,conflictArea:g};c.log("[Cnt_tbl_fs_2.checkFeatConflicts] Features conflict checked. Column: "+f.number+".")},getInitColData:function(){var b=this;b.log("[Cnt_tbl_fs_2.getInitColData] Method starting.");var c=b.$ctx;if(c.find(".bodystyle").length===0){if(b.featConfigCount===0){b.setupColWithoutConfig()}else{a.eventDispatcher.on("featConfigReady",function(){b.setupColWithoutConfig()})}}else{if(b.featConfigCount===0){b.setupColWithConfig()}else{a.eventDispatcher.on("featConfigReady",function(){b.setupColWithConfig()})}}b.log("[Cnt_tbl_fs_2.getInitColData] Method completed.")},setupColWithConfig:function(){var b=this;b.log("[Cnt_tbl_fs_2.setupColWithConfig] Method starting.");var c=b.$ctx;var d=a.trim(b.el.$ftrsDrivetypeBtns.filter("input:checked").siblings("label").find(".drivetypeSpan").html());c.find(".bodystyle").each(function(g,k){var f=a(k);b.columnData[g].driveType=d;if(f.hasClass("placeholder")||a(c.find(".trim")[g]).hasClass("placeholder")){b.columnData[g].featConfigured=false;return}b.columnData[g].featConfigured=true;var j=a.trim(f.find(".styleImgDiv").data("bodystyle"));var l=a.trim(f.find(".styleLabelDiv").html());var e=a.trim(a(c.find(".trim")[g]).find(".labelP span").html());var h=b.el["$ftrsTrimCell"+(g+1)].find(".priceSpan").html();b.columnData[g].config=j;b.columnData[g].style=l;b.columnData[g].price=h;if(a(c.find(".trim")[g]).find(".unselected").length>0){b.columnData[g].featConfigured=false;b.columnData[g].trim=null}else{b.columnData[g].trim=e}});b.setCapsStyleImages();b.log("[Cnt_tbl_fs_2.setupColWithConfig] Columns setup completed with Configurations.")},setupColWithoutConfig:function(){var b=this;b.log("[Cnt_tbl_fs_2.setupColWithoutConfig] Method starting.");var c=b.$ctx;var d=c.find(".drivetypes input:checked").siblings("label").find(".drivetypeSpan").html();c.find(".trim").each(function(f,h){b.columnData[f].driveType=a.trim(d);var g=(b.featData.configs[0].config==="")?"NoConfig":a.trim(b.featData.configs[0].config);var e=a.trim(a(c.find(".trim")[f]).find(".labelP span").html());if(a(c.find(".trim")[f]).find(".unselected").length>0){b.conflictMessage.placeholder_trim=e;b.columnData[f].featConfigured=false;b.columnData[f].config=g;b.columnData[f].trim=null;b.populateData(b.columnData[f]);b.updateFeatTrimControl(b.columnData[f]);b.setupDataEvents();a(c.find(".trim")[f]).find(".labelP").removeClass("unselected");return}b.columnData[f].featConfigured=true;b.columnData[f].config=g;b.columnData[f].trim=e});b.log("[Cnt_tbl_fs_2.setupColWithoutConfig] Columns setup completed without Configurations.")},setCapsStyleImages:function(){var b=this;b.log("[Cnt_tbl_fs_2.setCapsStyleImages] Method starting.");var c=[];a(b.columnData).each(function(d,e){if(d<2){c.push(e.config)}});b.log("[Cnt_tbl_fs_2.setCapsStyleImages] Bodystyles columnData (<timestamp>):\n    col1: "+c[0]+"\n    col2: "+c[1]);b.el.$capsConfigCells.each(function(d,e){if(d<2){a(e).find(".styleImgDiv").attr("data-bodystyle",c[d])}});b.log("[Cnt_tbl_fs_2.setCapsStyleImages] Capabilities tab .styleImgDiv data-bodystyle attributes populated.")},setupCapabilitiesTabs:function(){var c=this;c.log("[Cnt_tbl_fs_2.setupCapabilitiesTabs] Method starting.");var g=[];var e=c.el.$capsEngineMenus;for(var b=0;b<c.columnData.length;b++){c.populateData(c.columnData[b]);if(c.columnData[b].capConfigured===true){if(c.capData.configs.length>1){c.updateCapsConfigCell(c.columnData[b])}else{c.updateCapsDropdownControl(c.columnData[b])}c.updateCapsTableData(c.columnData[b])}}if(c.capData.configs.length===1){for(b=0;b<c.capData.configs[0].engineDriveTypes.length;b++){var f=c.capData.configs[0].engineDriveTypes[b].driveType;for(y=0;y<c.capData.configs[0].engineDriveTypes[b].engines.length;y++){var h={text:"",driveType:"",engine:""};var d=c.capData.configs[0].engineDriveTypes[b].engines[y];h.text=d+" "+f;h.driveType=f;h.engine=d;g.push(h)}}}e.empty();for(b=0;b<g.length;b++){$listItem=a("<li>").addClass("engineItem").attr("data-engine",g[b].engine.replace(/<[a-zA-Z]+>[^<]+<\/[a-zA-Z]+>/g,"")).attr("data-drive-type",g[b].driveType);$itemPara=a("<p>").addClass("labelP").html(g[b].text);$listItem.append($itemPara);e.append($listItem)}c.el.$capsCtaCells=a(".ctaCell",c.el.$capsCtasRow);c.setupDataEvents();c.log("[Cnt_tbl_fs_2.setupCapabilitiesTabs] Capabilities tabs setup completed.")},updateCapsConfigCell:function(g){var k=this;k.log("[Cnt_tbl_fs_2.updateCapsConfigCell] Method starting.");var e=k.$ctx;var f=e.find("#capabilitiesDiv");var h=k.el["$capsConfigCell"+g.number];var j=a(".engineDrivetypeLabelDiv",h);var l=k.el["$capsControlCell"+g.number].find(".changeLink");var c=k.el.$capsDataTbl.find("tfoot > .ctasRow > .ctaCell").filter(".col"+g.number.toString());h.find(".styleImgDiv").attr("data-bodystyle",g.config);h.find(".styleLabelDiv").html(g.style);if(j.find(".engineSpan, .drivetypeSpan").length==2){h.find(".engineSpan").html(g.engine);h.find(".drivetypeSpan").html(g.driveType)}else{var b=a('<span class="engineSpan" data-engine="'+g.engine+'">'+g.engine+"</span>");var d=a('<span class="drivetypeSpan" data-drivetype="'+g.driveType+'">'+g.driveType+"</span>");j.html("&nbsp;").prepend(b).append(d)}l.attr("data-bodystyle",g.config).attr("title","change").html(k.el.$tabsDiv.data("changeConfigurationMatrixLabel"));c.removeClass("ui-helper-hidden");k.log("[Cnt_tbl_fs_2.updateCapsConfigCell] Capabilities Configuration cell updated. Column: "+g.number+".")},updateCapsDropdownControl:function(f){var c=this;c.log("[Cnt_tbl_fs_2.updateCapsDropdownControl] Method starting.");var d=c.el["$capsControlCell"+f.number];var b=d.find(".labelP");var e=d.find(".priceP .descriptionSpan");var g=d.find(".priceP .priceSpan");b.html(f.engine+" "+f.driveType);e.html(c.el.$tabsDiv.data("pricedescription"));g.html(f.price);c.log("[Cnt_tbl_fs_2.updateCapsDropdownControl] Capabilities Engine control-cell updated. Column: "+f.number+".")},updateCapsTableData:function(e){var l=this;l.log("[Cnt_tbl_fs_2.updateCapsTableData] Method starting.");var c=e.number;var g=e.driveType;var d=e.config;var j=e.engine;var f=e.capData;var k=a(l.el.$capsCtaCells[c-1]);var b=null;l.el.$capsDataRows.each(function(m,p){var n=e.capData[m];var o=n.replace("/","").toLowerCase();if(o!=="na"&&o!=="available"&&o!=="standard"){o=""}a(p).find(".detailCell"+c).empty();var q=a("<span>").addClass("iconSpan").addClass(o).html(n);a(p).find(".detailCell"+c).append(q)});if(k.children().length===0){l.log("[Cnt_tbl_fs_2.updateCapsTableData] CTA buttons are missing...");for(var h=c;h>0;h--){b=a(l.el.$ftrsCtaCells[h-1]);if(b.children().length===0){l.log("[Cnt_tbl_fs_2.updateCapsTableData] Features CTA buttons not found: col"+h+".");continue}else{l.log("[Cnt_tbl_fs_2.updateCapsTableData] Features CTA buttons found: col"+h+".");k.html(b.html());break}}l.log("[Cnt_tbl_fs_2.updateCapsTableData] CTA buttons created.")}else{}if(e.conflict){l.log("[Cnt_tbl_fs_2.updateCapsTableData] hey there's a conflict!")}l.log("[Cnt_tbl_fs_2.updateCapsTableData] Capabilities table-data updated.")},loadData:function(e){var d=this;d.log("[Cnt_tbl_fs_2.loadData] Method starting.");if(e==="feat"){var h=d.$ctx.find("#featuresDiv").data("baseJson");d.getData(h,function(j){d.featData=j;d.featConfigCount=d.featData.configs.length;d.loadData("featConfigs")})}else{if(e==="featConfigs"){a(d.featData.configs).each(function(k,l){var j=d.featData.configs[k].filePath;var m=(d.featData.configs[k].config==="")?"NoConfig":d.featData.configs[k].config;d.featData.configStyles=d.featData.configStyles||{};d.featData.configStyles[d.featData.configs[k].config]=d.featData.configs[k].style;d.getData(j,function(n){d.featConfigCount--;if(d.featConfigCount===0){a.eventDispatcher.trigger("featConfigReady")}d.featData[m]=n})})}else{if(e==="cap"){var h=d.$ctx.find("#capabilitiesDiv").data("baseJson");d.getData(h,function(j){d.capData=j;d.capConfigCount=d.capData.configs.length;d.loadData("capConfigs")})}else{if(e==="capConfigs"){a(d.capData.configs).each(function(k,l){var j=d.capData.configs[k].filePath;var m=(d.capData.configs[k].config==="")?"NoConfig":d.capData.configs[k].config;d.getData(j,function(r){d.capConfigCount--;var q=null;var o=/<[a-zA-Z]+>[^<]+<\/[a-zA-Z]+>/;var n="";for(var s in r){q=r[s];for(var p in q){if(o.test(p)){n=p.replace(o,"");q[n]=q[p];delete q[p]}}}d.capData[m]=r;if(d.capConfigCount===0){a.eventDispatcher.trigger("capConfigReady")}})})}}}}d.log("[Cnt_tbl_fs_2.loadData] Data loaded.  Type: "+e+".");if(mrm.util.locale.getCountry().toLowerCase()==="ca"){var g=mrm.$(".tabsDiv").data().year;var f=mrm.$(".tabsDiv").data().carline;var b=mrm.$(".tabsDiv").data().bodystyle;var c="/apps/servlets/bbcdataseries.json?segment=true&year="+g+"&carline="+f+"&bodystyle="+b+"&path="+a('meta[name="contentpath"]').attr("content");a.ajax({url:c,dataType:"json",async:false,success:function(k){a("#featuresDiv").data("Regions",k[g+"_"+f+"_"+b]);a("#featuresDiv").addClass("caData");var j=mrm.util.location.getPostalCode();if(j){var l=a.Event("newClippedRegionEh",{postalCode:j});a("body").trigger(l)}}})}},getData:function(e,g){var c=this;c.log("[Cnt_tbl_fs_2.getData] Method starting.");if(mrm.util.locale.getCountry()==="ca"&&e.indexOf("fstable-options-trims")>=0){var f=mrm.$(".tabsDiv").data().year;var d=mrm.$(".tabsDiv").data().carline;var b=mrm.$(".tabsDiv").data().bodystyle;e="/apps/servlets/regionalpricing.json?year="+f+"&carline="+d+"&bodystyle="+b+"&postalcode="+mrm.util.location.getPostalCode()+"&path="+a("meta[name='contentpath']").attr("content")}a.ajax({url:e,dataType:"json",async:true,success:g,error:function(h,k,j){c.log("[Cnt_tbl_fs_2.getData] ERROR: AJAX call failed (<timestamp>)!  path = "+e+".\n  status = "+k+"; errorThrown = "+j.toString())}});c.log("[Cnt_tbl_fs_2.getData] Data retrieved via AJAX (<timestamp>).  JSON-path: "+e)},getColClass:function(d){var c=this;var e=d.attr("class");var b=e.split(" ");var f=b.length;for(i=0;i<f;i++){if(b[i].indexOf("col")!=-1){return b[i]}}},getColNbr:function(c){var b=this;return c.substr(c.indexOf("col")+3)},hideAllMenus:function(){var b=this;b.log("[Cnt_tbl_fs_2.hideAllMenus] Method starting.");a(".controlCell.active").removeClass("active");b.el.$ftrsAllMenus.removeClass("active");b.el.$ftrsStyleCells.removeClass("active");b.el.$ftrsTrimCells.removeClass("active");b.el.$capsEngineMenus.removeClass("active");b.log("[Cnt_tbl_fs_2.hideAllMenus] All menus hidden.")},autoHideMenu:function(d){var c=this;c.log("[Cnt_tbl_fs_2.autoHideMenu] Method starting.");var g=d.pageX;var f=d.pageY;var e=a("ul.active");function b(h){var j=h.offset();var k=j.left;var n=j.top;var m=k+h.outerWidth();var l=n+h.outerHeight();c.log("[Cnt_tbl_fs_2.autoHideMenu.clickIsOutside] \n    Click coords: x="+g+", y="+f+";\n    Active menu coords: left="+k+", right="+m+", top="+n+", bottom="+l+".");if(g<=k||g>=m||f<=n||f>=l){c.log("[Cnt_tbl_fs_2.autoHideMenu] Click is OUTSIDE active menu. "+new Date().getTime());return true}c.log("[Cnt_tbl_fs_2.autoHideMenu] Click is INSIDE active menu.");return false}if(e.length>0&&b(e)){c.hideAllMenus();c.log("[Cnt_tbl_fs_2.autoHideMenu] Hiding active menu.")}else{c.log("[Cnt_tbl_fs_2.autoHideMenu] No menu to hide.")}},toggleBodystyleMenu:function(f){var e=this;e.log("[Cnt_tbl_fs_2.toggleBodystyleMenu] Method starting.");var b=f.delegateTarget;var h=a(b);var g=e.getColClass(h);var j=e.getColNbr(g);var d=h.offset().top-this.$ctx.offset().top+h.outerHeight();var c=a(e.el.$ftrsStyleMenus[j-1]);e.log("[Cnt_tbl_fs_2.toggleBodystyleMenu] Clicked control cell column is "+j+". ");if(h.hasClass("active")){c.removeClass("active");h.removeClass("active")}else{e.hideAllMenus();c.css("top",d).addClass("active");h.addClass("active");e.destroyConflictModal(j)}e.log("[Cnt_tbl_fs_2.toggleBodystyleMenu] Configuration menu toggled.  Column "+j+".")},toggleTrimMenu:function(f){var e=this;e.log("[Cnt_tbl_fs_2.toggleTrimMenu] Method starting.");var b=f.delegateTarget;var h=a(b);var g=e.getColClass(h);var j=e.getColNbr(g);var d=h.offset().top-this.$ctx.offset().top+h.outerHeight();var c=a(e.el.$ftrsTrimMenus[j-1]);e.log("[Cnt_tbl_fs_2.toggleTrimMenu] Clicked control cell column is "+j+". ");if(h.hasClass("active")){c.removeClass("active");h.removeClass("active")}else{e.hideAllMenus();c.css("top",d).addClass("active");h.addClass("active");e.destroyConflictModal(j)}e.log("[Cnt_tbl_fs_2.toggleTrimMenu] Trim menu toggled. Column: "+j+".")},toggleEngineMenu:function(f){var e=this;e.log("[Cnt_tbl_fs_2.toggleEngineMenu] Method starting.");var b=f.delegateTarget;var h=a(b);var g=e.getColClass(h);var j=e.getColNbr(g);var d=h.offset().top-this.$ctx.offset().top+h.outerHeight();var c=a(e.el.$capsEngineMenus[j-1]);e.log("[Cnt_tbl_fs_2.toggleEngineMenu] Clicked control cell column is "+j+". ");if(h.hasClass("active")){c.removeClass("active");h.removeClass("active");e.log("[Cnt_tbl_fs_2.toggleEngineMenu] Engine menu hidden. Column: "+j+".")}else{e.hideAllMenus();c.css("top",d).addClass("active");h.addClass("active");e.log("[Cnt_tbl_fs_2.toggleEngineMenu] Engine menu shown. Column: "+j+".")}},setDiffClasses:function(d,c){var b=this;b.log("[Cnt_tbl_fs_2.setDiffClasses] Method starting.");function e(m){var o=a.trim(m.attr("data-category"));var n=a.trim(m.find("th span").html());var f=m.find("td[class*=detailCell] span");var j=f.length;var k="";var g=[];var l=0;var h="";if(j>1){f.each(function(p,q){k=a.trim(a(q).html());if(k!=="&nbsp;"&&k!==" "&&k!==""){g.push(k);if(h.length!=0){h+="\n    "}h+=k}});l=g.length;for(i=1;i<l;i++){if(g[i]!==g[0]){return true}}}return false}if(typeof d!=="undefined"){d.find("tr.dataRow").each(function(g,h){var f=a(h);if(e(f)){f.removeClass("noDiffs").addClass("hasDiffs")}else{f.removeClass("hasDiffs").addClass("noDiffs")}})}else{a("tr.dataRow").each(function(g,h){var f=a(h);if(e(f)){f.removeClass("noDiffs").addClass("hasDiffs")}else{f.removeClass("hasDiffs").addClass("noDiffs")}})}if(typeof c!=="undefined"){c()}b.log("[Cnt_tbl_fs_2.setDiffClasses] Diff-classes set.")},activateDiffs:function(){var c=this;var b=c.el.$activeDiv.attr("id");c.setDiffClasses(c.el.$activeDiv,function(){c.expandAllSections(function(){c.el.$activeDiv.find("tr.dataRow.noDiffs").removeClass("active")})});c.viewDiffsActive[b]=true;c.log("[Cnt_tbl_fs_2.activateDiffs] View-diffs mode activated.")},deactivateDiffs:function(){var c=this;var b=c.el.$activeDiv.attr("id");c.collapseAllSections();c.viewDiffsActive[b]=false;c.activateSection(c.selectedSection[b]);if(!c.el.$tabsDiv.hasClass("stickyNav")){c.el.$activeDiv.find("tr.stickyNavRow input[type=checkbox]").prop("checked",false)}else{c.el.$activeDiv.find("tr.controlsRow input[type=checkbox]").prop("checked",false)}c.log("[Cnt_tbl_fs_2.deactivateDiffs] View-diffs mode deactivated.")},activateCapsMatrix:function(k){var l=this;l.log("[Cnt_tbl_fs_2.activateCapsMatrix] Method starting.");var c=l.el.$capsMatrixDiv;var d=l.getColNbr(l.getColClass(a(k.target).closest("td")));var b=l.columnData[d-1];c.dialog("open");c.find(".drivetypeDiv.selected").removeClass("selected");c.attr("data-dataTableColumn",d);if(b.capConfigured){var e=b.config;var f=b.engine;var g=b.driveType;var j=c.find(".matrixStylesRow").find(".styleImgDiv[data-bodystyle="+e+"]").closest(".matrixStyleCell").attr("class").split(" ")[1];var h="";c.find(".matrixDrivetypesRow").each(function(n,p){var o=a(p);var m=o.data("engine").replace(/<[a-z]+>[^<]+<\/[a-z]+>/gi,"");var q=f.replace(/<[a-z]+>[^<]+<\/[a-z]+>/gi,"");if(m===q){h=o.find(".matrixEngineCell").attr("class").split(" ")[1];return false}});c.find(".matrixDrivetypeCell."+j+"."+h).find(".drivetypeDiv[data-drivetype="+g+"]").addClass("selected")}c.find(".drivetypeDiv").off("click.dataEvents");c.find(".drivetypeDiv").on("click.dataEvents",function(){l.el.$capsMatrixDiv.find(".drivetypeDiv.selected").removeClass("selected");if(l.capConfigCount===0){l.handleCapsMatrix(a(this),d)}else{a.eventDispatcher.on("capConfigReady",function(){l.handleCapsMatrix(a(this),d)})}});l.log("[Cnt_tbl_fs_2.activateCapsMatrix] Capabilities Matrix activated.")},deactivateCapsMatrix:function(){var b=this;var c=b.el.$capsMatrixDiv;b.log("[Cnt_tbl_fs_2.deactivateCapsMatrix] Method starting.");c.dialog("close");b.el.$capsControlCells.removeClass("active");b.log("[Cnt_tbl_fs_2.deactivateCapsMatrix] Capabilities Matrix deactivated.")},collapseAllSections:function(c){var b=this;b.log("[Cnt_tbl_fs_2.collapseAllSections] Method starting.");b.el.$activeDiv.find("tr.sectionRow, tr.subsectionRow, tr.dataRow").removeClass("active");if(typeof c!=="undefined"){c()}b.log("[Cnt_tbl_fs_2.collapseAllSections] All sections collapsed.")},expandAllSections:function(c){var b=this;b.log("[Cnt_tbl_fs_2.expandAllSections] Method starting.");b.el.$activeDiv.find("tr.sectionRow, tr.subsectionRow, tr.dataRow").addClass("active");if(typeof c!=="undefined"){c()}b.log("[Cnt_tbl_fs_2.expandAllSections] All sections expanded.")},activateSection:function(d){var c=this;c.log("[Cnt_tbl_fs_2.activateSection] Method starting.");var b=c.el.$activeDiv.attr("id");if(!c.viewDiffsActive[b]){a('tr[data-category="'+d+'"]').addClass("active")}else{a('tr[data-category="'+d+'"]').filter(":not(.noDiffs)").addClass("active")}c.selectedSection[b]=d;c.log("[Cnt_tbl_fs_2.activateSection] Section activated: "+d+".")},deactivateSection:function(c){var b=this;b.log("[Cnt_tbl_fs_2.deactivateSection] Method starting.");a('tr[data-category="'+c+'"]').removeClass("active");b.log("[Cnt_tbl_fs_2.deactivateSection] Section deactivated: "+c+".")},toggleSection:function(d){var c=this;c.log("[Cnt_tbl_fs_2.toggleSection] Method starting.");var f=a(d.delegateTarget);var e=f.attr("class").indexOf("active")!=-1;var b=f.attr("data-category");if(e){c.deactivateSection(b);c.log("[Cnt_tbl_fs_2.toggleSection] "+b+" collapsed.")}else{c.activateSection(b);c.log("[Cnt_tbl_fs_2.toggleSection] "+b+" expanded.")}},preActivateSection:function(){var c=this;c.log("[Cnt_tbl_fs_2.preActivateSection] Method starting.");var e=mrm.util.getHash();var d=c.el.$activeDiv.find("tr.sectionRow:first");var b=d.attr("data-category");if(e==""||e.indexOf("Div")!=-1){if(c.viewDiffsActive[c.el.$activeDiv.attr("id")]){c.activateSection(b)}else{c.collapseAllSections(a.proxy(c.activateSection,c,b))}c.log("[Cnt_tbl_fs_2.preActivateSection] Section pre-activated: "+b+".")}},adjustSectionScroll:function(d){var b=this;b.log("[Cnt_tbl_fs_2.adjustSectionScroll] Method starting.");var c=d.offset().top;if(b.el.$activeDiv===b.el.$ftrsDiv){var f=b.el.$ftrsCtrlsTbl.offset().top+b.el.$ftrsCtrlsTbl.height()}else{var f=b.el.$capsConfigsTbl.offset().top+b.el.$capsConfigsTbl.height()}var e=Math.round(c-f);if(e!==0){window.scrollBy(0,e)}b.log("[Cnt_tbl_fs_2.adjustSectionScroll] scroll adjusted: "+e+"px.")},switchToContent:function(f){var e=this;e.log("[Cnt_tbl_fs_2.switchToContent] Method starting.");if(f.get(0).nodeName=="DIV"){return false}var j=f.attr("id");var d=f.attr("data-category");var g=f.closest("div.ui-tabs-panel");var c=g.attr("id");var h=(c=="featuresDiv")?0:1;var b=e.el.$activeDiv.attr("id");if(c!=b){e.el.$tabsDiv.tabs("select",h)}if(typeof j!=="undefined"){e.collapseAllSections(a.proxy(e.activateSection,e,d));e.log("[Cnt_tbl_fs_2.switchToContent] Section deeplink: "+j+". ")}setTimeout(a.proxy(e.adjustSectionScroll,e,f),750);e.log("[Cnt_tbl_fs_2.switchToContent] Deeplinking to "+d+" category.")},styleStickyNav:function(){var c=this;c.log("[Cnt_tbl_fs_2.styleStickyNav] Method starting.");var d=a(".backToMOV",c.el.$tabsDiv);if(d.length>0){var b=370;d.css("left",(c.el.$tabsDiv.offset().left+b)+"px")}c.log("[Cnt_tbl_fs_2.styleStickyNav] Sticky-nav styling completed.")},unstyleStickyNav:function(){var b=this;b.log("[Cnt_tbl_fs_2.unstyleStickyNav] Method starting.");var c=a(".backToMOV",b.el.$tabsDiv);if(c.length>0){c[0].removeAttribute("style")}b.log("[Cnt_tbl_fs_2.unstyleStickyNav] Sticky-nav styling removed.")},adjustMovLink:function(){var c=this;c.log("[Cnt_tbl_fs_2.adjustMovLink] Method starting.");var d=a(".backToMOV",c.el.$tabsDiv);if(d.length>0&&d.closest(".tabsDiv").hasClass("stickyNav")){var b=370;d.css("left",(c.el.$tabsDiv.offset().left+b)+"px");c.log("[Cnt_tbl_fs_2.adjustMovLink] Return-to-Model-Overview link position adjusted for sticky-nav.")}},checkStickyNavScroll:function(c){var b=this;var d=a(c.delegateTarget).scrollTop();if(d>=b.stickyNavStart){if(!b.el.$tabsDiv.hasClass("stickyNav")){b.el.$tabsDiv.addClass("stickyNav");b.styleStickyNav();if(b.stickyNavReturn===null){b.stickyNavReturn=a(".sectionRow",b.el.$activeDiv).filter(":eq(0)").offset().top}b.log("[Cnt_tbl_fs_2.checkStickyNavScroll] Sticky-nav activated.  stickyNavStart = "+b.stickyNavStart+"; ; stickyNavReturn = "+b.stickyNavReturn+".")}}else{if(d<b.stickyNavReturn){if(b.el.$tabsDiv.hasClass("stickyNav")){b.el.$tabsDiv.removeClass("stickyNav");b.unstyleStickyNav();b.log("[Cnt_tbl_fs_2.checkStickyNavScroll] Sticky-nav deactivated.  stickyNavStart = "+b.stickyNavStart+"; ; stickyNavReturn = "+b.stickyNavReturn+".")}}}}})})(mrm.$);(function(a){mrm.track=mrm.track||{};a.extend(mrm.track,{cnt_tbl_fs_2:{initTrack:function(c,d){var b=(mrm.util.touchDevice())?"touchstart":"click";c.find(".tabItem a").on(b,function(){var e=a(this).text();mrm.util.trackEvent("click_cta",{section:"features and specs",linkname:"tab:"+e})});c.find("input.drivetypeRadio").on(b,function(){var e=a(this).nextAll().find("span.drivetypeSpan").text();var f=c.find(".tabsList .tabItem.ui-state-active a").text();mrm.util.trackEvent("click_cta",{section:f,linkname:"drive:"+e})});c.find("input#ftrsViewdiffsChkbx, input#capsViewdiffsChkbx").on(b,function(){var e=a(this).nextAll("label").text();var f=c.find(".tabsList .tabItem.ui-state-active a").text();mrm.util.trackEvent("click_cta",{section:f,linkname:e})});a("#featuresDiv").on(b,".bodystyleItem",function(){var e=a(this).find(".labelP").text();var f=c.find(".tabsList .tabItem.ui-state-active a").text();mrm.util.trackEvent("click_cta",{section:f,linkname:"body:"+e})});a("#featuresDiv").on(b,".trimItem",function(){var e=a(this).find(".labelP").text();var f=c.find(".tabsList .tabItem.ui-state-active a").text();mrm.util.trackEvent("click_cta",{section:f,linkname:"trim:"+e})});a("#capabilitiesDiv").on(b,".engineItem",function(){var e=a(this).find(".labelP").text();var f=c.find(".tabsList .tabItem.ui-state-active a").text();mrm.util.trackEvent("click_cta",{section:f,linkname:"engine:"+e})});c.find(".sectionRow").on(b,function(){var e="expand";if(a(this).hasClass("active")){e="collapse"}var f=c.find(".tabsList .tabItem.ui-state-active a").text();var g=a(this).attr("id");mrm.util.trackEvent("click_cta",{section:f+":"+g,linkname:e})});c.find(".dataTable .detailsLink").on(b,function(){var e=a(this).find("span").text();var f=c.find(".tabsList .tabItem.ui-state-active a").text();var g=a(this).parents(".dataRow").prevAll(".sectionRow").attr("id");mrm.util.trackEvent("click_cta",{section:f+":"+g,linkname:"link:"+e})});c.find(".ctasRow a.btn_prim").on(b,function(){var e=a(this).find("span").text();var f=c.find(".tabsList .tabItem.ui-state-active a").text();mrm.util.trackEvent("click_cta",{section:f,linkname:"button:"+e})});c.find(".capsConfigsTable a.changeLink").on(b,function(){var e=a(this).find("span").text().trim();var f=c.find(".tabsList .tabItem.ui-state-active a").text();mrm.util.trackEvent("click_cta",{section:f,linkname:e})});a(".matrixTable").on(b,".matrixDrivetypeCell .drivetypeDiv",function(){var g=a(this).parent().prevAll().find(".engineLabelDiv").text().trim();var f=a(".matrixTable .matrixStylesRow ."+a(this).parent().attr("class").substr(a(this).parent().attr("class").indexOf("col"),5).trim()+" .styleLabelDiv span").text().trim();var e=a(this).find(".drivetypeLabelDiv").text().trim();mrm.util.trackEvent("click_cta",{section:"modal",linkname:g+":"+f+":"+e})})}}})}(mrm.$));(function(a){mrm.mod.Cnt_tbl_price_1=mrm.mod.AbstractMod.extend({events:{},prepare:function(){var b=this;var c=a.extend({},mrm.lbl.cnt_tbl_price_1||{});this.$ctx.dyntable({colHeadReplaceTxt:c.tx_head||"",dropdownLabelTxt:c.lbl||"",outsideDropdown:true,dynCols:1})}})})(mrm.$);(function(a){mrm.mod.Cnt_trim_1=mrm.mod.AbstractMod.extend({prepare:function(){var e=this;var f=e.$ctx.find("div.mmScroll");var c=f.find("ul.mmScrollItems");var b=f.find(".mmScrollBtn");var g=c.children("li");var d=c.children("li").length;g.find("dt").equalHeights();f.addClass("cols"+Math.min(6,d)).mmScroll({circular:false,infinite:false,width:"100%",align:"left",animateControls:false,items:{visible:5},onCreate:function(){b.each(function(){a(this).filter(".disabled").hide()})},scroll:{fx:"scroll",onBefore:function(){b.stop(true,true).each(function(){var h=a(this);h[h.hasClass("disabled")?"fadeOut":"fadeIn"](1500,"easeInOutExpo")})}}});g.find("dd .tx").equalHeights();e.$ctx.find("details").on("deets.opened",function(){a(this).addClass("open")});e.$ctx.find("details").on("deets.closed",function(){a(this).removeClass("open")})}})})(mrm.$);+(function(b){mrm.cmp=mrm.cmp||{};var a={data:{collection:[],slider:{},unit:{}},slide:{elem:{},values:{},popCollection:function(){b.each(this.elem.bucket.children(),function(d){var c=b(this);a.data.collection.push({value:c.attr("rel"),vehicle:c})});this.setMinMax()},getSizes:function(){return{"div$slider":Number(a.slide.elem["div$sliderWidth"]),"span$slider-l":a.slide.elem["span$slider-l"].width(),"span$slider-r":a.slide.elem["span$slider-r"].width(),"a$slider":-~(a.slide.elem["a$slider-l"].width()/2),"unit-min":Number(a.data.unit.min),"unit-max":Number(a.data.unit.max),"max+min":Number(a.data.unit.min)+Number(a.data.unit.max),"max-min":Number(a.data.unit.max)-Number(a.data.unit.min)}},setValue:function(c){var d=this.getSizes();c=Number(c);if(a.data.slider.type==="range"){return}if(c>d["unit-max"]){c=d["unit-max"]}else{if(c<=0){c=1}}c=a.data.slider.type==="min-to-max"?c-30:c+30;c=Math.ceil(d["div$slider"]/(d["unit-max"]/Number(c)));this.trackClicked({manual:c})},setMinMax:function(){var e=this.getSizes(),d=e["unit-max"]*10,c={min:Math.ceil((e["span$slider-l"]-e["a$slider"])*e["max-min"]/e["div$slider"]+e["unit-min"]),max:Math.ceil(e["max+min"]-(e["span$slider-r"]-e["a$slider"])*e["max-min"]/e["div$slider"]+e["unit-min"])};switch(a.data.slider.type){case"min-to-max":a.slide.values.min=c.min;a.slide.values.max=d;break;case"max-to-min":a.slide.values.min=0;a.slide.values.max=c.max;break;case"range":a.slide.values.min=c.min;a.slide.values.max=c.max;break}if(e["span$slider-l"]>=e["div$slider"]||e["span$slider-r"]<=e["a$slider"]*2){a.slide.values.max=d}a.slide.activateCollection()},timeout:function(c){window.setTimeout(function(){if(c.start>c.end-10&&c.start<c.move+10){this.setMinMax()}},500)},sliderMoved:function(h){var n=this,e=this.elem,o=this.getSizes(),j={start:Math.ceil((o["span$slider-l"]-o["a$slider"])*o["max-min"]/o["div$slider"]+o["unit-min"]),end:Math.ceil(o["max+min"]-(o["span$slider-r"]-o["a$slider"])*o["max-min"]/o["div$slider"]+o["unit-min"])},d={unit:Number(a.data.unit.min),px:(~~(0.5+o["div$slider"]/Number(a.data.unit.max))<10)?10:~~(0.5+o["div$slider"]/Number(a.data.unit.max))},f=h.clickedAt,c=0,m=o["span$slider-"+h.lr],l=true,g=0,k=0;b("html, body").on("mousemove",function(p){p.preventDefault();n.timeout({start:f,end:p.pageX});g=e["span$slider-l"].width();k=e["span$slider-r"].width();c=((h.lr==="l")?p.pageX-f:f-p.pageX)+m;if(a.data.slider.type==="min-to-max"||a.data.slider.type==="max-to-min"){l=(h.lr==="l")?((c<o["div$slider"]+o["a$slider"]&&c>o["a$slider"])?true:false):(o["div$slider"]-c>-o["a$slider"]&&c>o["a$slider"])?true:false;if(!l){return}e["span$slider-"+h.lr].css({width:c});e.track.css({width:c})}else{if(a.data.slider.type==="range"){l=(h.lr==="l")?((c<775-o["span$slider-r"]-d.px)?true:false):(o["div$slider"]-c>o["span$slider-l"]+d.px)?true:false;if(!l){return}if(c>o["a$slider"]&&c<o["div$slider"]){e["span$slider-"+h.lr].css({width:c});e.track.css({left:g-o["a$slider"],width:o["div$slider"]-(g+k)+(~~(0.5+o["a$slider"]*2))})}}}n.setMinMax()}).on("mouseup",function(){b(this).off("mousemove");a.slide.force=true;n.setMinMax()})},trackMoved:function(g){if(a.data.slider.type!=="range"){return}var l=this,d=this.elem,e=g.clickedAt,j={left:0,right:0},f=a.slide.elem["span$slider-l"].width(),h=a.slide.elem["span$slider-r"].width(),k={left:true,right:true},c={left:0,right:0,leftCount:0,rightCount:0};b("html, body").on("mousemove",function(m){l.timeout({start:e,end:m.pageX});j={left:f+(m.pageX-e),right:h-(m.pageX-e)};if(j.left<=8||j.right<=8){return}k.left=(a.slide.elem["a$slider-l"].position().left>0);k.right=(a.slide.elem["span$slider-r"].position().left<770);if(!k.left){if(c.leftCount++===1){c.left=m.pageX}}else{if(!k.right){if(c.rightCount++===1){c.right=m.pageX}}}if((k.left||m.pageX>=c.left)&&(k.right||m.pageX<=c.right)){d["span$slider-l"].css("width",j.left);d["span$slider-r"].css("width",j.right);d.track.css("left",j.left)}l.setMinMax()}).on("mouseup",function(){b(this).off("mousemove");l.setMinMax()})},trackClicked:function(m){var p=this,h=this.elem,q=this.getSizes(),d={l:h["div$slider"].offset().left},f={l:h.track.position().left,r:h.track.position().left+h.track.width()},j=m.manual||m.offsetX;if(a.data.slider.type==="range"){var l=m.pageX-d.l<f.l?"l":"r",n=l==="l"?j+q["a$slider"]:q["div$slider"]-(m.pageX-d.l)+(q["a$slider"]),k=h["span$slider-"+l].width()-n,g=l==="l"?n:f.l,c=h.track.width()+k+1;if(m.pageX-d.l<f.l||m.pageX-d.l>f.r){h["span$slider-"+l].animate({width:n},1000);h.track.animate({left:g,width:c},1000,function(){a.slide.setMinMax()})}}else{var l=a.data.slider.type==="min-to-max"?"l":"r",o=l==="l"?j>f.r||j<(f.r-(q["a$slider"]*2)):l==="r"&&typeof m.manual!=="undefined"?true:j<f.l||j>(f.l-(q["a$slider"]*2)),n=l==="l"?j+q["a$slider"]:typeof m.manual!=="undefined"?q["div$slider"]-j+q["a$slider"]:q["div$slider"]-(m.pageX-d.l)+(q["a$slider"]);if(o){h["span$slider-"+l].animate({width:n},1000);h.track.animate({width:n},1000,function(){a.slide.setMinMax()})}}},cursor:function(d){if(d.hasClass("cursor-open")){d.removeClass("cursor-open").addClass("cursor-close")}else{d.removeClass("cursor-close").addClass("cursor-open")}d.on("mouseup",function(){a.slide.cursor(b(this))})},toggleWrap:function(){var c=this,e=this.elem,f=e.wrap.is(":visible"),d=e.wrap.is(":animated");if(!d){e["header$heading"].find(f?".closed":".open").hide();e["header$heading"].find(f?".open":".closed").show();e.wrap.slideToggle(1000)}},activateCollection:function(){if(a.slide.animating&&!a.slide.force){return}b.each(a.data.collection,function(){var d=this["value"],c=this["vehicle"].css("opacity"),e=d>=a.slide.values.min&&d<=a.slide.values.max?"1":".1";a.slide.animating=true;if(!this["vehicle"].is(":animated")&&c!==e){this["vehicle"].animate({opacity:e})}});window.setTimeout(function(){a.slide.animating=false;a.slide.force=false},500)},listeners:function(){var c=this,e=this.elem,d=this.getSizes();e["header$heading"].on("click",function(){c.toggleWrap()});e["a$slider"].on("click",function(f){f.preventDefault();f.stopPropagation()}).on("mousedown",function(f){f.preventDefault();c.cursor(b(this));c.sliderMoved({lr:(b(this).hasClass("l"))?"l":"r",clickedAt:f.pageX})});e.track.on("mousedown",function(f){f.preventDefault();c.cursor(b(this));c.trackMoved({clickedAt:f.pageX})});e["div$slider"].on("click",function(f){f.stopPropagation();c.trackClicked(f)});e["div$filter"].on("click","article",function(f){c.setValue(Number(b(this).attr("rel")))})}},init:function(c){if(b("div.modCnt_vehicle_filter_1").length<1){return}this.slide.elem["div$filter"]=b("div.modCnt_vehicle_filter_1");this.slide.elem["header$heading"]=this.slide.elem["div$filter"].children("header");this.slide.elem.wrap=this.slide.elem["div$filter"].children("section");this.slide.elem["div$slider"]=this.slide.elem["div$filter"].find("div.slider");this.slide.elem["div$sliderWidth"]=this.slide.elem["div$slider"].width();this.slide.elem.bucket=this.slide.elem.wrap.find("section");this.slide.elem.track=this.slide.elem["div$filter"].find("span.track");this.slide.elem["a$slider"]=this.slide.elem["div$filter"].find("a.slider");this.slide.elem["a$slider-l"]=this.slide.elem["div$filter"].find("a.slider.l");this.slide.elem["a$slider-r"]=this.slide.elem["div$filter"].find("a.slider.r");this.slide.elem["a$sliderWidth"]=this.slide.elem["a$slider"].width();this.slide.elem["span$slider-l"]=this.slide.elem["a$slider-l"].parent("span");this.slide.elem["span$slider-r"]=this.slide.elem["a$slider-r"].parent("span");this.data.slider.type=this.slide.elem["div$filter"].data("type");this.data.slider.divisions=this.slide.elem["div$filter"].data("divisions")||5;this.data.unit.start=this.slide.elem["div$filter"].data("start")||0;this.data.unit.min=this.slide.elem["div$filter"].data("min")||0;this.data.unit.max=this.slide.elem["div$filter"].data("max")||15000;this.slide.elem["a$slider"].attr("hideFocus","true").css("outline","none");this.slide.popCollection();this.slide.listeners();this.slide.setValue(this.data.unit.start)}};b.extend(mrm.cmp,{cnt_vehicle_filter_1:{tpl:["06"],init:function(d){a.init()},toggle:function(){a.slide.toggleWrap()}}})})(jQuery);(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{cnt_well_2:{initMod:function(k){mrm.util.log("[mrm.cmp.cnt_well_2] Context: "+k);if(!a(".modCnt_well_2").length){return}var o=k,p=this,d;p.$cntWell=o;mrm.conf.cmp.cnt_Well_c2=mrm.conf.cmp.cnt_Well_c2||{};p.config=a.extend({max_width:938,min_width:730,start_height:685,end_height:800},mrm.conf.cmp.cnt_Well_c2||{});d=o.find(".scrollItems");d.after(a('<div class="video-layer" />'));var h=o.find(".mm_scroll, .scroll").first().addClass("mmScroll"),m=h.children("ul").children("li"),n=o.find(".video-layer");o.data("allImages",d.children("li").length===h.find(".fs-content > img.mm").length);var f=0;m.each(function(){var e=a(this);if(e.outerHeight()>f){f=e.outerHeight()}});var g=h.outerWidth();o.data("sizeRatio",f/g);o.find(".mmScrollThumbnailPaginationWrp").data("origHeight",o.find(".mmScrollThumbnailPaginationWrp").outerHeight(true));o.find("img.mm").removeAttr("width height");o.on("click","div.link.backtotop-text a",p._scrollToTop);if(h.length===0){mrm.corcmp.mmVideo.activateVideo(o)}if(m.length<=0){return}if(m.length===1){h.find(".mmScrollBtn").removeClass(".mmScrollBtn").hide()}else{h.children("span.prev, span.next").addClass("mmScrollBtn")}if(h.is(":hidden")){return}h.data("indexBase",0);var q={height:"variable",responsive:true,animateControls:false,onCreate:function(e){p._activateScrollerVideo(h)},prev:{button:function(){return h.find("> .prev")}},next:{button:function(){return h.find("> .next")}},swipe:true,scroll:{noWipeDirection:"vertical",onBefore:function(v,s,r,z){if(n.length>0){n.css("z-index",h.data("indexBase")-1)}var A=h.find("ul").triggerHandler("currentPosition");var u=h.parent().find(".mmScrollThumbnailPaginationInnerWrp li");u.removeClass("selected");u.parent().find(".thumbnail-item-"+A).addClass("selected");var e=u.parent().triggerHandler("currentVisible");e=e?e.length:0;var w=Math.floor(A/e);u.parent().trigger("slideToPage",w)},onAfter:function(u,s,r,w){p._activateScrollerVideo(h);mrm.corcmp.mmVideo.deactivateVideo(u,n);n.hide();n.empty();try{var z=s.find("img").attr("src");z=z.substr(z.lastIndexOf("/")+1)}catch(v){}}}};q=a.extend(true,q,mrm.conf.cmp.cnt_Well_c2.options||{});if(h.hasClass("ui-disable-loop")){q.circular=false;q.infinite=false}o.addClass("jsReady");var c=_.throttle(function(r){r.data={context:p,selector:o.attr("id")};p.winResize(r);p._adjust_well_link(o)},150);a(window).bind("resize",c);if(o.find("img.mm:eq(0)").length&&o.find('li div[class*="grid_"]').length<1){o.find("img.mm:eq(0)").one("load",function(r){r.data={context:p,selector:o.attr("id")};p.winResize(r);p._adjust_well_link(o);h.mmScroll(q);if(o.find(".mmScrollThumbnailPaginationWrp").length>0){p._setupThumbnailScroller(o,h)}}).each(function(){var e=a(this);if(this.complete){e.load()}if(mrm.util.ie()){setTimeout(function(){e.load()},1500)}})}else{var l={};l.type="load";l.currentTarget=a(".scrollItems li:eq(0)")[0];l.data={context:p,selector:o.attr("id")};p.winResize(l);p._adjust_well_link(o);h.mmScroll(q);if(o.find(".mmScrollThumbnailPaginationWrp").length>0){p._setupThumbnailScroller(o,h)}}var b=a.extend({},mrm.conf.plugin.cluetip||{},{local:true,arrows:true,sticky:false,width:"auto",splitTitle:"",cluetipClass:"cnt_well_2"});o.find(".mmScrollThumbnailPaginationWrp li").has("figcaption").cluetipWrap(b);if(o.find("img[data-"+mrm.ui.image_loader.src_attribute+"]").length){o.find(".mmScrollBtn").addClass("ui-helper-hidden");o.find(".mmScrollThumbnailPaginationInnerWrp").css("opacity",0);var j=a.eventDispatcher.on("image_loaded",function(){if(o.find("img."+mrm.ui.image_loader.loaded_class).length===o.find("img[data-"+mrm.ui.image_loader.src_attribute+"]").not("."+mrm.ui.image_loader.onscroll_class).length){var e=o.find(".mmScrollBtn");e.hide();e.removeClass("ui-helper-hidden");e.fadeIn();o.find(".mmScrollThumbnailPaginationInnerWrp").animate({opacity:1},400);a.eventDispatcher.off(j)}})}},thumbId:0,_scrollToTop:function(b){b.preventDefault();a("html, body").stop().animate({scrollTop:0},1000,"easeOutExpo")},_setupThumbnailScroller:function(h,g){var d=this;var b=h.find(".mmScrollThumbnailPaginationInnerWrp ol").addClass("mmScroll");b.find("span.prev, span.next").addClass("mmScrollBtn");var f=b.find("li");var e=h.find("img").first().width();f.each(function(){var k=a(this),l="thumbCap"+(d.thumbId++);var j=k.find("figcaption").attr("id",l);k.attr("rel","#"+l+" p")});f.first().addClass("selected");f.each(function(k,n){var m=a(this);m.addClass("thumbnail-item-"+k);if(m.find("a").length){var l=m.find("a"),j=l.attr("href");if(/^#.*?/gi.test(j)){l.on("click",function(o){o.preventDefault();var p=(a(j).offset().top)-d.config.scroll_offset;a("html, body").stop().animate({scrollTop:p},1500,"easeOutExpo")})}}else{m.click(function(){g.find("ul").trigger("slideTo",[k,0,true]);return false})}});var c={width:"98%",align:"left",auto:false,infinite:true,circular:true,swipe:true,prev:{button:function(){return a(this).parent().prev(".prev")}},next:{button:function(){return a(this).parent().next(".next")}}};if(g.hasClass("ui-disable-loop")){c.circular=false;c.infinite=false}b.mrmCarousel(c)},_activateScrollerVideo:function(f){var b=this;if(!f||f.length==0){return}var d=mrm.util.deepest(".ui-helper-visible",f);var e=f.find(".video-layer");var c=d.find("div.video");c.attr("data-height",c.parent().height());mrm.util.doInitVideo(d,true,e,b.jwpOptions);if(d.find("div.video").data("posterclick")===false){e.css("z-index",f.data("indexBase")+1).show()}else{c.on("click",function(){e.css({"z-index":f.data("indexBase")+1,width:f.find("li").find(".fs-content").width(),height:f.find("li").find(".fs-content").height()}).show();e.find("div").css({width:f.find("li").find(".fs-content").width(),height:f.find("li").find(".fs-content").height()})})}e.closest(".mod").off("mmVideoComplete");e.closest(".mod").on("mmVideoComplete",function(g){e.css("z-index",f.data("indexBase")-1).hide()})},winResize:function(n){var j=a(window).height(),p=this,g=n?"":"#"+p.$cntWell.attr("id");if(n){p=n.data.context;g="#"+n.data.selector}var f=p.config,j=a(window).height(),h=a(g),l=0,k=false;if(j!==+h.data("last_window_height")||n.type==="load"){if(j<f.start_height){l=f.min_width;if(h.data("allImages")){k=true}}else{if(j>f.end_height){l=f.max_width}else{var b=f.end_height-f.start_height;var d=f.max_width-f.min_width;var o=(j-f.start_height)/b;l=Math.floor(f.min_width+(d*o))}}h.width(l);h.find(".scroll").width(l);h.find(".fs-content").height("auto");var q=h.find(".fs-content > .video");if(q.length){q.css({width:l,height:"auto"});var c=q.parent().height();q.attr("data-width",l);q.attr("data-height",c);h.find(".video-layer").css({width:l,height:c});h.find(".video-layer>div").css({width:l,height:c})}var m=h.find(".mmScrollThumbnailPaginationWrp");if(k){m.addClass("overlay")}else{m.removeClass("overlay")}m.width(l);h.data("last_window_height",j)}},_adjust_well_link:function(b){if(b.find(".well_link").length){var g=a(b.find(".section-title").find("figcaption").find(".txtWrp")[0]||b.find(".section-title").find(".caption")[0]),e=b.find(".well_link"),d=a(e[0]),h=b.find(".link.backtotop-text").find("a"),j=0,c=b.width()-d.outerWidth(true),f=0;if(g.length){j=g.position().left+g.width()}if(j>c){if(h.length){}e.addClass("displaced")}else{e.removeAttr("style").removeClass("displaced");h.removeClass("ui-helper-hidden")}}}}})})(mrm.$);(function(a){mrm.track=mrm.track||{};a.extend(mrm.track,{cnt_well_2:{initTrack:function(c,d){var b=(mrm.util.touchDevice())?"touchstart":"click";c.find(".backtotop-text").on(b,function(){mrm.util.trackEvent("click_cta",{section:d,linkname:"back to top"})});c.find(".mmScrollBtn.prev").on(b,function(){var e=a(this).next().find("img").attr("src");if(typeof(e)!=="undefined"){e=e.substr(e.lastIndexOf("/")+1)}mrm.util.trackEvent("click_cta",{section:d,linkname:"arrow:prev:"+e})});c.find(".mmScrollBtn.next").on(b,function(){var e=a(this).prevAll().find("ul li").next().find("img").attr("src");if(typeof(e)!=="undefined"){e=e.substr(e.lastIndexOf("/")+1)}mrm.util.trackEvent("click_cta",{section:d,linkname:"arrow:next:"+e})});c.find(".thumbsBtn.prev").on(b,function(){mrm.util.trackEvent("click_cta",{section:d,linkname:"thumb:arrow:prev"})});c.find(".thumbsBtn.next").on(b,function(){mrm.util.trackEvent("click_cta",{section:d,linkname:"thumb:arrow:next"})});c.find(".mmScrollThumbnailPagination img").on(b,function(){var e=a(this).attr("src");e=e.substr(e.lastIndexOf("/")+1);mrm.util.trackEvent("click_cta",{section:d,linkname:"thumb:"+e})})}}})}(mrm.$));(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{cnt_well_exp_1:{tpl:["05","06","08","10"],initMod:function(b){this.setButtonSize(b);this.setExpandButtons(b)},setButtonSize:function(b){if(b.find(".exp-switch.main a span").length>0){b.find(".exp-switch.main").width(b.find(".exp-switch.main a span").width())}else{b.find(".exp-switch.main a img").load(function(){a(this).parent().parent().width(this.width)}).each(function(){a(this).parent().parent().width(this.width)})}if(b.find(".exp-switch.secondary a span").length>0){b.find(".cnt_well_exp").addClass("expanded");b.find(".exp-switch.secondary").width(b.find(".exp-switch.secondary a span").width());b.find(".cnt_well_exp").removeClass("expanded")}else{b.find(".exp-switch.secondary a img").load(function(){a(this).parent().parent().width(this.width)}).each(function(){a(this).parent().parent().width(this.width)})}},setExpandButtons:function(c){var b=this;c.find(".exp-switch a").click(function(d){var f=c.find(".exp-switch.main").offset().top+100;var g=a(this).parent().parent();if(g.hasClass("expanding")||g.hasClass("expanded")){if(a(this).find("span").length){var e=g.find(".exp-switch.main span").attr("data-label-expand");g.find(".exp-switch.main span").text(e)}b.collapse(g.parent(),d,f)}else{if(a(this).find("span").length){var e=g.find(".exp-switch.main span").attr("data-label-close");g.find(".exp-switch.main span").text(e)}b.expand(g.parent())}d.preventDefault()})},expand:function(b){this.setButtonSize(b);b.find(".cnt_well_exp").addClass("expanding");b.find(".cnt_well_exp .content-wrapper").slideDown("slow",function(){b.find(".cnt_well_exp").removeClass("expanding");b.find(".cnt_well_exp").addClass("expanded")})},collapse:function(b,c,d){this.setButtonSize(b);b.find(".cnt_well_exp").removeClass("expanding");b.find(".cnt_well_exp").removeClass("expanded");b.find(".cnt_well_exp .content-wrapper").stop().slideUp("fast",function(){if(!a(c.currentTarget).parent().hasClass("main")){window.scrollTo(0,d)}a(this).removeAttr("style")})}}})}(mrm.$));(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{colorizer:{tpl:["01","02","03","04","05","06","08","12","13","14"],$colorizerModules:null,clickOrTouch:null,vehicleConfig:null,init:function(h){var l=this;var g=this.$colorizerModules=a("div.modColorizer");l.clickOrTouch=(mrm.util.touchDevice())?"touchstart":"click";l.vehicleConfig=mrm.conf.util.vehicleConfig||{};if(!g.length){return}var b=g.closest("div.mmScroll"),e=b.find("li.colorizer_view").find("figcaption.legal"),j=b.closest(".modMh_scroller_1, .modMh_expander_1").children(".modConnect_1"),k=a(),f=mrm.conf.corcmp.mm_scroller||{},d=a.extend({animateColorizerItems:true,animateControlsForTouch:true},mrm.conf.cmp.colorizer||{});f=f.animateControls||{};f.speed=f.speed||300;g.each(function(){var q=a(this),w=a("ul.colors > li > a",q),r=q.attr("id"),v=q.add(b.children("div.mh_default_content_wrapper."+r)),u=b.find("li.colorizer_view"),s=u.find("figure > img"),c=u.find("figcaption"),m=mrm.conf.cmp.colorizer||{},p=a.extend({},mrm.conf.plugin.cluetip,m.clueTipSettings);if(colorizerBackgroundImage=a("ul.colors",q).attr("background-image-url")){u.css("background-image",'url("'+colorizerBackgroundImage+'")')}w.first().closest("li").addClass("active");q.on("colorizerItemChange",function(C,z,A,B){k=z;if(z.hasClass(r)){v.data("activeColorizer",true).fadeIn(B)}else{v.data("activeColorizer",false).fadeOut(B)}});a.eventDispatcher.on("vehicle_config_load",function(B){var C=mrm.util.vehicleConfig;var A=(C.isConfigured())?C.getConfiguredColor():C.getPreferredColor();if(A){var z=q.find('li[data-colorid="'+A+'"]');if(!z.hasClass("active")){z.find("a").trigger("colorizer-custom-click")}}});var o;if((typeof w.data("events")==="undefined")||(typeof w.data("events").fullPageColorizer==="undefined")){var n=l.clickOrTouch+" colorizer-custom-click";w.on(n,function(C,B){B=B||[];var A=a(this).closest("li"),G=A.data("imagesource"),z=A.data("colorid"),D="active",H,F,J,I="extra.png",E;A.addClass(D).siblings("."+D).removeClass(D);if(b.hasClass("ui-scroller-type2")&&(typeof(mrm.cmp.mh_1.scrollerType2)==="object")){mrm.cmp.mh_1.scrollerType2.colorizer(A.data("colorpath"))}else{s.filter(function(){return a(this).parents(".modMh_scroller_1, .modMh_expander_1").has(C.target).length>0}).attr("src",function(L,K){var M=a(this),N=M.hasClass(mrm.ui.image_loader.onload_class)&&M.is("[data-"+mrm.ui.image_loader.src_attribute+"]");if(N){K=M.data(mrm.ui.image_loader.src_attribute)}if(G==="cgi"){H=K.indexOf(I);F=K.substr(H-3,3);J=K.replace(F+I,z+I);E=z}else{if(A.data("alt")!==undefined&&A.data("alt")!==""){E=A.data("alt")}else{E=A.data("colorpath").substr(0,A.data("colorpath").length-1).split("/").pop()}J=A.data("colorpath")+K.split("/").pop()}if(N){M.data(mrm.ui.image_loader.src_attribute,J);return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"}else{return J}}).attr("alt",E)}c.html(A.data("text"));c.trigger("initTooltip");if((l.clickOrTouch==="touchstart")&&(a("#cluetip").length>0)){a(this).trigger("mouseover");clearTimeout(o);o=setTimeout(function(){a("#cluetip").fadeOut(1000)},4000)}if(mrm.conf.cmp.colorizer.fullPageColorizer&&(B!=="fromFPCBinding")){a(document).trigger("fullPageColorizer",["mastheadColorizer",E])}if(l.vehicleConfig.enabled){if(!mrm.util.vehicleConfig.isConfigured()){if(z&&z!=mrm.util.vehicleConfig.getPreferredColor()){mrm.util.vehicleConfig.setPreferredColor(z)}}}return false});if(m.useColorTip){w.on("mouseover",function(z){clearTimeout(o);o=setTimeout(function(){a("#cluetip").fadeOut(1000)},4500)});(w).cluetipWrap(p)}}if(q.parents(".modMh_expander_1").length<1&&d.enableScroller){l.initScrollableColorizer(q,d.maxVisibleColours,d.scrollerSettings)}});d.animateColorizerItems&&g.closest("div.mmScroll").on("showControls hideControls",function(m){if(!mrm.util.touchDevice()||(d.animateControlsForTouch&&mrm.util.touchDevice())){var c=m.type==="showControls";g.filter(function(){return a(this).data("activeColorizer")===true}).stop(true,true)[c?"slideDown":"slideUp"](f.speed);k.find(e).add(j).animate({opacity:c?1:0},f.speed)}});if(mrm.conf.cmp.colorizer.fullPageColorizer){this.fullPageColorizerBindings()}},fullPageColorizerBindings:function(){var c=this;if((typeof a(document).data("events")==="undefined")||(typeof a(document).data("events").fullPageColorizer==="undefined")){var g=false;a(document).on("fullPageColorizer",function(m,l,k){if(c.$colorizerModules.length>0){if(l!=="mastheadColorizer"){var j=a("div.modColorizer li:first").data("colorpath").split("/");j[j.length-2]=k;a('div.modColorizer li[data-colorpath="'+j.join("/")+'"] a').trigger(c.clickOrTouch,["fromFPCBinding"])}}a("div.modMm_3.ui-colorizer").each(function(q){var r=a(this),s=r.find("img:last");if(s.length>0){if(!g){s.parent().css({position:"relative",height:s.height()})}var u=a("<img>");u.fadeTo(0,0).css({position:"absolute",left:0,top:0});s.after(u).css({position:"absolute",left:0,top:0});u.load(function(){a(this).fadeTo(1000,1,function(){r.find("img").not(":last").remove()})});var p=s.attr("src");var o=p.split("/");o[o.length-2]=k;u.attr("src",o.join("/"))}});g=true;var n=k.split("_");n.pop();mrm.util.cookie.set("lastColorizer",n.join("_"),{expires:30,path:"/"})});if(mrm.util.cookie.get("lastColorizer")){var e,f=mrm.util.cookie.get("lastColorizer");for(var d=0;d<mrm.conf.cmp.colorizer.colorOptions.length;d++){var b=mrm.conf.cmp.colorizer.colorOptions[d].name;var h=b.split("_");h.pop();if(h.join("_").toLowerCase()===f.toLowerCase()){a(document).trigger("fullPageColorizer",["cookie",b])}}}}},initScrollableColorizer:function(d,c,b){if(a("ul.colors li",d).length>c){if(!a("ul.colors",d).hasClass("mmScrollItems")){a("ul.colors",d).addClass("mmScrollItems")}a("dd",d).addClass("mmScroll").mmScroll(b)}}}})}(mrm.$));(function(a){mrm.track=mrm.track||{};a.extend(mrm.track,{colorizer:{initTrack:function(b,c){clickOrTouch=(mrm.util.touchDevice())?"touchstart":"click";b.find("li.color-chip a").on(clickOrTouch,function(){if(a("a").parents("div").hasClass("mm_colorizer_c1_threesixty")){return}else{colorname=a(this).text();mrm.util.trackEvent("click_cta",{section:"masthead",linkname:"color:"+colorname})}})}}})}(mrm.$));(function(a){mrm.mod.Connect_1=mrm.mod.AbstractMod.extend({options:{selector:".modConnect",},prepare:function(){var b=this;if(mrm.conf.util.sharing.socialPrivacy){b.disableTags();b.$ctx.find(".deactivatedService").css("display","inline-block");mrm.util.sharing.initSocialSwitches(b.$ctx)}if(b.cfg.lazyLoad){mrm.util.sharing.addToLazyLoad(".modConnect_1")}if(!mrm.conf.util.sharing.socialPrivacy){mrm.util.sharing.loadTwitter();mrm.util.sharing.loadFacebook()}},disableTags:function(){this.$ctx.find(" .fb-like, .twitter-follow-button").each(function(e,b){var d=a(b);var c=d.attr("class");d.attr("class",c.replace(/(fb-like|twitter-follow-button)/,mrm.conf.util.sharing.disabledProviderTag+"$1"))})}})})(mrm.$);(function(a){mrm.track=mrm.track||{};a.extend(mrm.track,{connect_1:{initTrack:function(c,d){var b=(mrm.util.touchDevice())?"touchstart":"click";a(".socialSwitch",c).on(b,function(){var g=a(this).parents(".socialPrivacy").attr("class").match(/service[\w\-]*\b/)[0],e=g.replace("service-",""),f="";if(a(this).hasClass("on")){f="soc_slider_on"}else{f="soc_slider_off"}if(window.Omniture_s){mrm.util.tagging.omniture_tl(true,"social_switch","o","",{prop27:"soc_slider",prop32:Omniture_s.pageName+":"+f+":"+e})}})}}})}(mrm.$));(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{disclaimer_1:{init:function(b){this._initTooltip(a("body"));this._bindEvents()},_bindEvents:function(){var b=this;a("body").on("click",function(c){b._hideTooltip()});a("#mds-area-header").on("headerFlyoutOpened",function(){b._hideTooltip()});a("body").on("hideTooltip",function(c){b._hideTooltip()}).on("loadBBC",function(c){b._initTooltip(a(c.target))}).on("initTooltip",function(c){b._initTooltip(a(c.target))})},_initTooltip:function(c){var d=a("a.disclaimer_1",c);if(d.length==0){return}d.attr("rel",function(){return"|"+a(".modDisclaimer_1 "+a(this).attr("href")).html()});var b=a.extend(true,{},mrm.conf.plugin.cluetip,mrm.conf.cmp.disclaimer_1.cluetip);d.cluetipWrap(b)},_hideTooltip:function(){a(document).trigger("hideCluetip")}}})}(mrm.$));(function(a){mrm.mod.Divisional_logo=mrm.mod.AbstractMod.extend({events:{},prepare:function(){var b=this;var c=b.$ctx;if(a("#mds-area-header.enhanced_navigation").length){b.sticky_init()}},sticky_init:function(){var c=a(".divisional_logo");var b=a(".modNav_sec");var e=c.outerHeight();a(window).scroll(function(){d()});a(window).bind("touchmove",function(f){d()});a(document).onscroll=function(){d()};function d(){var f=a(window).scrollTop();var g=0;if(b.length){g=parseInt(b.css("border-top-width").replace("px",""))}calcScroll=f-e;if(calcScroll<0){a("#mds-area-header").css("top","-"+f+"px")}else{a("#mds-area-header").css("top","-"+parseInt(e+g)+"px")}}d()}})})(mrm.$);window.FlashCanvasOptions={swfPath:"/static/cms/all/swf/",disableContextMenu:true};window.ActiveXObject&&!window.CanvasRenderingContext2D&&function(j,m){function O(a){this.code=a;this.message=ea[a]}function y(a,b,c){if(!c){c=[];for(var d=0,e=a*b*4;d<e;++d){c[d]=0}}this.width=a;this.height=b;this.data=c}function fa(a){this.width=a}function P(a){this.id=a.I++}function z(a){this.O=a;this.id=a.I++}function D(a,b){this.canvas=a;this.w=b;this.f=a.uniqueID;this.J();this.I=0;this.j=this.H="";this.c=0}function E(){if(m.readyState==="complete"){m.detachEvent(Q,E);for(var a=m.getElementsByTagName(u),b=0,c=a.length;b<c;++b){F.initElement(a[b])}}}function R(){var a=event.srcElement,b=a.parentNode;a.blur();b.focus()}function G(){event.button&2&&event.srcElement.parentNode.setCapture()}function H(){event.button&2&&event.srcElement.parentNode.releaseCapture()}function S(){var a=event.propertyName;if(a==="width"||a==="height"){var b=event.srcElement,c=b[a],d=parseInt(c,10);if(isNaN(d)||d<0){d=a==="width"?300:150}if(c===d){b.style[a]=d+"px";b.getContext("2d").P(b.width,b.height)}else{b[a]=d}}}function T(){j.detachEvent(U,T);for(var a in n){var b=n[a],c=b.firstChild,d;for(d in c){if(typeof c[d]==="function"){c[d]=k}}for(d in b){if(typeof b[d]==="function"){b[d]=k}}c.detachEvent(V,R);c.detachEvent(I,G);b.detachEvent(J,H);b.detachEvent(W,S)}j[X]=k;j[Y]=k;j[Z]=k;j[K]=k;j[$]=k}function ga(){var a=m.getElementsByTagName("script");a=a[a.length-1];return m.documentMode>=8?a.src:a.getAttribute("src",4)}function ha(a){return a.toLowerCase()}function g(a){throw new O(a)}function aa(a){var b=parseInt(a.width,10),c=parseInt(a.height,10);if(isNaN(b)||b<0){b=300}if(isNaN(c)||c<0){c=150}a.width=b;a.height=c}var k=null,u="canvas",X="CanvasRenderingContext2D",Y="CanvasGradient",Z="CanvasPattern",K="FlashCanvas",$="G_vmlCanvasManager",V="onfocus",I="onmousedown",J="onmouseup",W="onpropertychange",Q="onreadystatechange",U="onunload",q;try{q=(new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version").match(/[\d,]+/)[0].replace(/,/g,".")}catch(ia){q=0}var r=j[K+"Options"]||{},ba=r.swfPath||ga().replace(/[^\/]+$/,""),x;x=parseInt(q)>9?ba+"flash10canvas.swf":ba+"flash9canvas.swf";var A={},B={},ca={},L={},v={},da={},n={},C={},l={C:"turbo" in r?r.turbo:1,B:r.delay||0,M:r.disableContextMenu||0,N:r.imageCacheSize||100,D:r.usePolicyFile||0};if(q==="10.1.53.64"){l.C=0;l.B=30}D.prototype={save:function(){this.e(15);this.L.push([this.l,this.m,this.v,this.k,this.p,this.n,this.o,this.q,this.t,this.u,this.r,this.s,this.j,this.z,this.A]);this.a.push("B")},restore:function(){var a=this.L;if(a.length){a=a.pop();this.globalAlpha=a[0];this.globalCompositeOperation=a[1];this.strokeStyle=a[2];this.fillStyle=a[3];this.lineWidth=a[4];this.lineCap=a[5];this.lineJoin=a[6];this.miterLimit=a[7];this.shadowOffsetX=a[8];this.shadowOffsetY=a[9];this.shadowBlur=a[10];this.shadowColor=a[11];this.font=a[12];this.textAlign=a[13];this.textBaseline=a[14]}this.a.push("C")},scale:function(a,b){this.a.push("D",a,b)},rotate:function(a){this.a.push("E",a)},translate:function(a,b){this.a.push("F",a,b)},transform:function(a,b,c,d,e,f){this.a.push("G",a,b,c,d,e,f)},setTransform:function(a,b,c,d,e,f){this.a.push("H",a,b,c,d,e,f)},createLinearGradient:function(a,b,c,d){isFinite(a)&&isFinite(b)&&isFinite(c)&&isFinite(d)||g(9);this.a.push("M",a,b,c,d);return new z(this)},createRadialGradient:function(a,b,c,d,e,f){isFinite(a)&&isFinite(b)&&isFinite(c)&&isFinite(d)&&isFinite(e)&&isFinite(f)||g(9);if(c<0||f<0){g(1)}this.a.push("N",a,b,c,d,e,f);return new z(this)},createPattern:function(a,b){a||g(17);var c=a.tagName,d,e,f,h=this.f;if(c){c=c.toLowerCase();if(c==="img"){d=a.getAttribute("src",2)}else{if(c===u){e=this.G(a);f=a!==this.canvas}else{if(c==="video"){return}else{g(17)}}}}else{if(a.src){d=a.src}else{g(17)}}b==="repeat"||b==="no-repeat"||b==="repeat-x"||b==="repeat-y"||b===""||b===k||g(12);if(!e){e=B[h][d];if(f=e===void 0){e=this.F(d)}}this.a.push("O",e,b);if(f&&A[h]){this.g();++v[h]}return new P(this)},clearRect:function(a,b,c,d){this.a.push("X",a,b,c,d);this.b||this.d();this.c=0},fillRect:function(a,b,c,d){this.e(1);this.a.push("Y",a,b,c,d);this.b||this.d();this.c=0},strokeRect:function(a,b,c,d){this.e(6);this.a.push("Z",a,b,c,d);this.b||this.d();this.c=0},beginPath:function(){this.a.push("a")},closePath:function(){this.a.push("b")},moveTo:function(a,b){this.a.push("c",a,b)},lineTo:function(a,b){this.a.push("d",a,b)},quadraticCurveTo:function(a,b,c,d){this.a.push("e",a,b,c,d)},bezierCurveTo:function(a,b,c,d,e,f){this.a.push("f",a,b,c,d,e,f)},arcTo:function(a,b,c,d,e){e<0&&isFinite(e)&&g(1);this.a.push("g",a,b,c,d,e)},rect:function(a,b,c,d){this.a.push("h",a,b,c,d)},arc:function(a,b,c,d,e,f){c<0&&isFinite(c)&&g(1);this.a.push("i",a,b,c,d,e,f?1:0)},fill:function(){this.e(1);this.a.push("j");this.b||this.d();this.c=0},stroke:function(){this.e(6);this.a.push("k");this.b||this.d();this.c=0},clip:function(){this.a.push("l")},isPointInPath:function(a,b){this.a.push("m",a,b);return this.g()==="true"},fillText:function(a,b,c,d){this.e(9);this.h.push(this.a.length+1);this.a.push("r",a,b,c,d===void 0?Infinity:d);this.b||this.d();this.c=0},strokeText:function(a,b,c,d){this.e(10);this.h.push(this.a.length+1);this.a.push("s",a,b,c,d===void 0?Infinity:d);this.b||this.d();this.c=0},measureText:function(a){var b=C[this.f];try{b.style.font=this.font}catch(c){}b.innerText=a.replace(/[ \n\f\r]/g,"\t");return new fa(b.offsetWidth)},drawImage:function(a,b,c,d,e,f,h,i,s){a||g(17);var o=a.tagName,t,p,M,w=arguments.length,N=this.f;if(o){o=o.toLowerCase();if(o==="img"){t=a.getAttribute("src",2)}else{if(o===u){p=this.G(a);M=a!==this.canvas}else{if(o==="video"){return}else{g(17)}}}}else{if(a.src){t=a.src}else{g(17)}}if(!p){p=B[N][t];if(M=p===void 0){p=this.F(t)}}this.e(0);if(w===3){this.a.push("u",w,p,b,c)}else{if(w===5){this.a.push("u",w,p,b,c,d,e)}else{if(w===9){if(d===0||e===0){g(1)}this.a.push("u",w,p,b,c,d,e,f,h,i,s)}else{return}}}if(M&&A[N]){this.g();++v[N]}else{this.b||this.d()}this.c=0},createImageData:function(a,b){var c=Math.ceil;if(arguments.length===2){isFinite(a)&&isFinite(b)||g(9);if(a===0||b===0){g(1)}}else{a instanceof y||g(9);b=a.height;a=a.width}a=c(a<0?-a:a);b=c(b<0?-b:b);return new y(a,b)},getImageData:function(a,b,c,d){isFinite(a)&&isFinite(b)&&isFinite(c)&&isFinite(d)||g(9);if(c===0||d===0){g(1)}this.a.push("w",a,b,c,d);a=this.g();c=typeof JSON==="object"?JSON.parse(a):m.documentMode?eval(a):a.slice(1,-1).split(",");a=c.shift();b=c.shift();return new y(a,b,c)},putImageData:function(a,b,c,d,e,f,h){a instanceof y||g(17);isFinite(b)&&isFinite(c)||g(9);var i=arguments.length,s=a.width,o=a.height,t=a.data;if(i===3){this.a.push("x",i,s,o,t.toString(),b,c)}else{if(i===7){isFinite(d)&&isFinite(e)&&isFinite(f)&&isFinite(h)||g(9);this.a.push("x",i,s,o,t.toString(),b,c,d,e,f,h)}}this.b||this.d();this.c=0},J:function(){this.globalAlpha=this.l=1;this.globalCompositeOperation=this.m="source-over";this.fillStyle=this.k=this.strokeStyle=this.v="#000000";this.lineWidth=this.p=1;this.lineCap=this.n="butt";this.lineJoin=this.o="miter";this.miterLimit=this.q=10;this.shadowBlur=this.r=this.shadowOffsetY=this.u=this.shadowOffsetX=this.t=0;this.shadowColor=this.s="rgba(0, 0, 0, 0.0)";this.font=this.j="10px sans-serif";this.textAlign=this.z="start";this.textBaseline=this.A="alphabetic";this.a=[];this.L=[];this.i=[];this.h=[];this.b=k;this.K=1},e:function(a){var b=this.a,c;if(this.l!==this.globalAlpha){b.push("I",this.l=this.globalAlpha)}if(this.m!==this.globalCompositeOperation){b.push("J",this.m=this.globalCompositeOperation)}if(this.t!==this.shadowOffsetX){b.push("T",this.t=this.shadowOffsetX)}if(this.u!==this.shadowOffsetY){b.push("U",this.u=this.shadowOffsetY)}if(this.r!==this.shadowBlur){b.push("V",this.r=this.shadowBlur)}if(this.s!==this.shadowColor){c=this.s=this.shadowColor;(""+c).indexOf("%")>0&&this.i.push(b.length+1);b.push("W",c)}if(a&1){if(this.k!==this.fillStyle){c=this.k=this.fillStyle;if(typeof c==="object"){c=c.id}else{(""+c).indexOf("%")>0&&this.i.push(b.length+1)}b.push("L",c)}}if(a&2){if(this.v!==this.strokeStyle){c=this.v=this.strokeStyle;if(typeof c==="object"){c=c.id}else{(""+c).indexOf("%")>0&&this.i.push(b.length+1)}b.push("K",c)}}if(a&4){if(this.p!==this.lineWidth){b.push("P",this.p=this.lineWidth)}if(this.n!==this.lineCap){b.push("Q",this.n=this.lineCap)}if(this.o!==this.lineJoin){b.push("R",this.o=this.lineJoin)}if(this.q!==this.miterLimit){b.push("S",this.q=this.miterLimit)}}if(a&8){if(this.j!==this.font){a=C[this.f].offsetHeight;this.h.push(b.length+2);b.push("o",a,this.j=this.font)}if(this.z!==this.textAlign){b.push("p",this.z=this.textAlign)}if(this.A!==this.textBaseline){b.push("q",this.A=this.textBaseline)}if(this.H!==this.canvas.currentStyle.direction){b.push("1",this.H=this.canvas.currentStyle.direction)}}},d:function(){var a=this;a.b=setTimeout(function(){if(v[a.f]){a.d()}else{a.b=k;a.g(l.C)}},l.B)},Q:function(){clearTimeout(this.b);this.b=k},g:function(a){var b,c,d,e=this.i,f=this.h,h=this.a,i=this.w;if(h.length){this.b&&this.Q();if(a){b=0;for(c=e.length;b<c;++b){d=e[b];h[d]=encodeURI(h[d])}b=0;for(c=f.length;b<c;++b){d=f[b];h[d]=encodeURIComponent(h[d])}}else{b=0;for(c=f.length;b<c;++b){d=f[b];h[d]=(""+h[d]).replace(/&/g,"&amp;").replace(/</g,"&lt;")}}b=h.join("\u0001");this.a=[];this.i=[];this.h=[];if(a){i.flashvars="c="+b;i.width=i.clientWidth+this.K;this.K^=-2}else{return i.CallFunction('<invoke name="executeCommand" returntype="javascript"><arguments><string>'+b+"</string></arguments></invoke>")}}},P:function(a,b){this.g();this.J();if(a>0){this.w.width=a}if(b>0){this.w.height=b}this.a.push("2",a,b);this.b||this.d();this.c=0},G:function(a){var b=a.uniqueID,c=u+":"+b;if(a.width===0||a.height===0){g(11)}if(b!==this.f){a=n[b].getContext("2d");if(!a.c){b=++da[b];c+=":"+b;a.a.push("3",b);a.b||a.d();a.c=1}}return c},F:function(a){var b=this.f,c=B[b],d=ca[b],e=c[a]=L[b]++;if(e>=l.N-1){L[b]=0}e in d&&delete c[d[e]];this.h.push(this.a.length+2);this.a.push("5",e,a);d[e]=a;return e}};z.prototype={addColorStop:function(a,b){if(isNaN(a)||a<0||a>1){g(1)}var c=this.O,d=this.id;(""+b).indexOf("%")>0&&c.i.push(c.a.length+3);c.a.push("y",d,a,b)}};O.prototype=Error();var ea={1:"INDEX_SIZE_ERR",9:"NOT_SUPPORTED_ERR",11:"INVALID_STATE_ERR",12:"SYNTAX_ERR",17:"TYPE_MISMATCH_ERR",18:"SECURITY_ERR"},F={initElement:function(a){if(a.getContext){return a}var b=a.uniqueID,c="external"+b;A[b]=0;B[b]={};ca[b]=[];L[b]=0;v[b]=1;da[b]=0;aa(a);a.innerHTML='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+location.protocol+'//fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="100%" height="100%" id="'+c+'"><param name="allowScriptAccess" value="always"><param name="flashvars" value="id='+c+'"><param name="wmode" value="transparent"></object><span style="margin:0;padding:0;border:0;display:inline-block;position:static;height:1em;overflow:visible;white-space:nowrap"></span>';n[b]=a;var d=a.firstChild;C[b]=a.lastChild;var e=m.body.contains;if(e(a)){d.movie=x}else{var f=setInterval(function(){if(e(a)){clearInterval(f);d.movie=x}},0)}if(m.compatMode==="BackCompat"||!j.XMLHttpRequest){C[b].style.overflow="hidden"}var h=new D(a,d);a.getContext=function(i){return i==="2d"?h:k};a.toDataURL=function(i,s){if(a.width===0||a.height===0){return"data:,"}(""+i).replace(/[A-Z]+/g,ha)==="image/jpeg"?h.a.push("A",i,typeof s==="number"?s:""):h.a.push("A",i);return h.g().slice(1,-1)};d.attachEvent(V,R);if(l.M){d.attachEvent(I,G);a.attachEvent(J,H)}l.D&&h.a.push("4","usePolicyFile",l.D);return a},saveImage:function(a){a.firstChild.saveImage()},setOptions:function(a){for(var b in a){var c=a[b];switch(b){case"turbo":l.C=c;break;case"delay":l.B=c;break;case"disableContextMenu":var d=l.M=c;c=void 0;for(c in n){var e=n[c],f=d?"attachEvent":"detachEvent";e.firstChild[f](I,G);e[f](J,H)}break;case"imageCacheSize":l.N=c;break;case"usePolicyFile":d=b;c=l.D=c?1:0;e=void 0;for(e in n){f=n[e].getContext("2d");f.h.push(f.a.length+2);f.a.push("4",d,c)}}}},trigger:function(a,b){n[a].fireEvent("on"+b)},unlock:function(a,b){v[a]&&--v[a];if(b){var c=n[a],d=c.firstChild,e,f;aa(c);e=c.width;f=c.height;c.style.width=e+"px";c.style.height=f+"px";if(e>0){d.width=e}if(f>0){d.height=f}d.resize(e,f);c.attachEvent(W,S);A[a]=1}}};m.createElement(u);m.createStyleSheet().cssText=u+"{display:inline-block;overflow:hidden;width:300px;height:150px}";m.readyState==="complete"?E():m.attachEvent(Q,E);j.attachEvent(U,T);if(x.indexOf(location.protocol+"//"+location.host+"/")===0){q=new ActiveXObject("Microsoft.XMLHTTP");q.open("GET",x,false);q.send(k)}j[X]=D;j[Y]=z;j[Z]=P;j[K]=F;j[$]={init:function(){},init_:function(){},initElement:F.initElement}}(window,document);(function(a){a.extend(true,mrm.cmp,{hmc_1:{filters:{},$segmentFilter:null,$sortingSelect:null,init:function(b){this.$ctx=a(".modHmc_1");if(!this.$ctx.length){return}this.$segmentFilter=this.$ctx.find(".hmc_segment_filter_1");this.$sortingSelect=this.$ctx.find(".hmc_sort_1 select");_.each(this.$ctx.find(".hmc_filter_1"),function(c){var e=a(c);var f=e.find(".slider");if(f.length){this.initSlider(f)}var d=e.find(".button-group");if(d.length){this.initButtonGroup(d)}},this);this.initSegmentFilter();this.$sortingSelect.on("change",a.proxy(this.onSortingChange,this));a.eventDispatcher.on("HMC_changeMode",a.proxy(function(c,d){this.$ctx.toggle(d.mode==="choose")},this));_.defer(a.proxy(function(){this.$sortingSelect.trigger("change");a.eventDispatcher.trigger("HMC_filterComplete",this.filters);a.eventDispatcher.trigger("HMC_changeMode",{mode:"choose"})},this));this.$ctx.addClass("jsReady");if(this.$ctx.closest("div.masthead").length){this.$ctx.css("margin-top",function(c){return"-"+a(this).height()+"px"})}},initSlider:function(f){var c=this;var d=f.data("filter");var e=f.siblings("div.values");var b={range:d.sliderType=="range"||(d.sliderType=="maxToMin"?"min":"max"),min:d.minValue,max:d.maxValue,step:d.sliderIncrement,create:function(h,g){c.onSliderCreate(a(this),e)},stop:function(h,g){c.onSliderStop(a(this),e,g)},slide:function(h,g){c.onSliderSlide(a(this),e,g)}};if(b.range!==true){b.value=b[b.range==="min"?"max":"min"]}else{b.values=[b.min,b.max]}f.slider(b)},onSliderCreate:function(e,c){var b=[e.slider("values",0)];if(e.slider("option","range")===true){b.push(e.slider("values",1))}e.data("lastValues",b);var d=e.data("filter");this.displaySliderValues(c,b,d);this.filters[d.attributeId]={type:"range",params:this.getFilterRangeData(e,b)}},onSliderSlide:function(f,c,d){var b=d.values||[d.value];var e=f.data("filter");this.displaySliderValues(c,b,e);this.filters[e.attributeId]={type:"range",params:this.getFilterRangeData(f,b)};a.eventDispatcher.trigger("HMC_filterChange",this.filters)},onSliderStop:function(f,c,d){var b=d.values||[d.value];var e=f.data("filter");window.clearTimeout(this.slideTimeoutId);this.filters[e.attributeId]={type:"range",params:this.getFilterRangeData(f,b)};a.eventDispatcher.trigger("HMC_filterComplete",this.filters)},initSegmentFilter:function(){this.$segmentFilter.on("change",a.proxy(this.onSegmentChange,this));var b=(mrm.util.getUrlParam("segments")||"").split(",");if(b==""){if(this.$segmentFilter.find(".checked")){if(a("html").hasClass("msie8")){a(window).load(function(){a(".hmc_segment_filter_1").find("li.checked").find("span").click()})}else{a(window).load(function(){a(".hmc_segment_filter_1").find("li.checked").find("*").click()})}}else{this.$segmentFilter.find(".showAll").trigger("change")}}},onSegmentChange:function(e){var c=a(e.target);if(window.Omniture_s){var b=Omniture_s.pageName;mrm.util.tagging.omniture_tl(c,c.parent().find("label").text(),"o","my_toggle",{pageName:b,prop27:"model year toggle",prop32:b+":model year toggle:"+c.parent().find("label").text()})}if(c.is(".showAll")){c.prop("checked",true).checkBox("update");this.$segmentFilter.find(":checkbox:not(.showAll)").prop("checked",false).checkBox("update");delete this.filters.segment;c.parent("li").addClass("checked").siblings().removeClass("checked")}else{this.$segmentFilter.find(".showAll").prop("checked",false).checkBox("update").parent("li").removeClass("checked");var d=this.$segmentFilter.find(":checkbox:not(.showAll):checked");var f=_.map(d,function(g){return a(g).val()},this);if(f.length){this.filters.segment={type:"segment",list:f}}else{delete this.filters.segment}c.parent().parent().find("li.checked").removeClass("checked");d.parent("li").addClass("checked")}a.eventDispatcher.trigger("HMC_filterComplete",this.filters)},initButtonGroup:function(b){b.on("click",a.proxy(this.onButtonGroupClick,this))},onButtonGroupClick:function(c){c.preventDefault();var b=a(c.target).closest("a");var e=b.data("filter");var d=b.closest("ul.button-group");if(b.hasClass("selected")){b.removeClass("selected");delete this.filters[e.attributeId]}else{d.find("a.btn.selected").removeClass("selected");b.addClass("selected");if(e.minValue!==undefined){this.filters[e.attributeId]={type:"range",params:{start:parseFloat(e.minValue),end:parseFloat(e.maxValue)}}}else{if(e.value!==undefined){this.filters[e.attributeId]={type:"value",value:e.value}}}}a.eventDispatcher.trigger("HMC_filterComplete",this.filters)},getFilterRangeData:function(h,b){var f=h.data("filter");var g=h.data("lastValues");var e=0;var d=Number.MAX_VALUE;var c;if(b.length>1){e=b[0];if(b[1]!=f.maxValue){d=b[1]}}else{c=f.sliderType=="maxToMin";if(c&&b[0]!=f.maxValue){d=b[0]}if(!c){e=b[0]}}h.data("lastValues",b);return{start:e,end:d}},displaySliderValues:function(c,b,e){var d=e.sliderType!="minToMax"&&b[b.length-1]==e.maxValue?"+":"";if(b.length==1){a(".end",c).text(this.valueFormat(b[0],e)+d)}else{a(".start",c).text(this.valueFormat(b[0],e));a(".end",c).text(this.valueFormat(b[1],e)+d)}},onSortingChange:function(d){var c=a(d.target);if(window.Omniture_s){var b=Omniture_s.pageName;mrm.util.tagging.omniture_tl(c,c.find(":selected").text(),"o","sort_filter",{pageName:b,prop27:"sort filter",prop32:b+":sort filter:"+c.find(":selected").text()})}a.eventDispatcher.trigger("HMC_sortingChange",_.extend({attribute:c.val()},c.find(":selected").data()))},valueFormat:function(c,b){if(b.formatAsNumber||b.showAsCurrency){return mrm.util.numberFormat(c,b.numberOfDecimals,b.showAsCurrency)}return parseFloat(c).toFixed(b.numberOfDecimals)}}})})(mrm.$);(function(a){a.extend(true,mrm.cmp,{hmc_result_1:{bodystyleCollection:null,bodystyleViews:{},allIds:[],activeIds:[],passiveIds:[],sortedList:null,$ctx:null,$resultList:null,$noResultContainer:null,$checkboxes:null,sizeClasses:["size_1","size_2","size_3"],init:function(d){this.$ctx=a(".modHmc_result_1");if(!this.$ctx.length){return}this.$checkboxes=this.$ctx.find(":checkbox");this.$resultList=this.$ctx.find("ul.tiles");this.$resultList.show();this.$noResultContainer=this.$ctx.find("div.msg.noResult");var b=a.extend({},mrm.conf.plugin.cluetip,{prepareTitleAttr:true,cluetipClass:"hmc",positionByMethod:"",positionBy:"mouse",width:150,topOffset:-20,onShow:function(c){if(a(this).find(".ui-checkbox-disabled").length){c.addClass("disabled");a(this).css("cursor","auto")}}});this.bodystyleCollection=new Backbone.Collection();_.each(this.$resultList.children(),function(g){var c=a(g);var h=c.data("bodystyle");h.id=c.attr("id");var e=new Backbone.Model(h);this.bodystyleCollection.add(e);this.bodystyleViews[h.id]=new Backbone.View({model:e,el:"#"+h.id});if(!mrm.util.touchDevice()){var f=c.find("a.toggle-details");f.attr("title","|"+f.text()).cluetipWrap(b)}},this);if(!mrm.util.touchDevice()){this.$checkboxes.each(function(){var c=a(this).parent("div.checkbox-wrapper");c.attr("title","|"+c.attr("title")).cluetipWrap(b)})}this.allIds=_.pluck(this.bodystyleCollection.toJSON(),"id");this.setBindings()},setBindings:function(){this.$ctx.on("change",a.proxy(function(d){var b=a(d.target);var c=b.is(":checked")?"HMC_addItem":"HMC_removeItem";a.eventDispatcher.trigger(c,{items:[b.val()]})},this));this.$ctx.on("click",".ui-checkbox-disabled",a.proxy(function(b){a.eventDispatcher.trigger("HMC_showList")},this));this.$ctx.on("click","a.compare",a.proxy(function(b){b.preventDefault();this.compareBySegment(a(b.target).data("segment"))},this));a("ul.size_2 a.toggle-details, ul.size_3 a.toggle-details").live("click",a.proxy(this.onToggleClick,this));a.eventDispatcher.on("HMC_filterChange",_.throttle(a.proxy(this.onFilterChange,this),100));a.eventDispatcher.on("HMC_filterComplete",a.proxy(this.onFilterComplete,this));a.eventDispatcher.on("HMC_sortingChange",a.proxy(this.onSortingChange,this));a.eventDispatcher.on("HMC_addItem",a.proxy(function(b,c){_.each(c.items,function(d){this.$ctx.find(':checkbox[value="'+d+'"]').prop("checked",true).checkBox("update")},this)},this));a.eventDispatcher.on("HMC_removeItem",a.proxy(function(b,c){_.each(c.items,function(d){this.$ctx.find(':checkbox[value="'+d+'"]').prop("checked",false).checkBox("update")},this)},this));a.eventDispatcher.on("HMC_tableLock",a.proxy(function(){this.$checkboxes.filter(":not(:checked)").prop("disabled",true).checkBox("update")},this));a.eventDispatcher.on("HMC_tableUnlock",a.proxy(function(){this.$checkboxes.prop("disabled",false).checkBox("update")},this));a.eventDispatcher.on("HMC_changeMode",a.proxy(function(b,c){this.$ctx.toggle(c.mode==="choose")},this));a.eventDispatcher.on("HMC_clearAll",a.proxy(function(b,c){this.$checkboxes.prop("checked",false).checkBox("update")},this))},onFilterChange:function(b,c){this.computeActiveTiles(c);_.each(this.activeIds,function(d){this.bodystyleViews[d].$el.removeClass("toBeRemoved")},this);_.each(this.passiveIds,function(d){this.bodystyleViews[d].$el.addClass("toBeRemoved")},this);this.$noResultContainer.toggle(!this.activeIds.length)},onFilterComplete:function(b,c){this.computeActiveTiles(c);_.each(this.activeIds,function(d){this.bodystyleViews[d].$el.removeClass("toBeRemoved");this.bodystyleViews[d].$el.show()},this);_.each(this.passiveIds,function(d){this.bodystyleViews[d].$el.hide()},this);this.updateList();this.prepareTiles()},onSortingChange:function(b,c){this.sortedList=this.getSortedList(c.attribute);_.each(this.sortedList,function(d){this.$resultList.append(this.bodystyleViews[d].$el)},this);this.prepareTiles()},positionSegmentTitels:function(){_.each(_.groupBy(this.bodystyleCollection.toJSON(),"segment"),function(j,h){var g=_.first(_.intersection(this.sortedList,_.pluck(j,"id")));var c=a("#"+g);c.addClass("hasSegmentTitle");var d=a("<h2>").addClass("hl_s segmentTitle").text(c.data("bodystyle").label);if(typeof mrm.conf.cmp.cnt_tbl_comp_1!=="undefined"&&typeof mrm.conf.cmp.cnt_tbl_comp_1.compareSegmentTitleLabel!=="undefined"&&mrm.conf.cmp.cnt_tbl_comp_1.comparisonEnabled!=false){d.append(a("<a>").attr("href","#").addClass("compare").text(mrm.conf.cmp.cnt_tbl_comp_1.compareSegmentTitleLabel).attr("data-segment",c.data("bodystyle").segment))}c.prepend(d);var b=c.siblings().filter(function(){return a(this).data("row")==c.data("row")});b.addClass("hasSegmentTitle");if(d.length){var f=d.height();var e=parseFloat(d.parent().css("margin-top"));d.css("margin-top",(e-f)/2+"px")}},this)},compareBySegment:function(c){var b=_.pluck(this.bodystyleCollection.where({segment:c}),"id");var d=_.first(_.intersection(this.sortedList,this.activeIds,b),3);a.eventDispatcher.trigger("HMC_clearAll");a.eventDispatcher.trigger("HMC_addItem",{items:d});a.eventDispatcher.trigger("HMC_changeMode",{mode:"compare"})},updateList:function(){var e=this.activeIds.length;var d=this.sizeClasses[2];this.$resultList.toggleClass("noResultsVisible",!e);this.$noResultContainer.toggle(!e);if(e<9&&e>4){d=this.sizeClasses[1]}else{if(e<5){d=this.sizeClasses[0]}}this.$resultList.removeClass(this.sizeClasses.join(" ")).addClass(d);var b=_.reduce(this.activeIds,function(f,g){return f.add(this.bodystyleViews[g].$el)},a(),this);b.find("img.size_1").removeClass("active");b.children().height("auto");if(d!==this.sizeClasses[0]){b.children().equalHeights()}var c=[];_.each(this.activeIds,function(f){c.push(a("#"+f).find(".checkbox-wrapper input").attr("value"))},self);a.eventDispatcher.trigger("HMC_update",{activeIds:c});this.$ctx.trigger("HMC_update")},getSortedList:function(b){return _.pluck(_.sortBy(this.bodystyleCollection.toJSON(),function(d){var c=d.sorting[b];if(isNaN(c)==false){c=parseFloat(c)}return c},this),"id")},computeActiveTiles:function(c){var b=this.bodystyleCollection.toJSON();_.each(c,function(e,d){switch(e.type){case"range":b=_.filter(b,function(f){return f.filtering[d]>=e.params.start&&f.filtering[d]<=e.params.end});break;case"segment":b=_.filter(b,function(h){var k=false;var f=false;var g=false;var j=false;mrm.$.each(e.list,function(l,m){if(!isNaN(m)){k=true}else{f=true}});if(k){g=_.contains(e.list,String(h.modelyear))}else{g=true}if(f){j=_.indexOf(e.list,h.segment)>-1}else{j=true}return(g&&j)});break;case"value":b=_.filter(b,function(f){return f.filtering[d]===e.value});break}},this);this.activeIds=_.pluck(b,"id");this.passiveIds=_.difference(this.allIds,this.activeIds)},onCloseClick:function(d){d.preventDefault();var b=this;var c=b.$resultList.children();c.filter(".expanded").find("a.toggle-details").trigger("click")},onToggleClick:function(m){m.preventDefault();var r=this;var d=a(m.target);var j=d.parents("li.tile");var k=r.$resultList.children();var o=k.filter(":visible:not(.tileOverlay)");var g;var h=o.index(j)+1;var q=6;if(j.parent().hasClass("size_3")){q=6}else{if(j.parent().hasClass("size_2")){q=4}}var p=Math.ceil(o.length/q);for(var f=1;f<=p;f++){if(h<=(f*q)){g=o.eq((f*q)-1);if(o.length<(f*q)){g=o.eq(o.length-1)}break}}var b=j.find(".modVi_hmc_1").children().clone();b.find(".ui-checkbox, input[type=checkbox]").remove();if(b.find(".modMm_colorizer").length==1){var n=b.find(".modMm_colorizer").attr("id");b.find(".modMm_colorizer").attr("id","overlay_"+n);b.find("li."+n).removeClass(n).addClass("overlay_"+n)}var c=a("<li>").addClass("tileOverlay").append(b).data("row",j.data("row")).insertAfter(g);if(c.find(".hasColorizer").length==1){c.find(".hasColorizer").addClass("active")}else{c.find("img.size_1").addClass("active")}var l=k.filter(".tileOverlay:visible");if(l.data("row")==g.data("row")){l.remove();c.show();r.initScroll(c);a.eventDispatcher.trigger("HMC_load_colorizer",{colorizer:c.find(".modMm_colorizer")})}else{l.slideUp(300,function(){a(this).remove()});c.slideDown(300,function(){r.initScroll(c);a.eventDispatcher.trigger("HMC_load_colorizer",{colorizer:c.find(".modMm_colorizer")})})}if(j.hasClass("expanded")){j.removeClass("expanded");c.slideUp(300,function(){a(this).remove()})}else{o.removeClass("expanded");j.addClass("expanded");a(".tileOverlay dl.hide_price_six_column").show();a(".tileOverlay dl.six_column_atributes").hide()}},prepareTiles:function(){var d=this;var e=d.$resultList.children();e.removeClass("hasSegmentTitle expanded last-in-row last-row first-in-row");e.find("h2.segmentTitle").remove();e.find("img.size_1").removeClass("active");e.filter(".tileOverlay:visible").remove();var b=e.filter(":visible:not(.tileOverlay)");if(b.length==0){return}var f=6;if(d.$resultList.hasClass("size_3")){f=6}else{if(d.$resultList.hasClass("size_2")){f=4}else{if(d.$resultList.hasClass("size_1")){f=1}}}var g=0;var h=0;var c=Math.ceil(b.length/f);e.data("row",h);b.each(function(j,k){g++;if(g==(f)||(b.index(a(this))+1)==b.length){a(this).addClass("last-in-row")}if(g==(f+1)){g=1}if(g==1){a(this).addClass("first-in-row");h++}if(h==c){a(this).addClass("last-row")}a(this).data("row",h)});if(b.parent().hasClass("size_1")){b.each(function(){if(a(this).find(".hasColorizer").length==1){a(this).find(".hasColorizer").addClass("active");d.initScroll(a(this));a.eventDispatcher.trigger("HMC_show_colorizer",{colorizer:a(this).find(".modMm_colorizer")})}else{a(this).find("img.size_1").addClass("active")}})}if(a("#hmc_sort_1 option:selected").val()=="segment"){if(typeof mrm.conf.cmp.hmc_result_1!=="undefined"&&typeof mrm.conf.cmp.hmc_result_1.showSegmentTitles!=="undefined"&&mrm.conf.cmp.hmc_result_1.showSegmentTitles==true){d.positionSegmentTitels()}}a("dl.six_column_atributes").css("font-size","0.83em");if(a("div#container div.mod ul.tiles").hasClass("size_3")){a("dl.hide_price_six_column").hide();a("dl.six_column_atributes").show()}else{a("dl.hide_price_six_column").show();a("dl.six_column_atributes").hide();if(!a("div#container div.mod ul.tiles").hasClass("size_1")){this.updateList()}}},initTooltip:function(c){var d=a("a.disclaimer_1",c);d.attr("rel",function(){return"|"+a(".modDisclaimer_1 "+a(this).attr("href")).html()});var b=a.extend(true,{},mrm.conf.plugin.cluetip,mrm.conf.cmp.disclaimer_1.cluetip);d.cluetipWrap(b)},initScroll:function(c){var j=this;j.initTooltip(c);var b=c.find(".mm_scroll, .mmScroll").addClass("mmScroll"),f=b.children("ul").children("li");if(f.length<=0){return}b.children("span.prev, span.next").addClass("mmScrollBtn");var k={height:"variable",onCreate:function(m){}};k=a.extend(true,k,mrm.conf.cmp.mm_1||{});if(b.hasClass("disable-looping")){k.circular=false;k.infinite=false}if(b.hasClass("use-lightbox")){var l=b.parent().clone().appendTo(b.parent().parent()),d=l.find(".mm_scroll").addClass("mmScroll"),e=d.children("ul"),g=b.children("ul");var h=l.find("[id]");h.attr("id",function(m,n){return mrm.util.getRandomString("cloned","_")+n});e.children("li").each(function(){var m=a(this).find("figure, dl.figure").data();if(m.lightboxTitle&&m.lightboxCaption&&m.lightboxImage&&m.lightboxImageWidth&&m.lightboxImageHeight){a(this).find("img.mm").attr("src",m.lightboxImage).attr("width",m.lightboxImageWidth).attr("height",m.lightboxImageHeight);a(this).find("figcaption .txtWrp, dfn").text(m.lightboxCaption)}});d.mmScroll(a.extend({},k,{width:"variable",scroll:{fx:"none"}}));l.hide();l.mrmDialog(a.extend(true,{},mrm.conf.plugin.ui_dialog||{},{autoOpen:false,width:l.outerWidth(),dialogClass:"mm-content"}));f.on("click",function(){var m=g.triggerHandler("currentPosition");l.dialog("open");e.trigger("slideTo",m)})}b.mmScroll(k)}}})})(mrm.$);(function(a){a.extend(mrm.track,{hmc_result_1:{isFirstUpdate:true,initTrack:function(b,c){b.on("HMC_update",a.proxy(function(){if(this.isFirstUpdate){mrm.util.tagging.omniture_tl(true,"HMC init","o","event19",{});this.isFirstUpdate=false}else{mrm.util.tagging.omniture_tl(true,"HMC filter change","o","event20",{})}},this));b.on("click","ul.tiles li",function(f){a(this).find("div a").removeAttr("onclick");a(this).find("div div h3 a").removeAttr("onclick");var e=a(f.target);if(window.Omniture_s){var d=Omniture_s.pageName;mrm.util.tagging.omniture_tl(e,a(this).find("div div h3 a").text(),"o","choose_vehicle",{pageName:d,prop27:"model select",prop32:d+":model select:"+a(this).find("div div h3 a").text()})}})}}})}(mrm.$));(function(a){mrm.mod.Iframe_2=mrm.mod.AbstractMod.extend({$iframe:a(),$closeButton:a(),$reopenButtonArea:a(),iframeSrc:undefined,events:{"click .close":"onCloseClick","click .further > *":"onReopenClick"},prepare:function(){var b=this;b.$iframe=b.$ctx.find("iframe");b.$closeButton=b.$ctx.find("a.close");b.$reopenButtonArea=b.$ctx.find(".further");b.iframeSrc=b.$iframe.attr("src");if(b.$iframe.data("autoheight")){b.$iframe.responsiveIframe({scrollToTop:false})}},onCloseClick:function(c){var b=this;c.preventDefault();b.$iframe.addClass("ui-helper-hidden").attr("src","");b.$closeButton.addClass("ui-helper-hidden");b.$reopenButtonArea.removeClass("ui-helper-hidden")},onReopenClick:function(c){var b=this;c.preventDefault();b.$iframe.removeClass("ui-helper-hidden").attr("src",b.iframeSrc);b.$closeButton.removeClass("ui-helper-hidden");b.$reopenButtonArea.addClass("ui-helper-hidden")}})})(mrm.$);(function(a){mrm.mod.Ilike_btn=mrm.mod.AbstractMod.extend({prepare:function(){var b=this;if(mrm.conf.util.sharing.socialPrivacy){b.disableTags();mrm.util.sharing.initSocialSwitches(b.$ctx)}},disableTags:function(){this.$ctx.find(".fb-like").each(function(e,b){var d=a(b);var c=d.attr("class");d.attr("class",c.replace(/(fb-like)/,mrm.conf.util.sharing.disabledProviderTag+"$1"))})}})})(mrm.$);(function(a){mrm.track=mrm.track||{};a.extend(mrm.track,{ilike_btn:{initTrack:function(c,d){var b=(mrm.util.touchDevice())?"touchstart":"click";a(".socialSwitch",c).on(b,function(){var g=a(this).parents(".socialPrivacy").attr("class").match(/service[\w\-]*\b/)[0],e=g.replace("service-",""),f="";if(a(this).hasClass("on")){f="soc_slider_on"}else{f="soc_slider_off"}if(window.Omniture_s){mrm.util.tagging.omniture_tl(true,"social_switch","o","",{prop27:"soc_slider",prop32:Omniture_s.pageName+":"+f+":"+e})}})}}})}(mrm.$));(function(){mrm.$(window).load(function(){if(document.getElementById("_bapw-icon")){var g=document,d,f=(g.location.protocol=="https:"?"https":"http"),h=(f=="https"?"https://info.evidon.com/c/betrad/pub/":"http://cdn.betrad.com/pub/");g.getElementById("_bapw-icon").src=h+"icon1.png";if(mrm.util.locale.getCountry().toLowerCase()==="ca"){if(mrm.util.locale.getLang().toLowerCase()==="fr"){(function(){var b=document.createElement("script");b.type="text/javascript";b.async=true;b.setAttribute("data-ev-tag-pid",1112);b.setAttribute("data-ev-tag-ocid",797);b.src=("https:"==document.location.protocol?"https://":"http://")+"c.betrad.com/pub/tag.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a)})();(function(){var b=document.createElement("script");b.type="text/javascript";b.async=true;b.setAttribute("data-ev-hover-pid",1112);b.setAttribute("data-ev-hover-ocid",797);b.src=("https:"==document.location.protocol?"https://":"http://")+"c.betrad.com/geo/h1.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a)})()}else{(function(){var b=document.createElement("script");b.type="text/javascript";b.async=true;b.setAttribute("data-ev-tag-pid",1111);b.setAttribute("data-ev-tag-ocid",797);b.src=("https:"==document.location.protocol?"https://":"http://")+"c.betrad.com/pub/tag.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a)})();(function(){var b=document.createElement("script");b.type="text/javascript";b.async=true;b.setAttribute("data-ev-hover-pid",1111);b.setAttribute("data-ev-hover-ocid",797);b.src=("https:"==document.location.protocol?"https://":"http://")+"c.betrad.com/geo/h1.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a)})()}}else{g.getElementById("_bapw-link").onclick=function(){var a=this;function b(n,c){var m=g.getElementsByTagName("head")[0]||g.documentElement,o=false,p=g.createElement("script");function e(){p.onload=p.onreadystatechange=null;m.removeChild(p);c()}p.src=n;p.onreadystatechange=function(){if(!o&&(this.readyState=="loaded"||this.readyState=="complete")){o=true;e()}};p.onload=e;m.insertBefore(p,m.firstChild)}this.onclick="return false";b(f+"://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js",function(){b(h+"pub1.js",function(){BAPW.i(a,{pid:45,ocid:797},false)})});return false};d=g.createElement("img");d.src=f+"://l.betrad.com/pub/p.gif?pid=45&ocid=797&ii=1&r="+Math.random();d.height="1";d.width="1";g.body.appendChild(d)}}})}());(function(a){mrm.mod.Lyr_email_1=mrm.mod.AbstractMod.extend({prepare:function(){var c=this,e=this.$ctx,b=a("form",e),f=e.data("callerData")||{},d=a.extend({},mrm.conf.cmp.lyr_email_1);if(e.closest(".ui-dialog").length){e.closest(".ui-dialog").addClass("email_background")}if(f.js_field_name){b.append('<input type="hidden" name="'+f.js_field_name+'" value="1" />')}b.submit(function(j){j.preventDefault();var h=a("li:has(:input)",e);var g=c._validateFields(h);if(g.success==true){a.ajax({type:"POST",url:b.attr("action"),data:a(this).serialize(),dataType:"json",success:function(k){if(k.success){b.hide();a("div.lyr_success",e).show()}var l=k.fields;c._highlightFields(e,l)},error:function(){var k={tx_error:{highlight:true,msg:d.errormsg}};c._highlightFields(e,k)}})}else{g.fields["tx_error"]={highlight:true,msg:d.validationmsg};c._highlightFields(e,g.fields)}return false});a(".lyr_success > .tx > a",e).on("click",function(g){e.parent().dialog("close")});a('textarea[data-type="multi-email"]',e).on("keyup input",function(h){var g=a(h.target).closest("textarea, input");c.onTypeMultiEmail(g,h)})},_highlightFields:function(c,b){if(!b){return}a.each(b,function(g){var f=b[g];var e=a("."+g,c);if(f.highlight){if(g=="tx_error"){e.css("display","block")}e.addClass("ui-state-error")}else{if(g=="tx_error"){e.css("display","none")}e.removeClass("ui-state-error")}if(f.msg){var d=a("label",e);e=d.length==0?e:d;e.html(f.msg)}})},_isEmail:function(b){return/^[a-zA-Z0-9._%\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,4}$/.test(b)},_extractMultiEmailChunks:function(b){var c;b=b.replace(/[ ,;\n]+/g,",");if(b.substr(-1)===","){b=b.substr(0,b.length-1)}c=b.split(",");return(c.length==1&&c[0]=="")?[]:c},onTypeMultiEmail:function(b){var c=b.val(),d=this._extractMultiEmailChunks(c);if(d.length<=10){return}b.val(c.substring(0,c.lastIndexOf(d[9])+d[9].length))},_validateFields:function(c){var b=this,d=true;$sendToSelfCheckbox=c.find("input:checkbox"),outputObject={fields:{}};c.each(function(){var l,g,j=a(":input",this),n=a(this).attr("class").match(/(form_.*?)\b/)[1]||"",k=j.val(),h=j.attr("required")=="required"?true:false,e=j.attr("maxlength")||0,m=false;if(j.is(":checkbox")){return true}outputObject.fields[n]=outputObject.fields[n]||{highlight:false};m=h&&(k.length==0);if(!m&&e>0){m=k.length>e}switch(j.data("type")||"text"){case"email":m=!b._isEmail(k);break;case"multi-email":m=false;g=b._extractMultiEmailChunks(k);h=!$sendToSelfCheckbox.prop("checked");outputObject.fields[n].tooManyEmails=false;if(h&&!g.length){m=true;break}if(g.length>10){g.length=10;j.val(g.join(","))}for(var f=0;f<g.length;f++){if(!b._isEmail(g[f])){m=true;break}}break}outputObject.fields[n].highlight=m;d=m==true?false:d});outputObject.success=d;return outputObject}})})(mrm.$);(function(a){mrm.cmp=mrm.cmp||{};mrm.cmp.mh_1=a.extend(mrm.cmp.mh_1,{init:function(b){if(!a(".mh_title_1").length){return}if(mrm.util.curTemplate()==="16"){a.eventDispatcher.on("vehicle_config_change",this.render_text);a.eventDispatcher.on("vehicle_config_load",this.render_text)}},initMod:function(c){var b=this;b._checkImageWidth(c);a.eventDispatcher.on("mh_scroller_ready",function(){b._checkImageWidth(c)})},render_text:function(b,d){var c=pageData["vehicle-info"];d=localStorage.byo;if(d){d=JSON.parse(d);if(d&&d[c.year]&&d[c.year][c.carline]&&d[c.year][c.carline][c.bodystyle]){d=d[c.year][c.carline][c.bodystyle];a(".mh_title_1:has(.tx p)").each(function(){var f=a(this);var e=f.data("template")||f.find(".tx p").html()||"";if(/\[[\s\S]*?TrimName[\s\S]*?TrimPrice[\s\S]*?\]|\[[\s\S]*?TrimPrice[\s\S]*?TrimName[\s\S]*?\]/gi.test(e)){if(!f.data("template")){f.data("template",e)}if(d.calculated_msrp&&d.vehicle_name){e=e.replace(/TrimName/gi,d.vehicle_name);e=e.replace(/TrimPrice/gi,mrm.cmp.mh_1.format_price(d.calculated_msrp));e=e.replace(/[\[\]]/gi,"");f.find(".tx p").html(e);f.show()}else{f.hide()}}})}}else{if(/\[[\s\S]*?TrimName[\s\S]*?TrimPrice[\s\S]*?\]|\[[\s\S]*?TrimPrice[\s\S]*?TrimName[\s\S]*?\]/gi.test(a(".mh_title_1:has(.tx p)").html())){a(".mh_title_1:has(.tx p)").hide();setTimeout(mrm.cmp.mh_1.render_text,200)}}},format_price:function(c){var b=mrm.conf.locale||{};b.numberFormatting.separator.decimals=".";b.numberFormatting.separator.thousands=",";b.numberFormatting.currency.before=true;b.numberFormatting.currency.symbol="$";try{var c=(!_.isEmpty(c))?c:0}catch(d){mrm.util.log(d)}c=(c+"").replace(/\D/g,"");return mrm.util.numberFormat(c,0,true).replace(" ","")},_checkImageWidth:function(f){if(mrm.conf.cmp.mh_expander_1.mastheadWidthSet||mrm.conf.cmp.mh_scroller_1.mastheadWidthSet||mrm.conf.cmp.mh_1.mastheadWidthSet){var d=f.closest(".masthead"),e=a(d.find("img:visible")[0]),c=parseInt(e.attr("width")||"0"),b=parseInt(e.attr("height")||"0");if(c>a("#container").width()+40){f=f.closest(".mod.modMh_1");var g=Math.round(c*0.5);d.css({height:b,position:"relative"});f.css({width:c,"margin-left":-g,position:"absolute",left:"50%",top:0});f.find("div.mod.modMh_scroller_1").css({width:c,height:b});f.find("div.modMh_expander_1 div.expander-container").css({width:c,});mrm.conf.cmp.mh_scroller_1=mrm.conf.cmp.mh_scroller_1||{};mrm.conf.cmp.mh_scroller_1.height="auto";mrm.conf.cmp.mh_scroller_1.width=c}}},})})(mrm.$);(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp.mh_1,{full_masthead_video:{tpl:["06"],$mod:a("div.modMh_1 div.full_masthead_video:first"),defaults:{onLoadAutoPlay:0,onLoadWithoutSound:0,scrollInstance:"",playWithoutSound:0,videoContainerID:""},touchOrClick:"click",init:function(){if(!this.$mod.length){return}a.extend(true,this.defaults,mrm.conf.cmp.mh_1.full_masthead_video.options);this.$mod.find("div#"+this.defaults.videoContainerID+"_wrapper").addClass("mastheadVideoPlayer");a("div.masthead").addClass("withMHVideoPlayer");this.touchOrClick=(mrm.util.touchDevice())?"touchend":"click";if(this.defaults.onLoadAutoPlay&&(!mrm.util.touchDevice())){this.$mod.show();jwplayer(this.defaults.videoContainerID).setMute(this.defaults.onLoadWithoutSound).play(true)}this.$mod.append('<a href="#" class="close"><span>close</span></a>');this.eventBindings()},closeVideo:function(){var b=this;jwplayer(b.defaults.videoContainerID).pause(true);a("div#"+b.defaults.videoContainerID+"_wrapper").fadeTo(1000,0,function(){b.$mod.hide()})},eventBindings:function(){var b=this;a("div.mh_playvideo_1 a.play").on(b.touchOrClick,function(){jwplayer(b.defaults.videoContainerID).setMute(a(this).hasClass("mute"));a("div#"+b.defaults.videoContainerID+"_wrapper").fadeTo(0,0,function(){b.$mod.show();a(this).fadeTo(1000,1,function(){jwplayer(b.defaults.videoContainerID).play(true)})});return false});b.$mod.find("a.close").on(b.touchOrClick,function(){b.closeVideo();return false});jwplayer(this.defaults.videoContainerID).onComplete(function(){b.closeVideo()})}}})}(mrm.$));(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{mh1_colorizerthreesixty:{intOrExt:null,intDirection:null,nextFrame:null,totalFrames:null,delay:250,view360Fade:250,testing:false,rotationSpeed:90,topOffset:0,centered:false,$context:null,prevFrame:1,suffix:"_perspective_img_",tpl:["04","06"],init:function(d){if(a(".modMh_expander_1").length===0){return}var b=this},build360:function(d,f,e,b){this.$context=d;var c=a("div.mh_default_content_wrapper");totalFrames=f;this.controlEvents(d.find(".spinItem.rightArrow"));this.controlEvents(d.find(".spinItem.leftArrow"));this.$context.find("img").reel({revolution:360,wheelable:false,cw:false,path:e,attr:{alt:b},frames:f,frame:this.prevFrame,cursor:"hand",preloader:0,images:this.returnFrames(this.suffix,f)}).bind("frameChange",function(j,h,g){if(g!==1){c.stop().animate({opacity:0},100)}else{if(a.browser.msie&&a.browser.version<9){c.stop().animate({opacity:1},1500)}else{c.stop().animate({opacity:1},500)}}mrm.cmp.mh1_colorizerthreesixty.prevFrame=a(this).data("frame")});this.$context.parent(".mmScroll").addClass("jsReady")},teardown:function(){this.$context.find("img").trigger("teardown")},controlEvents:function(e){var d,g;var c=this;e.off(".colorizerThreeSixty");e.on("touchstart.colorizerThreeSixty",function(h){h.preventDefault();b(a(this))}).on("touchend.colorizerThreeSixty",function(h){h.preventDefault();clearTimeout(d);clearInterval(g);f(a(this))});e.on("mousedown.colorizerThreeSixty",function(){b(a(this));a(document).mousemove(function(h){a(document).mouseup(function(j){clearTimeout(d);clearInterval(g);a(document).unbind("mousemove mouseup")});return false})}).on("click.colorizerThreeSixty",function(){f(a(this));a(document).unbind("mousemove mouseup")});e.on("mousedown.colorizerThreeSixty",function(k){var j=k.pageX;var h=k.pageY;a().mousemove(function(n){var m=n.pageX-j;var l=n.pageY-h;return false});a().one("mouseup",function(){a().unbind()});return false});function b(h){intDirection=String(h.attr("class").split(" ").splice(-1,1));d=setTimeout(function(){g=setInterval(function(){c.frameAdvance(intDirection)},c.rotationSpeed)},c.delay);return false}function f(h){switch(c.intOrExt){case"int":if(typeof(pageTrackJSON)!="undefined"){mrm.util.trackEvent("click_cta",{section:"masthead",linkname:"interior:360 spin view"})}break;case"ext":if(typeof(pageTrackJSON)!="undefined"){mrm.util.trackEvent("click_cta",{section:"masthead",linkname:"exterior:360 spin view"})}break}clearTimeout(d);clearInterval(g);var j=String(h.attr("class").split(" ").slice(-1));c.frameAdvance(j)}},returnFrames:function(f,e){var b=[];var c;for(i=1;i<=e;i++){if(i<=9){c="0"+i}else{c=i}var d=c+f+i+".jpg";b.push(d)}return b},frameAdvance:function(b){var c=this.$context.find("img");var d;var e=c.data("frame");if(b==="ccw"){d=(e===1)?this.totalFrames:e-1}else{d=(e===this.totalFrames)?1:e+1}c.reel("frame",d)}}})}(mrm.$));(function(d){var c,a,e=[],b;mrm.cmp=mrm.cmp||{};d.extend(mrm.cmp,{mh_expander_1:{config:d.extend({mastheadWidth:980,mastheadHeight:347,buttonMargin:10,chipMargin:10,chipWidth:25,showOnDemand:false},mrm.conf.cmp.mh_expander_1||{}),$threesixty_loaded:false,color_prefix:"",tpl:["04","06","10"],init:function(g){if(d(".modMh_expander_1").length===0){return}c=0;var f;b=this;mrm.cmp.mh_scroller_1.setupScroller(d(".modMh_expander_1"));d(".modMh_1 .mmScroll").addClass("topShift");d(".modMh_expander_1 .mmScrollBtn.next").css("visibility","hidden");d(".modMh_expander_1 .mmScrollBtn.prev").css("visibility","hidden");this.adjustScrollerControls();this.launchColorizer(d("div.modColorizer:eq(0)"),true);this.setColorBarWidths();this.autoLaunchFirstExpander();d(".expander-button-cell").on("click",function(){b.closeAllExpanders();var h=d(this).next();h.addClass("expanded");h.find("div.color-bar").addClass("expanded");d(this).addClass("active");b.adjustContainerLeft();b.centerLabelText();var j=d(this).next().find("div.modColorizer");b.launchColorizer(j);var k=d(this).find("div.expander-button").text();if(typeof(pageTrackJSON)!="undefined"){mrm.util.trackEvent("click_cta",{section:"masthead",linkname:"button:"+k})}b.setInteriorOrExterior(k.toLowerCase())});d(".expander-button-cell").on("mouseenter mouseleave",function(){d(this).toggleClass("over")});if(d(".mm_colorizer_c1 .placeholder_c1.section").length){d(".mod .toggle_holder").clone().appendTo(".mm_colorizer_c1 .placeholder_c1.section");b.setExteriorInterior()}d(window).resize(function(){b.adjustScrollerControls()})},setColorBarEvents:function(h){var f=this;var g=(mrm.util.touchDevice())?"touchstart":"click";var j=[];h.find("ul.colors > li > a").unbind("mouseenter");h.find("ul.colors > li > a").unbind("mouseleave");h.find("ul.colors > li > a").unbind(g);h.find("ul.colors > li > a").on(g,function(m){m.preventDefault();var k=this;a=d(this).attr("title");view=d(".expanded .colorbar-title p").text();d(this).hover().addClass("chipSelected");d(this).parentsUntil("modColorizer").children("dt").text(f.color_prefix+a);switch(mrm.cmp.mh1_colorizerthreesixty.intOrExt){case"int":mrm.util.trackEvent("click_cta",{section:"masthead",linkname:"color:interior:"+a});break;case"ext":mrm.util.trackEvent("click_cta",{section:"masthead",linkname:"color:exterior:"+a});break}d(this).parent().siblings().find("a").hover().removeClass("chipSelected");if(d(this).closest(".modColorizer").hasClass("mm_colorizer_c1_threesixty")){f.launchNewThreeSixty(d(this))}if(f.config.showOnDemand&&mrm.util.touchDevice()){d(k).parentsUntil(".modColorizer").children("dt").show();for(var l=0;l<j.length;l++){clearTimeout(j[l])}j=[];j.push(setTimeout(function(){h.find("ul.colors").removeClass("hoverActive");h.find(".color-bar dt").hide()},5000))}});h.find("div.color-bar").on("mouseleave",function(k){if(!f.config.showOnDemand){d(this).find("ul.colors > li > a").parentsUntil(".modColorizer").children("dt").text(f.color_prefix+a)}});h.find("ul.colors > li > a").on("mouseenter",function(l){var k=d(this).attr("title");d(this).parentsUntil(".modColorizer").children("dt").text(f.color_prefix+k);d(this).addClass("chipHover");if(f.config.showOnDemand&&!mrm.util.touchDevice()){d(this).parentsUntil(".modColorizer").children("dt").show()}});h.find("ul.colors > li > a").on("mouseleave",function(k){d(this).removeClass("chipHover");if(f.config.showOnDemand&&!mrm.util.touchDevice()){d(this).parentsUntil(".modColorizer").children("dt").hide()}})},adjustScrollerControls:function(){var f=d("div.modMh_expander_1").offset();d(".modMh_expander_1 .mmScrollBtn.prev").css("top",(f.top+26));d(".modMh_1 .mmScrollBtn.prev").css("left",0);d(".modMh_expander_1 .mmScrollBtn.next").css("top",(f.top+26));d(".modMh_expander_1 .mmScrollBtn.next").css("left",930)},setColorBarWidths:function(){d("ul.colors").each(function(g){c+=1;var f=d(this),l=d(this).find("li.color-title").length,k=d(this).find("li.color-chip").length,j=0;var h=d(".colorbar-title").width();h+=k*(b.config.chipWidth+b.config.chipMargin);e.push(h)})},autoLaunchFirstExpander:function(){var g=d("li.expander-cell:eq(0)");g.addClass("expanded");g.addClass("first-expander");g.find("div.color-bar").addClass("expanded");var f=d("li.expander-button-cell:eq(0)");f.addClass("active");this.setInteriorOrExterior(g.find("span.colorbar-title").text().toLowerCase());this.setToFirstColorName(g);this.adjustContainerLeft();this.adjustClickAndDrag();this.centerLabelText();d(".modMh_expander_1").find("div.mh_content").css({display:"block",opacity:"1"})},setInteriorOrExterior:function(g){var f=g.indexOf("interior");if(f!=-1){mrm.cmp.mh1_colorizerthreesixty.intOrExt="int"}var h=g.indexOf("exterior");if(h!=-1){mrm.cmp.mh1_colorizerthreesixty.intOrExt="ext"}},launchNewThreeSixty:function(h){this.$threesixty_loaded=true;var n=h.parent().data("colorpath");var l=h.parent().data("alt");var k=h.closest("ul.colors").attr("no-of-perspective");var j=d(".modMh_expander_1").find("ul.mmScrollItems");var f=mrm.cmp.mh1_colorizerthreesixty.prevFrame;var g=mrm.cmp.mh1_colorizerthreesixty.returnFrames(mrm.cmp.mh1_colorizerthreesixty.suffix,k);var o=n+g[f-1];d("body").append('<img class="imagePreload360" src="'+o+'" height="0" width="0" />');var m=this;d(".imagePreload360").imagesLoaded().always(function(p){frameURLCurrentlyLoaded=d(".reel").attr("src");mrm.cmp.mh1_colorizerthreesixty.teardown();j.empty();j.html('<img src="'+frameURLCurrentlyLoaded+'" width="'+m.config.mastheadWidth+'" height="'+m.config.mastheadHeight+'" />');j.append('<img class="tempFrameImg" src="'+o+'" style="display:none;position:absolute;left:0;top:0;z-index:0;" width="'+m.config.mastheadWidth+'" height="'+m.config.mastheadHeight+'" />');d(".tempFrameImg").fadeIn(300,function(){j.html('<img src="'+o+'" width="'+m.config.mastheadWidth+'" height="'+m.config.mastheadHeight+'" />');j.append(m.create360HTML(h.parent()));mrm.cmp.mh1_colorizerthreesixty.build360(j,k,n,l)})})},setToFirstColorName:function(h){var g=h.find("ul.colors > li:eq(0) > a").attr("title"),f=d(h.find("dt"));b.color_prefix=(!f.data("prefix-set"))?d.trim(f.text())+" ":b.color_prefix;f.data("prefix-set",true);h.find("dt").text(b.color_prefix+g);a=g;h.find("ul.colors > li").siblings().find("a").hover().removeClass("chipSelected");h.find("ul.colors > li:eq(0) > a").addClass("chipSelected")},create360HTML:function(j){var f=mrm.cmp.mh1_colorizerthreesixty.prevFrame;var h;if(f>=10){h=f+"_perspective_img_"+f+".jpg"}else{h="0"+f+"_perspective_img_"+f+".jpg"}var g="";g+='<span class="spinItem leftArrow control-threesixty ccw"></span>   <li class="mod modMh_item_1 colorizer_view mm_colorizerthreesixty_c1">       <figure>           <img id="threesixty-image" class="threesixty-image" src="'+j.data("colorpath")+h+'" width="'+b.config.mastheadWidth+'" height="'+b.config.mastheadHeight+'" />           <figcaption class="legal">'+j.data("text")+'</figcaption>       </figure>   </li><span class="spinItem rightArrow control-threesixty cw"></span>';return g},launchColorizer:function(g,m){if(!g.hasClass("mm_colorizer_c1_threesixty")){if(this.$threesixty_loaded){mrm.cmp.mh1_colorizerthreesixty.teardown()}this.$threesixty_loaded=false;d(".modMh_expander_1 .mmScrollBtn.next").css("visibility","visible");d(".modMh_expander_1 .mmScrollBtn.prev").css("visibility","visible");d(".modMh_expander_1").find("ul.mmScrollItems").empty();d(".modMh_expander_1").find("ul.mmScrollItems").trigger("destroy");var k=g.find("ul.colors").attr("no-of-perspective");var h=g.find("ul.colors > li.color-chip:eq(0)");var o=g.closest("li.expander-cell");this.setColorBarEvents(o);this.setToFirstColorName(o);var f="";var r,p,q;for(var j=1;j<=k;j++){f="";r=h.data("colorpath");p=h.data("text");colorAlt=h.data("alt");if(j<=9){q="0"+j}else{q=j}if(m&&j>1){f+='<li class="mod modMh_item_1 colorizer_view mm_colorizer_c1" id="cq-id-'+j+'">   <figure>       <img class="onload" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-'+mrm.ui.image_loader.src_attribute+'="'+r+q+"_perspective_img_"+j+'.jpg" alt="'+colorAlt+'"width="'+b.config.mastheadWidth+'" height="'+b.config.mastheadHeight+'">   <figcaption class="legal">'+p+"</figcaption>   </figure></li>"}else{f+='<li class="mod modMh_item_1 colorizer_view mm_colorizer_c1" id="cq-id-'+j+'">   <figure>       <img src="'+r+q+"_perspective_img_"+j+'.jpg" alt="'+colorAlt+'"width="'+b.config.mastheadWidth+'" height="'+b.config.mastheadHeight+'">   <figcaption class="legal">'+p+"</figcaption>   </figure></li>"}d(".modMh_expander_1").find("ul.mmScrollItems").append(f)}mrm.cmp.mh_scroller_1.setupScroller(d(".modMh_expander_1"));d("div.modColorizer").each(function(){d(this).unbind("colorizerItemChange")});mrm.cmp.colorizer.init();if(d(g).parentsUntil("ul").hasClass("first-expander")){d(".modMh_expander_1").find("div.mh_content").css({display:"block",opacity:"1"})}else{d(".modMh_expander_1").find("div.mh_content").css("display","none")}}else{if(this.$threesixty_loaded){mrm.cmp.mh1_colorizerthreesixty.teardown()}d(".modMh_expander_1").find("ul.mmScrollItems").trigger("destroy");var l=d(".modMh_expander_1 ul.mmScrollItems");l.empty();var n=g.find("ul.colors").attr("no-of-perspective");var h=g.find("ul.colors > li.color-chip:eq(0)");var o=g.closest("li.expander-cell");this.setColorBarEvents(o);this.setToFirstColorName(o);l.append(this.create360HTML(h));var u=h.data("colorpath");var s=h.data("alt");mrm.cmp.mh1_colorizerthreesixty.build360(l,n,u,s);this.$threesixty_loaded=true;if(d(g).parentsUntil("ul").hasClass("first-expander")){d(".modMh_expander_1").find("div.mh_content").css({display:"block",opacity:"1"})}else{d(".modMh_expander_1").find("div.mh_content").css("display","none")}}},positionImage:function(g){var f=d(document).width()*100/1920;var h=Math.max(487,f*730/100);d("div.mod div.mmScroll div.caroufredsel_wrapper").css("height",h);d("div.mod div.mmScroll div.caroufredsel_wrapper ul.mmScrollItems").css("height",h);return h},setExteriorInterior:function(){var g=d(".mod");var h=this.positionImage(),f=(mrm.util.touchDevice())?"touchstart":"click";d(window).resize(this.positionImage);d("div.mh_content div.placeholder_c1 div.toggle_holder div.int_ext_toggle p:first-child").addClass("activeToggle");d("div.mh_content div.placeholder_c1 div.toggle_holder div.int_ext_toggle p:first-child").addClass("btn_exterior");d("div.mh_content div.placeholder_c1 div.toggle_holder div.int_ext_toggle p:nth-child(2)").addClass("btn_interior");d(".modMh_expander_1 .expander-container").addClass("colorizerPos");d(".expander-cell.expanded.first-expander").addClass("col_exterior");d(".expander-button-container .expander-cell:last-child").addClass("col_interior");d(".col_interior").find("div.modColorizer").addClass("colorizerIntPos");d("div#cluetip").addClass("disNone");d("div.mm_colorizer_c1 div#mm_colorizer_c1.mod dl dt").addClass("disNone");d("ul.mmScrollItems figure .legal").addClass("posPrice");d(".modMh_expander_1 .mmScrollPaginationWrp").addClass("dots");d("div.modMh_expander_1 .mmScroll .mmScrollBtn.prev").addClass("prevPos");d("div.modMh_expander_1 .mmScroll .mmScrollBtn.next").addClass("nextPos");if(d("html").hasClass("msie8")){d(".expander-container #mm_colorizer_c1").addClass("colorizerie8")}d(g).on(f,".btn_exterior",function(){d(".expander-cell.col_exterior").show();d(".btn_exterior").addClass("activeToggle");d(".btn_interior").removeClass("activeToggle");d(".expander-cell.col_interior").hide();var j=d(".col_exterior").find("div.modColorizer");b.launchColorizer(j);d(".mm_colorizer_c1").find("div.mh_content").css("display","block");d("ul.mmScrollItems figure .legal").addClass("posPrice")});d(g).on(f,".btn_interior",function(){d(".expander-cell.col_interior, .color-bar").show();d(".btn_interior").addClass("activeToggle");d(".btn_exterior").removeClass("activeToggle");d(".expander-cell.col_exterior").hide();var j=d(".col_interior").find("div.modColorizer");b.launchColorizer(j);d(".mm_colorizer_c1").find("div.mh_content").css("display","block");d("div.mod div.mmScroll div.caroufredsel_wrapper").css("height",h);d("div.mod div.mmScroll div.caroufredsel_wrapper ul.mmScrollItems").css("height",h);d("div.mod div.mmScroll div.caroufredsel_wrapper ul.mmScrollItems li").css("height",h);d("ul.mmScrollItems figure .legal").addClass("posPrice");var k=d(".expander-cell.col_interior .colors li:first-child").attr("data-colorid");mrm.util.vehicleConfig.setPreferredIntColor(k);d(".expander-cell.col_interior ul.colors li.color-chip a").on("click",function(){var l=d(this).closest("li").attr("data-colorid");mrm.util.vehicleConfig.setPreferredIntColor(l)})})},closeAllExpanders:function(){d("li.expander-cell").each(function(){var f=d(this).attr("id");d(this).removeClass("expanded");d(this).find("div.color-bar").removeClass("expanded")});d(".expander-button-cell").each(function(){d(this).removeClass("active")})},centerLabelText:function(){$container=d("div.expander-button-container");var g=$container.find("li.expanded .colorbar-title p").height();var h=$container.find("li.expanded .colorbar-title").height();var f=(h-g)/2;if(d.browser.msie){f=(Math.round(f)===f)?f+1:Math.ceil(f)}$container.find("li.expanded .colorbar-title p").css("margin-top",f);$container.find(".expander-button").each(function(){var l=d(this).find("p").height();var k=d(this).height();var j=(k-l)/2;if(d.browser.msie){j=(Math.round(j)===j)?j+1:Math.ceil(j)}d(this).find("p").css("margin-top",j)})},adjustContainerLeft:function(){var g=0,k=0,f=0,h=0,j=d("div.expander-button-container");d(".expander-button").not("li.active .expander-button").each(function(){f+=d(this).outerWidth(true)+b.config.buttonMargin});g=f;h=j.find("li.expanded").find(".colorbar-title").width();d("li.expander-cell").each(function(l){if(d(this).hasClass("expanded")){k=e[l]+h+20;g=f+k+b.config.buttonMargin}});j.css("width",g);j.find("li.expanded").find(".colorbar-title").width(h);j.find("li.expander-cell").css("width",k);j.find(".color-bar").css("width",k)},adjustClickAndDrag:function(){if(d("div.clickanddragicon").length!=0){var g=d("div.expander-button-container").width();var j=d(".masthead .modMh_expander_1").width();var f=35;var h=(j-g)-f;d(".modMh_expander_1 div.clickanddragicon").css("margin-left","-"+h+"px")}}}})}(mrm.$));(function(a){mrm.mod.Mh_item_1=mrm.mod.AbstractMod.extend({prepare:function(){var b=this;if(mrm.util.curTemplate()==="05"||mrm.util.curTemplate()==="06"||mrm.util.curTemplate()==="12"||mrm.util.curTemplate()==="13"){b.$ctx.on("mmVideoPlay",function(){if(a("div#mastheadShadow").length){a("div#mastheadShadow").css("z-index","-1")}});b.$ctx.on("mmVideoComplete",function(){if(a("div#mastheadShadow").length){a("div#mastheadShadow").css("z-index","1")}})}}})})(mrm.$);(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{mh_scroller_1:{$scrollerWrp:null,$globalMod:null,textIndicatorModules:[".modVi_trim_1"],thumbnailIndicatorModules:[".modVi_trim_1",".modMh_item_1",".modMh_col_item_1",".modMm_hotspot_1"],initMod:function(d){var c=this;c.$globalMod=d;var b=this.indexOfTextIndicatorModule(d,this.textIndicatorModules);if(d.find(".mm_colorizerthreesixty_c1").length>0){return}if(d.find(".dynamic_teaser_scroller").length>0){if(typeof mrm.conf.util.vehicleConfig!=="undefined"&&mrm.conf.util.vehicleConfig.enabled){a.eventDispatcher.on("vehicle_config_load",function(){c.setupDynamicMasthead(d,true);c.setupScroller(d,b)})}else{c.setupDynamicMasthead(d,false);c.setupScroller(d,b)}}else{c.setupScroller(d,b)}},setupDynamicMasthead:function(h,j){var e=this;var b="";var f=mrm.util.cookie.get("current-vehicle");var g="";var c="";if(j&&typeof mrm.util.vehicleConfig.getCurrentVehicle()!=="undefined"){g=mrm.util.vehicleConfig.getCurrentVehicle().generalParams.year.toString();c=mrm.util.vehicleConfig.getCurrentVehicle().generalParams.carline}if(g.length>0&&c.length>0){b=g+"-"+c;Omniture_s.linkTrackVars="eVar40";Omniture_s.eVar40=b.replace("-",":")+":repeat";Omniture_s.tl(true,"o","gmds")}else{if(typeof f!=="undefined"){b=decodeURIComponent(f);if(b.length===0||b==="null"){b=window.location.hash.replace("#","")}}else{b=window.location.hash.replace("#","")}}h.find(".mmScrollBtn").addClass("disabled");if(b.length&&h.find("#"+b+".dynamic").length&&!h.find(".multiAsset").length){h.find(".dynamic").not("#"+b).detach();var d=h.find("#"+b+".dynamic");d.parent().prepend(a("#"+b));d.find(".dynamic_teaser_scroller").css("visibility","visible");d.css("visibility","visible");a.eventDispatcher.trigger("onDynamicMastheadShow",h)}else{a.eventDispatcher.trigger("onDynamicMastheadRemove",h);h.find(".dynamic").detach();h.find(".mmScrollItems li").not(".dynamic").find(".dynamic_teaser_scroller").css("visibility","visible");a(".modMh_scroller_1").find(".modMh_item_1").not(".dynamic").css("visibility","visible")}},setupScroller:function(g,b){var o=this;var h=a(".modColorizer",g);var f=mrm.conf.cmp.mh_scroller_1||{};var m;var c=g.find(".mmScroll").first();var k=false;a.eventDispatcher.trigger("mh_scroller_ready");o.$scrollerWrp=a("div.mmScroll:eq(0)",g);if(o.$scrollerWrp.hasClass("ui-scroller-canvas")&&typeof(o.canvasTransition)==="object"&&(mrm.util.curTemplate()!=="02")){k=true}var e=a("div.mmScroll",g).data("trackingKey"),n={callbacks:{}};if(mrm.conf.cmp[e]){n.callbacks=mrm.conf.cmp[e]}m=a.extend(true,{},f,n,{hiddenItemOverride:true,onCreate:function(p,q){o.checkAndPrepareTextPagination(g,b);a.eventDispatcher.trigger("colorizer_initialized");h.trigger("colorizerItemChange",[p,a([]),0]);o._activateVideo(g);return(f.onCreate||a.noop)(p,q)},scroll:{onBefore:function(q,p,r,s){if(!h.hasClass("noFade")){h.trigger("colorizerItemChange",[p,q,s])}if(k){o.canvasTransition.slide(q,p)}return(f.scroll.onBefore||a.noop)(q,p,r,s)},onAfter:function(r,p,s,v){if(a("div.mmScroll",g).hasClass("indicator-thumbnails")){o.updateThumbnailPagination(g,p)}o._activateVideo(g);if(r.find(".video-layer").length){var q=g.find(".video-layer");mrm.corcmp.mmVideo.deactivateVideo(r,q);q.empty();q.remove()}else{mrm.corcmp.mmVideo.deactivateVideo(r)}var u=(r.index()>1)?"next":"prev";if(o.slideOnThumbnail===true){o.slideOnThumbnail=false}else{p.trigger("tracking",u)}return(f.scroll.onAfter||a.noop)(r,p,s,v)}}});if(a("div.mmScroll",g).hasClass("indicator-thumbnails")){m.pagination={container:null,anchorBuilder:null}}else{o.checkAndSetTextPagination(g,m,b)}if(this.$scrollerWrp.hasClass("ui-disable-loop")){m.circular=false;m.infinite=false}if(this.$scrollerWrp.hasClass("ui-scroller-type2")&&(typeof(this.scrollerType2)==="object")){this.scrollerType2.init(m)}else{if(k){var j=a(".mmScroll ul li img").first().width();if(j>=1280&&j<1500){if(!a(".mmScroll").hasClass("ui-full-width")){a(".masthead").css("max-width",j+"px");a(".masthead > .mod, .masthead > .mh_c1 > .mod").css("max-width",j+"px");a(".masthead").css("margin","0 auto");if(a.os.name==="ipad"){a(".masthead figcaption.legal").css("margin-right","175px")}else{a(".masthead figcaption.legal").css("margin-right",((j-1280)/2)+"px")}a(document).ready(function(){a(".modMh_1 #mastheadShadow").css("width","100%");a(".modMh_1 #mastheadShadow").css("left","0");a(".modMh_1 #mastheadShadow").css("z-index","1")})}}if(typeof(o.canvasTransition)!=="undefined"){this.$scrollerWrp.mmScroll(m);o.canvasTransition.initMod(this.$scrollerWrp)}else{this.$scrollerWrp.mmScroll(m)}}else{this.$scrollerWrp.mmScroll(m)}}if(typeof(o.fullWidth)!=="undefined"){o.fullWidth.initMod(this.$scrollerWrp)}if(a("div.mmScroll",g).hasClass("indicator-thumbnails")){o.setupThumbnailPagination(g,a("ul.mmScrollItems",g))}if(f.smallContentMaxHeight||f.smallContentComponents){if((g.height()<=(parseInt(f.smallContentMaxHeight,10)||0))||g.find(f.smallContentComponents).length){this.$scrollerWrp.addClass("smallContent")}}if(typeof(this.full_masthead_video)!=="undefined"){this.full_masthead_video.init()}if(a(".modNav_sec").length){var d=a(".divisional_logo").outerHeight();var l=a(".modNav_sec").height();l-=25;a(".modMh_scroller_1 .mmScroll canvas").css("top",(d+l)+"px")}this.setBindings(g);g.on("tracking",function(q,r){var p,s="<trackingObject>";switch(r){case"prev":if(typeof m.callbacks.onScrollerPrev==="function"){p=a(q.target).data("trackingObject").replace(/'/g,'"').replace(s,"arrow_pre");m.callbacks.onScrollerPrev(a.parseJSON(p))}break;case"next":if(typeof m.callbacks.onScrollerNext==="function"){p=a(q.target).data("trackingObject").replace(/'/g,'"').replace(s,"arrow_nxt");m.callbacks.onScrollerNext(a.parseJSON(p))}break;case"thumbnail":if(typeof m.callbacks.onThumbnailClick==="function"){p=a(q.target).data("trackingObject").replace(/'/g,'"');m.callbacks.onThumbnailClick(a.parseJSON(p))}break}});o._setupLazyLoad(c)},_setupLazyLoad:function(c){if(c.find("img[data-"+mrm.ui.image_loader.src_attribute+"]").length){var b=a.eventDispatcher.on("image_loaded",function(){if(c.find("img."+mrm.ui.image_loader.loaded_class).length===c.find("img[data-"+mrm.ui.image_loader.src_attribute+"]").not("."+mrm.ui.image_loader.onscroll_class).length){if(c.find(".modMh_item_1.dynamic").length===0){var d=c.find(".mmScrollBtn:not(.disabled)");d.hide();d.fadeIn()}a.eventDispatcher.off(b)}})}},_activateVideo:function(d){var b=this;if(!d||d.length===0){return}var c=mrm.util.deepest(".ui-helper-visible",d);if(c.find(".mh_teaser").find(".video").length){b._activate_teaser_video(c)}else{mrm.util.doInitVideo(c)}},_activate_teaser_video:function(d){var c=a("<div />",{"class":"video-layer"}).appendTo(d);var b=d.find(".mh_teaser").find(".video");mrm.util.doInitVideo(d,c);b.on("click","img",function(){var k=a(this);var f={onPlay:function(){},onComplete:function(){}};a.each(jwplayer.getPlayers(),function(){if(a(this.container).closest(".video-layer").length){f=this}});var g=d.offset();var e=k.offset();var j={top:e.top-g.top,left:e.left-g.left};var h={width:k.width(),height:k.height()};c.css({left:j.left,top:j.top,width:h.width,height:h.height});c.animate({left:0,top:0,width:d.width(),height:d.height()},500,"easeOutQuart");f.onComplete(function(){c.removeClass("playing").animate({left:j.left,top:j.top,width:h.width,height:h.height},250,"easeInQuad",function(){c.css({top:999999999999,left:999999999999});c.empty()})});f.onPause(function(){c.removeClass("playing")});f.onPlay(function(){c.addClass("playing")})})},setBindings:function(e){var c=this,b=this.$scrollerWrp.find(".mmScrollPaginationWrp:visible"),f=mrm.conf.corcmp.mm_scroller||{},d=a.extend({animatePagination:true},mrm.conf.cmp.mh_scroller_1||{});f=f.animateControls||{};f.speed=f.speed||300;a(".mh_nav.play-video",e).on("click",function(g){g.preventDefault()});if(d.animatePagination){this.$scrollerWrp.on("hideControls",function(g){b.stop(true,true).fadeOut(f.speed)}).on("showControls",function(g){b.stop(true,true).fadeIn(f.speed)})}},switchToContent:function(b){if(this.$globalMod.find(".multiAsset").length>0){a(".mmScrollItems",this.$scrollerWrp).children(".multiAsset").hide();b.parents(".multiAsset").show()}else{a(".mmScrollItems",this.$scrollerWrp).trigger("slideTo",b)}},checkAndSetTextPagination:function(e,c,d){var f=null,g=null;if(d>-1){var b=this.textIndicatorModules[d].replace(/.mod/,"");f=decodeURIComponent(e.data("textindicators"));if((f!==null)&&(f.length>0)&&(f!=="undefined")){g=mrm.$.parseJSON(f);if(g!==null){c.pagination={anchorBuilder:function(h){return'<li><a href="#">'+g[h-1]+"</a></li>"}}}}if(!e.hasClass("contentIs"+b)){e.addClass("contentIs"+b)}}},checkAndPrepareTextPagination:function(e,c){var b,d;if(c>-1){d=e.find(".mmScrollPagination");b=e.find(".lbl");a(b).remove().insertBefore(d);d.css("display","inline-block")}},indexOfTextIndicatorModule:function(e,b){var d,f,c=-1;for(d=0;d<b.length;d++){f=e.find("ul.mmScrollItems li "+b[d]);if(f.length>0){c=d;break}}return c},setupThumbnailPagination:function(e,d){var k=this,h=a(".mmScrollThumbnailPagination",e),c=a("li",h),f=a("#thumb_"+a("li:first",d).data("mmscrollId")),b=(a("div.mmScroll",e).hasClass("ui-disable-loop"))?false:true,g={circular:b,infinite:b,width:"100%",height:"auto",items:{visible:"variable"},scroll:{wipe:false,noWipeDirection:false,fx:"slide"},auto:{play:false,pauseDuration:5000},prev:{button:function(){return a(this).parent().prev(".thumbsBtn.prev")}},next:{button:function(){return a(this).parent().next(".thumbsBtn.next")}}},j={min_move_x:30,min_move_y:30,preventDefaultEvents:false,preventDefaultEventsHorizontal:false,preventDefaultEventsVertical:false,wipeLeft:function(l){h.trigger("next")},wipeRight:function(l){h.trigger("prev")}};c.each(function(){a(this).width(a(".img.thumbnail",this).width())});h.carouFredSel(g);if(a.fn.touchwipe){h.touchwipe(j)}if(f.length>0){f.addClass("selected");h.trigger("slideTo",f)}c.on("click",function(n){var l=a(this).attr("id"),m=l.split("thumb_").join("");k.slideOnThumbnail=true;a(this).trigger("tracking","thumbnail");d.trigger("slideTo",a("li[data-mmscroll-id="+m+"]"));c.removeClass("selected");a(this).addClass("selected")})},updateThumbnailPagination:function(f,b){var e=b.data("mmscrollId"),g="#thumb_"+e,c=a(g),d=a(".mmScrollThumbnailPagination",f),h=d.triggerHandler("currentVisible");a("li",d).removeClass("selected");if(c.length>0){c.addClass("selected")}if(c.length>0&&h.filter(g).length<1){d.trigger("slideTo",c)}}}})}(mrm.$));(function(b){if(mrm.util.curTemplate()==="05"||mrm.util.curTemplate()==="06"||mrm.util.curTemplate()==="12"||mrm.util.curTemplate()==="13"){b(document).ready(function(){b(".masthead").find(".mmScroll").append('<div id="mastheadShadow"></div>');if(b(".modMh_scroller_1",".modMh_1").length||b(".modMm_visualizer_1",".modMh_1").length){var d=b(".divisional_logo").outerHeight();if(b(".modNav_sec").length){var c=b(".modNav_sec").height();c-=25;b(".modMh_1").css("margin-top",(d+c)+"px")}else{b(".modMh_1").css("margin-top",d+"px")}}})}if(mrm.util.curTemplate()==="12"||mrm.util.curTemplate()==="13"){var a=b(".mmScroll ul li img").first().width();if(a>=1280&&a<1500){b(".masthead > .mod, .masthead > .mh_c1 > .mod").css("max-width",a+"px")}}if((mrm.util.curTemplate()==="02")&&(typeof(mrm.corcmp.mmVideo)==="object")&&(mrm.$("div.modMh_1 video.mm").length===1)){mrm.$("div.modMh_1 video.mm").attr("width",mrm.$(window).width());mrm.$(window).resize(function(){var c=jwplayer();if(typeof(c)==="object"){c.resize(mrm.$(window).width(),mrm.$("div.modMh_1").height())}})}if((mrm.util.curTemplate()==="02")&&(b("div.mmScroll.ui-scroller-type2 ul li div.video img:first").length)){b("div.mmScroll.ui-scroller-type2 ul li div.video img").each(function(){b(this).attr("orig-src",b(this).attr("src")).attr("src","#").addClass("lazy-load")})}mrm.cmp.mh_scroller_1=mrm.cmp.mh_scroller_1||{};mrm.cmp.mh_scroller_1.canvasTransition={config:{duration:800,easing:"easeInCubic",angleInDegrees:64,fps:mrm.util.iOS()?40:60},init:function(){},initMod:function(e){var f=0;var g=["ms","moz","webkit","o"];for(var c=0;c<g.length&&!window.requestAnimationFrame;++c){window.requestAnimationFrame=window[g[c]+"RequestAnimationFrame"];window.cancelAnimationFrame=window[g[c]+"CancelAnimationFrame"]||window[g[c]+"CancelRequestAnimationFrame"]}if(!window.requestAnimationFrame){window.requestAnimationFrame=function(m,j){var h=new Date().getTime();var k=Math.max(0,16-(h-f));var l=window.setTimeout(function(){m(h+k)},k);f=h+k;return l}}if(!window.cancelAnimationFrame){window.cancelAnimationFrame=function(h){clearTimeout(h)}}var d=document.createElement("canvas");d.width=e.width();d.height=e.height();e.append(b(d).hide());if(b.os.name==="ipad"&&mrm.util.curTemplate()!=="12"){e.find(".modMh_storydetails_1").css("margin-left",0-e.find(".modMh_storydetails_1").outerWidth()/2+"px")}},slide:function(l,c){mrm.util.log("slide working");var d=l.closest(".mmScroll"),n=l.closest(".modMh_scroller_1"),z=l.find("img")[0],j=c.find("img")[0],h=b(j).width(),q=d.height(),w=d.width(),f=d.children("canvas"),m=l.index(),o=c.index(),s=m<o?"next":"prev";var v,g=b("html").attr("dir")||"ltr";if(b(".mmScroll").hasClass("ui-full-width")){v=parseInt(d.find("ul").css("margin-left"));v=v>0?0:v}else{var u=(b(window).width()-b(".modMh_1").outerWidth(false))/2;u=u>0?0:u;v=u<=-150?-150:u;v=(g==="rtl")?Math.ceil(-v):parseInt(v)}f.css("z-index",n.data("indexBase"));f[0].width=h;f[0].height=q;var e=Math.round(q/Math.tan(this.config.angleInDegrees/180*Math.PI));var p=[{x:0,y:0},{x:-e,y:q},{x:w,y:q},{x:w+e,y:0}];var r=false;if(b.os.name==="ipad"||typeof z!=="undefined"){if(/\.png$/.test(z.src)){d.find("img").hide();r=true}}var k={img:z,img2:j,x:v,y:parseInt(b(j).css("margin-top")),w:h,h:j.height};this.drawImages({ctx:f[0].getContext("2d"),direction:s,polygon_arr:p,images:k,angleLength:e,transparent:r})},drawImages:function(e){var d=this;cancelAnimationFrame(d.animationId);b(e.ctx.canvas).show();var f=new Date().getTime(),c=f,h=true;(function g(){var k=new Date().getTime(),l=k-f,j=0,o=e.polygon_arr[3].x,n=d.config.duration,m=b.easing[d.config.easing](null,l,j,o,n);e._offset=(e.direction==="next")?m*-1:m;if((k-c)>(1000/d.config.fps)||h){h=false;c=new Date().getTime();d.wipeAnimation(e)}if(l<=n+15){d.animationId=requestAnimationFrame(g)}else{if(!e.transparent){b(e.ctx.canvas).hide(0)}}})()},wipeAnimation:function(h){var g=mrm.cmp.mm_1.canvasTransition;var e=h.ctx;var f=h._offset;e.clearRect(0,0,e.canvas.width,e.canvas.height);var d=h.images;if(h.transparent){e.beginPath();if(h.direction==="next"){e.moveTo(parseInt(h.polygon_arr[2].x)+f,parseInt(h.polygon_arr[2].y));e.lineTo(parseInt(h.polygon_arr[3].x)+f,parseInt(h.polygon_arr[3].y));e.lineTo(parseInt(h.polygon_arr[3].x)+d.w,parseInt(h.polygon_arr[3].y));e.lineTo(parseInt(h.polygon_arr[2].x)+d.w,parseInt(h.polygon_arr[2].y))}else{e.moveTo(parseInt(h.polygon_arr[0].x)+f,parseInt(h.polygon_arr[0].y));e.lineTo(parseInt(h.polygon_arr[1].x)+f,parseInt(h.polygon_arr[1].y));e.lineTo(parseInt(h.polygon_arr[1].x)-d.w,parseInt(h.polygon_arr[1].y));e.lineTo(parseInt(h.polygon_arr[0].x)-d.w,parseInt(h.polygon_arr[0].y))}e.closePath();e.save();e.clip();e.drawImage(d.img2,d.x,d.y,d.w,d.h);e.restore()}e.beginPath();for(var j=0;j<(h.polygon_arr.length);j++){var c=parseInt(h.polygon_arr[j].x)+f;var k=parseInt(h.polygon_arr[j].y);if(j===0){e.moveTo(c,k)}else{e.lineTo(c,k)}}e.closePath();if(!mrm.util.iOS()&&!h.transparent){e.shadowColor="rgba(0, 0, 0, .5)";e.shadowBlur=10;e.shadowOffsetX=(h.direction==="next")?10:-10;e.shadowOffsetY=0;e.fillStyle="black";e.fill()}e.save();e.clip();if(b.os.name==="ipad"||typeof d.img!=="undefined"){e.drawImage(d.img,d.x,d.y,d.w,d.h)}e.restore()}},mrm.cmp.mh_scroller_1.fullWidth={config:b.extend(mrm.conf.cmp.mh_scroller_1||{},{maxWidth:1920}),init:function(c){},initMod:function(c){if(c.hasClass("ui-full-width")){if((mrm.util.curTemplate()==="12")){b(".modMh_1, .modMh_1 .modMh_item_1 > img").css("height","auto");b(".modMh_1, .modMh_1 .modMh_item_1").css("max-height","551px")}c.parents(".modMh_1, .masthead").css("width","100%");c.find("img").each(function(){var d=b(this);d.data("origSize",{height:d.height(),width:d.width()});d.css({width:d.attr("width")});d.removeAttr("height width")});c.css({height:c.height(),maxWidth:this.config.maxWidth,overflow:"hidden"});c.parents(".masthead, .modMh_1").css({maxWidth:this.config.maxWidth,overflow:"hidden"});c.parent(".mod.modMh_scroller_1").css({overflow:"visible","padding-left":0,"padding-right":0});b(window).resize(b.proxy(function(){this.resize(c)},this));this.resize(c)}},resize:function(e){var c=b(window).width(),g=b(".modMh_scroller_1").width();e.closest(".modMh_scroller_1").css({marginLeft:0,marginRight:0});var h=(g-c)*0.5;h=h>0?0:h;h=c>1920?0:h;e.css({"margin-left":h,"margin-right":h});e.parents(".modMh_scroller_1").css({"margin-left":h,"margin-right":h});var f=e.find("img:eq(0)"),j=e.width();e.find(".caroufredsel_wrapper").width(j);if(j>=f.data("origSize").width){e.find(".mh_content_wrapper").each(function(m,l){b(l).css("margin-left",(j-f.data("origSize").width)/2+"px")});e.find(".modMh_item_1").each(function(m){$allImages=b(this).find("img").first();var l=Math.floor((((f.data("origSize").width*f.data("origSize").height)/j)-f.data("origSize").height)*0.5);$allImages.css({"margin-top":l,width:j});e.find(".caroufredsel_wrapper > ul").css({"margin-left":0});var n=Math.max(parseInt(b("#container").css("min-width")),c);if(c<=1920){e.find("figcaption.legal").css("left",(n-200)+"px")}})}else{var d=(j-f.data("origSize").width)*0.5;e.find(".caroufredsel_wrapper > ul").css({"margin-left":d});var k=Math.max(parseInt(b("#container").css("min-width")),c);e.find("figcaption.legal").css("left",(k-200-d)+"px");e.find(".mh_content_wrapper").each(function(m,l){b(l).css("margin-left","0px")})}e.find("figcaption.legal").css("top","500px");e.find("figcaption.legal").css("bottom",0);e.find("figcaption.legal").css("right",0);if(c>this.config.maxWidth){e.css("left",(c-this.config.maxWidth)*0.5)}else{e.css("left",0)}}},mrm.cmp.mh_scroller_1.scrollerType2={_isAnimating:false,_isColorizing:false,_config:null,_parentConfig:null,_leftOffset:0,_screenCompressed:true,_dirOptions:{},_lefts:{prev:0,active:0,next:0},_autoAnimatePaused:false,_usePagination:true,_autoAnimateInterval:null,_lastDirection:"next",$mod:b("div.modMh_1:first"),$mmScrollBtns:b("div.modMh_1 div.mmScroll.ui-scroller-type2 span.mmScrollBtn"),init:function(e){if(!this.$mod.length){return}var d=this;d._parentConfig=e;d._config=d._parentConfig.scrollerType2;b("body").addClass("withType2Scroller");if(d.$mod.find("div.mmScroll li.modMh_item_1 img:first").length){d._config.imageWidth=parseInt(d.$mod.find("div.mmScroll li.modMh_item_1 img:first").attr("width"))}d._config.polygon_arr=[0,d._config.height,d._config.angleLength,0,d._config.imageWidth,0,(d._config.imageWidth-d._config.angleLength),d._config.height];for(i=0;i<2;i++){d.$mod.find("div.modMh_scroller_1 div.mmScroll li.modMh_item_1:last").prependTo(d.$mod.find("div.modMh_scroller_1 div.mmScroll li.modMh_item_1:last").parent())}d.$mod.find("div.mmScroll li.modMh_item_1").each(function(j){var f=b(this),h=0,k=d._config.zIndexBase-1;if(b(".modMh_item_1").length<5){switch(j){case 0:f.addClass("prev");break;case 1:f.addClass("active");break;case 2:f.addClass("next");break}}else{switch(j){case 1:f.addClass("prev");break;case 2:f.addClass("active");break;case 3:f.addClass("next");break}}if(f.hasClass("active")){h=0;k=d._config.zIndexBase}else{if(f.hasClass("prev")){h=-(d._config.width-d._config.angleLength);k=d._config.zIndexBase+1}else{if(f.hasClass("next")){h=(b("li.modMh_item_1.active").first().position().left+d._config.width-d._config.angleLength);k=d._config.zIndexBase+2}else{h=b(window).width()*2}}}f.css({left:(h),"z-index":k,width:d._config.imageWidth,height:d._config.height});f.off("click");var g=f.find("img.lazy-load");b(this).attr("data-colorpath",g.attr("orig-src"));if(g.length){d.drawCanvasImages(g)}});b("body").prepend('<div id="modMh_1_ctaOverlay"><h2 class="cta"><span class="leftCap"></span><span class="centerContent"></span><span class="rightCap"></span></h2></div>');d.$mod.find("li.modMh_item_1.active h2.cta a").attr("onclick","");b("#modMh_1_ctaOverlay h2.cta span.centerContent").html(d.$mod.find("li.modMh_item_1.active h2.cta:first").html());d.resetLeftPositions();d.resetCta();if(b.trim(d.$mod.find("li.modMh_item_1.active h2.cta:first").html())===""){b("#modMh_1_ctaOverlay").css("display","none")}else{b("#modMh_1_ctaOverlay").css("display","block")}if(d._usePagination){var c=b('<div class="mmScrollPaginationWrp"><ol class="mmScrollPagination"></ol></div>');d.$mod.find("div.mmScroll li.modMh_item_1").each(function(f){c.find("ol.mmScrollPagination").append('<li><a href="#">'+(f+1)+"</a></li>")});c.find("ol.mmScrollPagination li").first().addClass("selected");d.$mod.find("div.mmScroll").append(c)}d.prepareHiddenVideos();d.setBindings();d.$mod.find(".mmScroll").addClass("jsReady");d.autoAnimate();d.autoHideArrows()},drawCanvasImages:function(h){var e=this;if(typeof(e._config.loadingImgSrc)==="string"){}var d=b('<img src="'+e._config.loadingImgSrc+'" border="0" class="ajax-loader" />');h.after(d);var f=document.createElement("canvas");f.width=e._config.imageWidth;f.height=e._config.height;h.after(f);if(typeof FlashCanvas!=="undefined"){FlashCanvas.initElement(f)}var c=f.getContext("2d");var g=b("<img />").load(function(){var k=this;var j=0;if(mrm.util.ie8()){j=500}setTimeout(function(){c.save();c.beginPath();for(var m=0;m<(e._config.polygon_arr.length);m+=2){var l=parseInt(e._config.polygon_arr[m]);var o=parseInt(e._config.polygon_arr[m+1]);if(m===0){c.moveTo(l,o)}else{c.lineTo(l,o)}}c.clip();c.drawImage(b(k).get(0),0,0);c.restore();var n=h.attr("orig-src").substr(h.attr("orig-src").lastIndexOf("/")+1);b(f).attr("data-imgSrc",n);h.remove();if(typeof(e._config.onItemLoad)==="function"){e._config.onItemLoad(c)}d.fadeOut(500,function(){b(k).remove()});b(f).fadeTo(1000,1,function(){b(k).prev("canvas").fadeTo(1000,0,function(){e._isColorizing=false;b(f).prevAll().remove()})})},j)});g.attr("src",h.attr("orig-src")+"?ieReload=1")},animate:function(g){var m=this;if(m._isAnimating){return}else{m._isAnimating=true}m.resetHiddenVideos();m.resetCta();m.$mod.find("li.modMh_item_1.active div.legal").hide();var k=(g==="next"),f=m.$mod.find("li.modMh_item_1.next"),c=m.$mod.find("li.modMh_item_1.active"),l=m.$mod.find("li.modMh_item_1.prev"),e=m.$mod.find("ol.mmScrollPagination li"),d=(k)?f.next():l.prev();if(b(".modMh_item_1").length<5){if(k){d=f.next().length?f.next():l}else{d=l.prev().length?l.prev():f}}m._dirOptions={animateDir:(k)?"-=":"+=",animateTime:{minTime:m._config.animateTime.minTime,maxTime:m._config.animateTime.maxTime,leftTile:m._config.animateTime.minTime,centerTile:m._config.animateTime.minTime,rightTile:m._config.animateTime.minTime,newTile:m._config.animateTime.minTime},zIndex:{leftTile:(k)?m._config.zIndexBase+3:m._config.zIndexBase,centerTile:m._config.zIndexBase+1,rightTile:m._config.zIndexBase+2,newTile:(k)?m._config.zIndexBase+3:m._config.zIndexBase},lefts:{newTile:(k)?m._lefts.next:m._lefts.prev,lastActTile:(k)?m._lefts.prev:m._lefts.next,lastNxtTile:(k)?m._lefts.active:m._lefts.next*2,lastPrevTile:(k)?m._lefts.prev*2:m._lefts.active,ctaOffScreen:(k)?2000:-2000},finalLeft:0};var n=m._dirOptions;f.removeClass("next");c.removeClass("active");l.removeClass("prev");var j=e.filter(".selected").removeClass("selected");if(k){f.addClass("active");c.addClass("prev");d.addClass("next");if(!m._screenCompressed){}if(j.next().length){j.next().addClass("selected")}else{e.first().addClass("selected")}}else{l.addClass("active");c.addClass("next");d.addClass("prev");if(m._screenCompressed){}if(j.prev().length){j.prev().addClass("selected")}else{e.last().addClass("selected")}}d.css("left",n.lefts.newTile*2);var h="easeInOutCubic";f.css("z-index",n.zIndex.rightTile).stop().animate({left:n.lefts.lastNxtTile},n.animateTime.leftTile,h);c.css("z-index",n.zIndex.centerTile).stop().animate({left:n.lefts.lastActTile},n.animateTime.centerTile,h);l.css("z-index",n.zIndex.leftTile).stop().animate({left:n.lefts.lastPrevTile},n.animateTime.centerTile,h);d.css("z-index",n.zIndex.newTile).stop().animate({left:n.lefts.newTile},n.animateTime.newTile,h);if(b.trim(m.$mod.find("li.modMh_item_1.active h2.cta:first").html())===""){b("#modMh_1_ctaOverlay").css("display","none")}else{b("#modMh_1_ctaOverlay").css("display","block")}b("#modMh_1_ctaOverlay h2").fadeTo(250,0,function(){b(this).find(".centerContent").html(m.$mod.find("li.modMh_item_1.active h2.cta:first").html()).parent().fadeTo(500,1)});m._lastDirection=g;setTimeout(function(){m.$mod.find("li.modMh_item_1.prev").css("z-index",(m._config.zIndexBase+3));if(k){c.prevAll().last().appendTo(m.$mod.find("ul.mmScrollItems").first())}else{d.nextAll().last().prependTo(m.$mod.find("ul.mmScrollItems").first())}m._isAnimating=false;m.resetLeftPositions(false,1000);m.$mod.find("li.modMh_item_1.active div.legal").show();m.prepareHiddenVideos()},1250)},resetLeftPositions:function(k,e,h){var q=mrm.cmp.mh_scroller_1.scrollerType2,f=b(window).width(),m=q.$mod.find("li.modMh_item_1.next"),o=q.$mod.find("li.modMh_item_1.active"),l=q.$mod.find("li.modMh_item_1.prev"),p=b("#modMh_1_ctaOverlay h2"),g=o.find("div.legal"),n=(k)?"easeOutExpo":"easeInOutExpo";var d=100;var c=((f-q._config.imageWidth)/2)+(d/2);q._lefts.active=c;q._lefts.next=q._config.imageWidth-q._config.angleLength+c-d,q._lefts.prev=-(q._config.imageWidth-(q._config.angleLength+c));q._lefts.cta=c;if(f<q._config.width){q._screenCompressed=true;var j=(f-q._config.width)/2}else{if(f>=q._config.width){q._screenCompressed=false}}if(!h){o.css("left",c);m.stop().css("left",q._lefts.next);l.stop().css("left",q._lefts.prev);p.stop().css("right",q._lefts.cta)}},resetCta:function(){b("#modMh_1_ctaOverlay").stop().fadeTo(100,1);b(".mmScrollPaginationWrp").stop().fadeTo(100,1);b("li.modMh_item_1.active .legal").stop().fadeTo(100,1)},hideCta:function(){b("#modMh_1_ctaOverlay").hide();b(".mmScrollPaginationWrp").hide();b("li.modMh_item_1.active .legal").hide()},resetHiddenVideos:function(){var c=this.$mod.find("div.video");if(!c.length){return}c.each(function(){b(this).trigger("videoClear");b(this).removeAttr("style")});if(b("#mastheadVideo").length){b("#mastheadVideo").fadeTo(1000,0,function(){b(this).remove()}).find("div.video").trigger("videoClear")}},prepareHiddenVideos:function(){var e=this,d=false;e.resetHiddenVideos();var f=e.$mod.find("li.modMh_item_1.active div.video:first");if(f.length){if(!b("#mastheadVideo").length){b("body").prepend(b('<div id="mastheadVideo" style="position:absolute;top:0;left:0;width:100%;height:'+b("div.modMh_1").height()+'px;z-index:45;background:black;display:none;"/>'))}var c=b("#mastheadVideo");c.html(f.clone()).append('<a href="#" class="close"></a>');var g=mrm.conf.cmp.mh_1.hiddenVideoJWOptions;g.height=e._config.height;if(!mrm.util.flash()){delete g.skin}var h=c.find("div.video");h.css("height",g.height).empty().hiddenVideo({},g).trigger("videoPrepare").getHiddenVideoPlayerObject().onBeforePlay(function(){if(mrm.util.touchDevice()){var j=b("#"+this.id+"_video:first");if(j.length){var k=j.get(0);if(k.webkitSupportsFullscreen){k.webkitEnterFullscreen()}}}}).onComplete(function(){b("div.modMh_1").css({height:"551px","margin-top":"0px"});c.fadeTo(1000,0,function(){b(this).find("div.video").trigger("videoClear").trigger("videoPrepare");b(this).hide()});e.resetCta()});if(mrm.util.touchDevice()){e.$mod.find("li.modMh_item_1.active div.video:first").off("click").on("touchend",function(j){j.preventDefault();if(e._isAnimating){return}if(d){b(this).getHiddenVideoPlayerObject().play()}else{b(this).trigger("videoActivate");d=true}})}}},autoAnimate:function(){var c=this;var d=b("div.ui-scroller-type2");if(d.data("cfgAutoscroll")){c._autoAnimateInterval=setInterval(function(){if(!c._autoAnimatePaused){c.animate("next")}},6000)}},clearAutoAnimate:function(){var c=this;clearInterval(c._autoAnimateInterval)},autoHideArrows:function(){if(this._parentConfig.animateControls){var m=this,h=true,e,l,g=m.$mod.find(".mmScroll > ul.mmScrollItems"),j=m._parentConfig,c=m.$mmScrollBtns;function d(n){n|=5000;if(!h){g.trigger("showControls");h=true}window.clearTimeout(e);e=window.setTimeout(function(){h=false;g.trigger("hideControls")},n)}l=function(n,o){n.stop(true,true);if(j.animateControls.fx==="slide"){n.filter(".prev").animate({left:!o?f:"0"},j.animateControls.speed);n.filter(".next").animate({right:!o?k:"0"},j.animateControls.speed)}else{if(j.animateControls.fx==="fade"){n[o?"fadeIn":"fadeOut"](j.animateControls.speed)}else{n[o?"show":"hide"](j.animateControls.speed)}}};var f="-"+m.$mmScrollBtns.filter(".prev").outerWidth()+"px",k="-"+m.$mmScrollBtns.filter(".next").outerWidth()+"px";m.$mmScrollBtns.on("mouseenter",function(n){window.clearTimeout(e)}).on("mouseleave",function(n){d()});g.on("mousemove.mmScroll",function(n){d(j.animateControls.inactivityTimeout)}).on("hideControls.mmScroll",function(n){g.addClass("mmScrollControlsHidden");l(m.$mmScrollBtns,false)}).on("showControls.mmScroll",function(n){g.removeClass("mmScrollControlsHidden");l(m.$mmScrollBtns,true)});d(j.animateControls.loadTimeout)}},colorizer:function(d){var c=this;if(!c._isColorizing){c._isColorizing=true;c.$mod.find("div.mmScroll li.modMh_item_1").each(function(g){var f=d+b(this).data("colorpath").split("/").pop();var e=b('<img src="#" orig-src="'+f+'" width="'+c._config.imageWidth+'" height="'+c._config.height+'" border="0" style="visibility:hidden" />');b(this).find("canvas:first").after(e);c.drawCanvasImages(e)})}},setBindings:function(){var d=this;var c=(mrm.util.touchDevice())?"touchend":"click";var g="div.modMh_1 div.mmScroll.ui-scroller-type2 li.modMh_item_1.prev, div.modMh_1 div.mmScroll.ui-scroller-type2 span.mmScrollBtn.prev";var e="div.modMh_1 div.mmScroll.ui-scroller-type2 li.modMh_item_1.next, div.modMh_1 div.mmScroll.ui-scroller-type2 span.mmScrollBtn.next";var f="div.modMh_1 div.mmScroll.ui-scroller-type2 li.modMh_item_1.active";b(document).on(c,"#modMh_1_ctaOverlay h2.cta, div.modMh_1 div.mmScroll.ui-scroller-type2 li.modMh_item_1.active > div.video:first",function(j){var h=b("#mastheadVideo div.video:first");if(h.length){d.clearAutoAnimate();b("#mastheadVideo").fadeTo(1000,1);b("div.modMh_1").css({height:"750px","margin-top":"50px"});b("#mastheadVideo").css({height:"750px","margin-top":"38px"});b(".videoContainer").css("height","100%");b("#mastheadVideo a.close").css("top","27px");if(b(window).width()<=1024){b("#mastheadVideo").css("top","-100px");b("#mastheadVideo a.close").css("top","125px")}d.hideCta();h.trigger("videoActivate");b("#mastheadVideo").resize()}});b(document).on(c,g,function(h){d.clearAutoAnimate();d.animate("prev");d.clearAutoAnimate();d.autoAnimate()});b(document).on(c,e,function(h){d.animate("next");d.clearAutoAnimate();d.autoAnimate()});b(document).on(c,"#mastheadVideo a.close",function(h){b("div.modMh_1").css({height:"551px","margin-top":"0px"});h.preventDefault();b("#mastheadVideo div.video:first").trigger("videoClear").trigger("videoPrepare");b(this).parent().fadeTo(1000,0,function(){b(this).hide()});d.resetCta()});if(!mrm.util.touchDevice()){b(document).on("mouseenter",g,function(){if(!d._isAnimating){d.$mod.find("li.modMh_item_1.prev").stop().animate({left:d._lefts.prev+15},100)}d._autoAnimatePaused=true}).on("mouseleave",g,function(){if(!d._isAnimating){d.$mod.find("li.modMh_item_1.prev").stop().animate({left:d._lefts.prev},100)}d._autoAnimatePaused=false}).on("mouseenter",e,function(){if(!d._isAnimating){d.$mod.find("li.modMh_item_1.next").stop().animate({left:d._lefts.next-15},100)}d._autoAnimatePaused=true}).on("mouseleave",e,function(){if(!d._isAnimating){d.$mod.find("li.modMh_item_1.next").stop().animate({left:d._lefts.next},100)}d._autoAnimatePaused=false}).on("mouseenter",f+", #modMh_1_ctaOverlay h2",function(){d._autoAnimatePaused=true}).on("mouseleave",f+", #modMh_1_ctaOverlay h2",function(){d._autoAnimatePaused=false})}b(window).resize(function(){if(!d._isAnimating){d.resetLeftPositions(true);var h=b("#mastheadVideo");if(h.length){var j=h.find("div.video");var k=b(window).width();j.css({width:k}).children(0).css({width:k});if(j.getHiddenVideoPlayerObject()){j.getHiddenVideoPlayerObject().resize(k,b("div.modMh_1").height())}}}});if(mrm.util.touchDevice()){b("div.modMh_1 div.mmScroll.ui-scroller-type2 ul.mmScrollItems").touchwipe({wipeLeft:function(){d.animate("next")},wipeRight:function(){d.animate("prev")},min_move_x:20,preventDefaultEvents:false})}}}}(mrm.$));(function(a){mrm.track=mrm.track||{};a.extend(mrm.track,{mh_scroller_1:{initTrack:function(b,c){clickOrTouch=(mrm.util.touchDevice())?"touchstart":"click";b.find(".mmScrollBtn.prev").on(clickOrTouch,function(){b.find("ul.mmScrollItems").trigger("onAfter",function(e,d){var f=a("li.ui-helper-visible").find("img").attr("src");if(typeof(f)!=="undefined"){f=f.substr(f.lastIndexOf("/")+1)}mrm.util.trackEvent("click_cta",{section:"masthead",linkname:"arrow:prev:"+f})})});b.find(".mmScrollBtn.next").on(clickOrTouch,function(){b.find("ul.mmScrollItems").trigger("onAfter",function(e,d){var f=a("li.ui-helper-visible").find("img").attr("src");if(typeof(f)!=="undefined"){f=f.substr(f.lastIndexOf("/")+1)}mrm.util.trackEvent("click_cta",{section:"masthead",linkname:"arrow:next:"+f})})});b.on(clickOrTouch,".mmScrollPagination li",function(){b.find("ul.mmScrollItems").trigger("onAfter",function(e,d){var f=a("li.ui-helper-visible").find("img").attr("src");if(typeof(f)!=="undefined"){f=f.substr(f.lastIndexOf("/")+1)}mrm.util.trackEvent("click_cta",{section:"masthead",linkname:"dots:"+f})})});b.on(clickOrTouch,".mmScrollItems li.modMm_hotspot_1 div.simpleHotSpot map area",function(){var d=a(this).attr("href").split("/").pop();mrm.util.trackEvent("click_cta",{section:"masthead",linkname:"image:"+d})})}}})}(mrm.$));(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{mh_storydetails_1:{tpl:["12"],init:function(b){mrm.util.log("[mh_storydetails_1] Context: "+b);this.attachEvents()},attachEvents:function(){var b=this;var d=a(".modMh_storydetails_1");var c=(mrm.util.touchDevice())?"touchstart":"click";d.find(".ln.mh_caret").removeAttr("onclick");d.find(".ln.mh_caret").on(c,function(e){b.callOmnitureTracking(d,a(this),"storyDetails")})},callOmnitureTracking:function(c,f,e){if(typeof(Omniture_s)==="undefined"){return}var d=Omniture_s.eVar18.toLowerCase(),b=Omniture_s.pageName;switch(e){case"storyDetails":mrm.util.tagging.omniture_tl(f,f.html(),"o","storyDetails",{pageName:b,prop27:"masthead",prop32:"masthead:link:"+f.attr("href")});break}},}})}(mrm.$));(function(a){mrm.mod.Mh_tablay_1=mrm.mod.AbstractMod.extend({prepare:function(){var d=this;if(mrm.util.ie6()){return}var b=d.$ctx.tabs({select:function(f,g){d.markVisible(a(g.panel))}});d.$ctx.find(".ui-tabs-nav, .ui-tabs-nav > *").removeClass("ui-corner-all ui-corner-top").addClass("ui-corner-bottom");b.find(".ui-tabs-nav").appendTo(d.$ctx);b.find(".ui-tabs-nav").contents().filter(function(){return this.nodeType===3}).remove();var c=mrm.util.getHash();if(c!==""&&mrm.util.exists(c)){var e=a(c).offset().top;a(document).scrollTop(e)}},markVisible:function(b){b.addClass("ui-helper-visible").siblings(".ui-tabs-panel").removeClass("ui-helper-visible")},switchToContent:function(d){var c=this;if(d.length===0){return}var b=d.closest(".ui-tabs-panel");var e=b.attr("id");if(e){c.$ctx.tabs("select",e)}}})})(mrm.$);(function(a){mrm.mod.Mh_title_1=mrm.mod.AbstractMod.extend({prepare:function(){if(this.$ctx.children("map").length){var e=this.$ctx.children("img");var c=e.siblings("map").children("area");var d=(e.data("use").style==="fadeIn"||e.data("use").style==="slideDown")?200:400;var b=a.extend({},mrm.conf.plugin.cluetip||{},{prepareTitleAttr:true,activation:e.data("use").event,fx:{open:e.data("use").style,openSpeed:d},arrows:false,liveLeftOffset:e.data("use").x,liveTopOffset:e.data("use").y,newPosition:true});c.cluetipWrap(b)}}})})(mrm.$);(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{mm_1:{jwpOptions:a.extend(true,{},mrm.conf.cmp.mm_1.jwpOptions),initMod:function(e){mrm.util.log("[mrm.cmp.mm_1] Context: "+e);var k=this,g="jsReady",j="ifrm_ipad";if(a.os.name==="ipad"){e.find("object a."+j).replaceWith(function(){return a("<iframe></iframe>").addClass(j).attr("src",a(this).attr("href")).attr("width",a(this).data("ifrm-width")).attr("height",a(this).data("ifrm-height")).attr("frameborder","0")})}var c=e;var d;if(e.closest(".ui-dialog").length){d=1003;e.closest(".ui-dialog").addClass("mm-content")}else{d=0}e.data("indexBase",d);var b=c.find(".mm_scroll, .mmScroll").first().addClass("mmScroll"),f=b.children("ul").children("li"),h=c.find(".video-layer");if(b.length===0){mrm.corcmp.mmVideo.activateVideo(c)}if(f.length<=0){return}b.children("span.prev, span.next").addClass("mmScrollBtn");if(b.is(":hidden")){return}var l={height:"variable",onCreate:function(m){k._activateScrollerVideo(c)},scroll:{noWipeDirection:"vertical",onBefore:function(p,o,n,s){if(h.length>0){h.css("z-index",e.data("indexBase")-1)}if(c.find(".thumbnails-scroller").length>0){var m=c.find(".thumbnails-scroller ul");m.find("li").removeClass("active");var r=b.find("ul").triggerHandler("currentPosition");var q=c.find(".thumbnail-item-"+r).addClass("active");c.find(".thumbnails-scroller ul").trigger("slideTo",q)}if(typeof(mrm.cmp.mm_1.canvasTransition)==="object"){mrm.cmp.mm_1.canvasTransition.slide(p,o)}},onAfter:function(o,n,m,p){k._activateScrollerVideo(c);mrm.corcmp.mmVideo.deactivateVideo(o,h,true);if(h.length>0){h.find("div").empty()}}}};l=a.extend(true,l,mrm.conf.cmp.mm_1||{});if(b.hasClass("disable-looping")){l.circular=false;l.infinite=false}if(b.hasClass("use-lightbox")){k._setupLightbox(b,l)}b.mmScroll(l);if(typeof(k.canvasTransition)!=="undefined"){k.canvasTransition.initMod(b)}if(typeof(k.fullWidth)!=="undefined"){k.fullWidth.initMod(b)}if(c.find(".thumbnails-scroller").length>0){k._setupThumbnailScroller(c,b)}c.addClass(g);if(e.closest(".ui-dialog").length){e.closest(".dialog-container").dialog("option","position","center")}this._setupLazyLoad(b)},_setupLazyLoad:function(c){if(c.find("img[data-"+mrm.ui.image_loader.src_attribute+"]").length){if(c.closest(".lightbox_container").length){mrm.ui.image_loader.load_images(c.find("img.onload"))}var b=a.eventDispatcher.on("image_loaded",function(){if(c.find("img."+mrm.ui.image_loader.loaded_class).length===c.find("img[data-"+mrm.ui.image_loader.src_attribute+"]").not("."+mrm.ui.image_loader.onscroll_class).length){var d=c.find(".mmScrollBtn");a.eventDispatcher.off(b)}})}},_setupLightbox:function(g,d){var b=this;b.open=true;var e=mrm.$.extend({},mrm.conf.plugin.fancybox);var f=g.find("ul").find("figure>.lightbox").toArray();var c=g.find("ul");e=a.extend(e,{cyclic:!c.hasClass("disable_looping"),showNavArrows:!c.hasClass("hide_arrows"),scrolling:"no",titlePosition:"outside",onStart:function(j,k,n){g.find("ul").trigger("slideTo",[k]);if(a(j[k]).is(".video")){var h=a(j[k]).clone(false).attr("id",mrm.util.getRandomString("vid"));h.find(">img").removeAttr("height width");h.find(">img").attr("src",h.data("posterimage"));h.width(h.data("width")).height(h.data("height"));var l=h.get(0).outerHTML;if(a(j[k]).siblings(".end_frame_wrap").length){var m=a(j[k]).siblings(".end_frame_wrap");m.find(".video").each(function(){this.id=mrm.util.getRandomString("end_frame_vid")});l+=m.get(0).outerHTML}this.content=l}this.title=a(j[k]).next("figcaption").html()},onComplete:function(j,k,o){if(a(j[k]).is(".video")){try{if(mrm.util.ie8()){var h=a(j[k]).clone(false).attr("id",mrm.util.getRandomString("vid"));h.find(">img").removeAttr("height width");h.find(">img").attr("src",h.data("posterimage"));h.width(h.data("width")).height(h.data("height"));var l=h.get(0).outerHTML;a("#fancybox-content").html(l);if(a(j[k]).siblings(".end_frame_wrap").length){var m=a(j[k]).siblings(".end_frame_wrap");m.find(".video").each(function(){this.id=mrm.util.getRandomString("end_frame_vid")});a("#fancybox-content").append(m.clone())}}var h=a("#fancybox-content").find(".video.lightbox");mrm.util.doInitVideo(h,b.jwpOptions)}catch(n){mrm.util.log(n)}}else{a("#fancybox-content").find("img").attr("alt",a(j[k]).data("alt"))}b.open=false},onCleanup:function(j,k,m){if(a(j[k]).is(".video")){try{var h=a("#fancybox-content").find(".video");jwplayer().stop();h.remove()}catch(l){mrm.util.log(l)}}}});if(c.hasClass("ui_navigation_numbers")){a.extend(e,{titleFormat:a.proxy(this._titleFormatNumbers,this)})}else{if(c.hasClass("ui_navigation_dots")){a.extend(e,{titleFormat:a.proxy(this._titleFormatDots,this)})}}a("#fancybox-title ol.indicator_dot a").live("click",function(h){h.preventDefault();a.fancybox.pos(a(h.target).attr("href").replace(/^#/,""))});g.on("click","figure > a, figure > div.lightbox",function(h){h.stopPropagation();h.preventDefault();b.open=true;e.index=g.find("ul").triggerHandler("currentPosition");a.fancybox(f,e);a("#fancybox-wrap").addClass("fancybox_mm_1")})},_titleFormatDots:function(f,e,c,d){var b=this._getCaptionText(e[c],f);if(e.length<2){return b}b+='<ol class="indicator_dot">';a.each(e,function(g,h){if(g===c){b+='<li class="active">'+(g+1)+"</li>"}else{b+='<li><a href="#'+g+'">'+(g+1)+"</a></li>"}});b+="</ol>";return b},_titleFormatNumbers:function(f,e,c,d){var b=this._getCaptionText(e[c],f);if(e.length<2){return b}b+='<p class="indicator_number">';b+=(c+1)+"/"+e.length;b+="</p>";return b},_getCaptionText:function(b,c){var d=a(b).next("figcaption").find(".txtWrp");if(d.length){return d.html()}else{return(c&&c.length?"<p>"+c+"</p>":"")}},_setupThumbnailScroller:function(d,b){var k=this;var g=d.find(".thumbnails-scroller").addClass("mmScroll");g.children("span.prev, span.next").addClass("mmScrollBtn");var h=g.find("li");var f=mrm.conf.cmp.mm_1.thumbnails_scroller_multiplier;var e=d.find(".mm_scroll").first().find("img, object").first().width();if(f!=1){var j=1-f;g.css("margin-left",j*e*0.5);e*=f}h.first().addClass("active");h.each(function(m,n){a(this).addClass("thumbnail-item-"+m)});var l=mrm.conf.cmp.mm_1.thumbnail_scroller_config||{};var c=a.extend(true,{width:e,height:"auto",scroll:{},auto:false,items:{visible:"variable"},infinite:false,circular:false,animateControls:{fx:"none"}},l);h.on("click",function(){var q=a(this);var n;h.removeClass("activated-item");q.addClass("activated-item");var p=q.parent().triggerHandler("currentPosition");var m=q.parent().triggerHandler("currentVisible");m.each(function(r,s){if(a(s).hasClass("activated-item")){n=r}});var o=n+p;b.find("ul").trigger("slideTo",o)});g.mmScroll(c)},_activateScrollerVideo:function(f){var b=this;if(!f||f.length==0){return}var d=mrm.util.deepest(".ui-helper-visible",f);var e=f.find(".video-layer");var c=d.find("div.video");if(c.hasClass("lightbox")&&c.find("#galleryEnlargeIcon").length===0){c.append("<div id='galleryEnlargeIcon'></div>")}if(c.hasClass("lightbox")){return}mrm.util.doInitVideo(d,true,e,b.jwpOptions);if(d.find("div.video").data("posterclick")===false){e.css("z-index",f.data("indexBase")+1)}else{c.on("click",function(){e.css("z-index",f.data("indexBase")+1)})}e.closest(".mod").off("mmVideoComplete");e.closest(".mod").on("mmVideoComplete",function(g){e.css("z-index",f.data("indexBase")-1)})},switchToContent:function(b){b.closest(".mod").find(".caroufredsel_wrapper > ul").trigger("slideTo",b)},fullWidth:{config:a.extend(mrm.conf.cmp.mm_3||{},{maxWidth:1920}),init:function(b){},initMod:function(b){if(b.attr("data-cfg-full-width")==="1"){b.find("img.mm").each(function(){var c=a(this);c.data("origSize",{height:c.height(),width:c.width()});c.css({width:c.attr("width")});c.removeAttr("height width")});b.css({height:b.height(),maxWidth:this.config.maxWidth,overflow:"hidden"});b.parent(".mod.modMm_1").css({overflow:"visible","padding-left":0,"padding-right":0});a(window).resize(a.proxy(function(){this.resize(b)},this));this.resize(b)}},resize:function(e){var k=a(window).width(),h=a(".mds-area-content:eq(0)").width();e.closest(".modMm_1").css({marginLeft:0,marginRight:0});var d=(h-k)*0.5;d=d>0?0:d;e.css({"margin-left":d,"margin-right":d});var g=e.find("img.mm:eq(0)"),c=e.width();e.find(".caroufredsel_wrapper").width(c);if(g.length){if(c>=g.data("origSize").width){var j=e.find("img.mm");var f=Math.floor((((g.data("origSize").width*g.data("origSize").height)/c)-g.data("origSize").height)*0.5);j.css({"margin-top":f,width:c});e.find(".caroufredsel_wrapper > ul").css({"margin-left":0})}else{var b=(c-g.data("origSize").width)*0.5;e.find(".caroufredsel_wrapper > ul").css({"margin-left":b})}if(k>this.config.maxWidth){e.css("left",(k-this.config.maxWidth)*0.5)}else{e.css("left",0)}}}}}})}(mrm.$));(function(a){a.extend(mrm.cmp.mm_1,{canvasTransition:{config:{duration:800,easing:"easeInCubic",angleInDegrees:64,fps:mrm.util.iOS()?40:60},init:function(){},initMod:function(d){var e=0;var f=["ms","moz","webkit","o"];for(var b=0;b<f.length&&!window.requestAnimationFrame;++b){window.requestAnimationFrame=window[f[b]+"RequestAnimationFrame"];window.cancelAnimationFrame=window[f[b]+"CancelAnimationFrame"]||window[f[b]+"CancelRequestAnimationFrame"]}if(!window.requestAnimationFrame){window.requestAnimationFrame=function(l,h){var g=new Date().getTime();var j=Math.max(0,16-(g-e));var k=window.setTimeout(function(){l(g+j)},j);e=g+j;return k}}if(!window.cancelAnimationFrame){window.cancelAnimationFrame=function(g){clearTimeout(g)}}this.moveShare(d,d.find("li:eq(0)"));var c=document.createElement("canvas");c.width=d.width();c.height=d.height();d.append(a(c).hide())},slide:function(j,b){mrm.util.log("slide working");if(j.find("iframe").length>0||b.find("iframe").length>0){return}var c=j.closest(".mmScroll"),l=j.closest("modMm_1"),u=j.find("img.mm")[0],g=b.find("img.mm")[0],f=a(g).width(),o=c.height(),s=c.width(),e=c.children("canvas"),k=j.index(),m=b.index(),q=k<m?"next":"prev",r=parseInt(c.find("ul").css("margin-left"));r=r>0?0:r;e.css("z-index",l.data("indexBase"));e[0].width=f;e[0].height=o;this.moveShare(c,b);var d=Math.round(o/Math.tan(this.config.angleInDegrees/180*Math.PI));var n=[{x:0,y:0},{x:-d,y:o},{x:s,y:o},{x:s+d,y:0}];var p=false;if(a.os.name==="ipad"||typeof u!=="undefined"){if(/\.png$/.test(u.src)){c.find("img.mm").hide();p=true}}var h={img:u,img2:g,x:r,y:parseInt(a(g).css("margin-top")),w:f,h:g.height};this.drawImages({ctx:e[0].getContext("2d"),direction:q,polygon_arr:n,images:h,angleLength:d,transparent:p})},moveShare:function(e,b){e.children("div#captionHolder").remove();var f=b.find("figcaption.tx_cap").hide(0);var d=f.clone(1);e.append(a('<div id="captionHolder" />').append(d.show(0)));e.find("#captionHolder").find("a.ln.disclaimer_1").unbind();var c=a.extend(true,{},mrm.conf.plugin.cluetip,mrm.conf.cmp.disclaimer_1.cluetip);e.find("#captionHolder").find("a.ln.disclaimer_1").cluetipWrap(c)},drawImages:function(d){var c=this;cancelAnimationFrame(c.animationId);a(d.ctx.canvas).show();var e=new Date().getTime(),b=e,g=true;(function f(){var j=new Date().getTime(),k=j-e,h=0,n=d.polygon_arr[3].x,m=c.config.duration,l=a.easing[c.config.easing](null,k,h,n,m);d._offset=(d.direction==="next")?l*-1:l;if((j-b)>(1000/c.config.fps)||g){g=false;b=new Date().getTime();c.wipeAnimation(d)}if(k<=m+15){c.animationId=requestAnimationFrame(f)}else{if(!d.transparent){a(d.ctx.canvas).hide(0)}}})()},wipeAnimation:function(k){var h=mrm.cmp.mm_1.canvasTransition;var j=k.ctx;var f=k._offset;j.clearRect(0,0,j.canvas.width,j.canvas.height);var c=k.images;if(k.transparent){j.beginPath();if(k.direction==="next"){j.moveTo(parseInt(k.polygon_arr[2].x)+f,parseInt(k.polygon_arr[2].y));j.lineTo(parseInt(k.polygon_arr[3].x)+f,parseInt(k.polygon_arr[3].y));j.lineTo(parseInt(k.polygon_arr[3].x)+c.w,parseInt(k.polygon_arr[3].y));j.lineTo(parseInt(k.polygon_arr[2].x)+c.w,parseInt(k.polygon_arr[2].y))}else{j.moveTo(parseInt(k.polygon_arr[0].x)+f,parseInt(k.polygon_arr[0].y));j.lineTo(parseInt(k.polygon_arr[1].x)+f,parseInt(k.polygon_arr[1].y));j.lineTo(parseInt(k.polygon_arr[1].x)-c.w,parseInt(k.polygon_arr[1].y));j.lineTo(parseInt(k.polygon_arr[0].x)-c.w,parseInt(k.polygon_arr[0].y))}j.closePath();j.save();j.clip();(function g(){try{j.drawImage(c.img2,c.x,c.y,c.w,c.h)}catch(l){if(l.name=="NS_ERROR_NOT_AVAILABLE"){setTimeout(g,100)}else{throw l}}})();j.restore()}j.beginPath();for(var b=0;b<(k.polygon_arr.length);b++){var e=parseInt(k.polygon_arr[b].x)+f;var d=parseInt(k.polygon_arr[b].y);if(b===0){j.moveTo(e,d)}else{j.lineTo(e,d)}}j.closePath();if(!mrm.util.iOS()&&!k.transparent){j.shadowColor="rgba(0, 0, 0, .5)";j.shadowBlur=10;j.shadowOffsetX=(k.direction==="next")?10:-10;j.shadowOffsetY=0;j.fillStyle="black";j.fill()}j.save();j.clip();if(a.os.name==="ipad"||typeof c.img!=="undefined"){j.drawImage(c.img,c.x,c.y,c.w,c.h)}j.restore()}}})}(mrm.$));(function(a){mrm.track=mrm.track||{};a.extend(mrm.track,{mm_1:{initTrack:function(c,d){var b=(mrm.util.touchDevice())?"touchstart":"click";c.find("a > img.mm").on("click",function(){var e=a(this).attr("src");if(typeof(e)!=="undefined"){e=e.substr(e.lastIndexOf("/")+1)}mrm.util.trackEvent("click_cta",{section:d,linkname:"image:"+e})});c.find(".mmScrollPagination li a").on(b,function(){var f=a(this).text()-c.find(".mmScrollPagination li.selected a").html();var e=c.find(".mm_mos_1_item").nextAll().andSelf().slice(f).find("img").attr("src");if(typeof(e)!=="undefined"){e=e.substr(e.lastIndexOf("/")+1)}mrm.util.trackEvent("click_cta",{section:d,linkname:"dots:"+e})});c.find(".mmScrollBtn.prev").on(b,function(){var e=a(this).next().find("li.ui-helper-visible").prev().find("img").attr("src");if(typeof(e)!=="undefined"){e=e.substr(e.lastIndexOf("/")+1)}if(a(this).parent().hasClass("thumbnails-scroller")){mrm.util.trackEvent("click_cta",{section:d,linkname:"thumb:arrow:prev"})}else{mrm.util.trackEvent("click_cta",{section:d,linkname:"arrow:prev:"+e})}});c.find(".mmScrollBtn.next").on(b,function(){var e=a(this).prevAll().find("li.ui-helper-visible").next().find("img").attr("src");if(typeof(e)!=="undefined"){e=e.substr(e.lastIndexOf("/")+1)}if(a(this).parent().hasClass("thumbnails-scroller")){mrm.util.trackEvent("click_cta",{section:d,linkname:"thumb:arrow:next"})}else{mrm.util.trackEvent("click_cta",{section:d,linkname:"arrow:next:"+e})}});c.on(b,".thumbnails-scroller li",function(){var e=a(this).find("h2").text();if(e==false){e=a(this).find("img").attr("src");if(typeof(e)!=="undefined"){e=e.substr(e.lastIndexOf("/")+1)}}mrm.util.trackEvent("click_cta",{section:d,linkname:"thumb:"+e})})}}})}(mrm.$));(function(a){mrm.mod.Mm_3=mrm.mod.AbstractMod.extend({cfg:{maxWidth:1920},prepare:function(){var b=this;var d=b.$ctx.find(".inner");if(b.$ctx.attr("data-cfg-full-width")==="1"||d.attr("data-cfg-full-width")==="1"){b.$ctx.css({overflow:"visible","padding-left":0,"padding-right":0,maxWidth:b.cfg.maxWidth,height:b.$ctx.height()});d.css({overflow:"hidden","padding-left":0,"padding-right":0,marginLeft:0,marginRight:0,height:d.height()});var c=b.$ctx.find("img.mm");c.data("origSize",{height:c.height(),width:c.width()});c.css({width:c.attr("width")});c.removeAttr("height width");a(window).resize(a.proxy(b.onResize,b));b.onResize()}},onResize:function(){var d=this;var c=a(window).width();var f=a(".mds-area-content:eq(0)").width();var g=(f-c)*0.5;g=g>0?0:g;d.$ctx.css({"margin-left":g,"margin-right":g});if(c>d.cfg.maxWidth){d.$ctx.css("left",(c-d.config.maxWidth)*0.5)}else{d.$ctx.css("left",0)}var e=d.$ctx.find("img.mm:eq(0)");var h=d.$ctx.width();d.$ctx.find(".inner").width(h);if(h>=e.data("origSize").width){var b=Math.floor((((e.data("origSize").width*e.data("origSize").height)/h)-e.data("origSize").height)*0.5);e.css({"margin-top":b,width:h})}else{e.css({width:e.data("origSize").width})}}})})(mrm.$);(function(a){mrm.track=mrm.track||{};a.extend(mrm.track,{mm_3:{initTrack:function(c,d){var b=(mrm.util.touchDevice())?"touchstart":"click";c.find("a img").on("click",function(){var e=a(this).attr("src");if(typeof(e)!=="undefined"){e=e.substr(e.lastIndexOf("/")+1)}mrm.util.trackEvent("click_cta",{section:d,linkname:"image:"+e})})}}})}(mrm.$));(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{mm_anim_1:{tpl:["06"],config:{maxWidth:1920},$container:null,$topStart:null,$midStart:null,$bottomStart:null,$topStop:null,$midStop:null,$bottomStop:null,$obj_start:{},$obj_stop:{},initMod:function(e){var b=this;if(e.find(".anim_holder").hasClass("full_width")){b.resize(e);a(window).resize(a.proxy(function(){this.resize(e)},this))}if(mrm.util.touchDevice()){var d=e.find(".anim_holder");var c=d.data("fallimage");d.prepend('<img src="'+c+'" />');d.addClass("touchPad");d.removeAttr("style");d.children(".modMm_animitem_1").remove();return}b.bindEvents(e);var f=e.find(".anim_holder").children(".modMm_animitem_1");if(f.length>1){e.addClass("mult");f.each(function(g){var h=a(this);h.css("z-index",Number(g+1))})}if(e.find(".anim_holder").hasClass("viewport")){b.viewPort(e)}},setVariables:function(d){var b=this;b.$container=d.find(".anim_holder");b.$topStart=b.$container.hasClass("top_start");b.$midStart=b.$container.hasClass("mid_start");b.$bottomStart=b.$container.hasClass("bottom_start");b.$topStop=b.$container.hasClass("top_stop");b.$midStop=b.$container.hasClass("mid_stop");b.$bottomStop=b.$container.hasClass("bottom_stop");var c=b.$container.offset().top+b.$container.height(),f=b.$container.offset().top,e=b.$container.offset().top+(b.$container.height()/2);if(b.$topStart){b.$obj_start=f}else{if(b.$midStart){b.$obj_start=e}else{if(b.$bottomStart){b.$obj_start=c}}}if(b.$topStop){b.$obj_stop=f}else{if(b.$midStop){b.$obj_stop=e}else{if(b.$bottomStop){b.$obj_stop=c}}}},bindEvents:function(c){var b=this;b.setVariables(c);b.$container.data("startStop",{point_start:b.$obj_start,point_stop:b.$obj_stop});a(window).scroll(function(){b.setVariables(c);var n=b.$obj_start;var l=b.$obj_stop;var f=a(window).scrollTop();var o=a(window).scrollTop()+a(window).height();var g=0;var j=0;var h=0;if(n<=o&&f<=l){h=100;var k=l;var m=n-a(window).height();g=parseInt(100-(((a(window).scrollTop()-k)/(m-k))*100),10)}else{if(l<=o&&n>=f){if(n<=o){h=parseInt((1-(f-l)/b.$container.outerHeight())*100,10)}else{h=parseInt((1-(n-o)/b.$container.outerHeight())*100,10)}}else{h=0}if(o>n){g=100}}var e=l-a(window).height();var d=n;j=parseInt(((a(window).scrollTop()-e)/(d-e))*100,10);if(j>100){j=100}if(j<0){j=0}b.$container.data("scrollpos",{percent_along_full_shown:g,percent_not_full_shown:h,percent_along_shown:j})})},viewPort:function(b){b.find(".anim_holder.viewport").each(function(){var e=a(this);var d=e.css("background-image").replace(/"/g,"").replace(/url\(|\)$/ig,"");var c=new Image();c.onload=function(){e.data("scrolldata",{range:"on",size:[c.width,c.height],dir:"up"});if(mrm.util.touchDevice()){b.find(".anim_holder").height(c.height)}};c.src=d});a(window).scroll(function(){b.find(".anim_holder.viewport").each(function(){var g=a(this);var d=g.data("scrolldata");var f=g.data("scrollpos");var h=g.outerWidth()*(d.size[1]/d.size[0]);var e=(h<g.height())?0:h-g.height();var c=(d.range=="on")?f.percent_along_full_shown:f.percent_along_shown;if(d.dir=="up"){g.css("background-position","center "+(0-(e*(c/100)))+"px")}else{g.css("background-position","center "+(0-e+(e*(c/100)))+"px")}})})},resize:function(e){var g=parseInt(a(window).width()),b=this.config.maxWidth,d=a('div[id|="mds-tpl"]').width(),c=parseInt(e.css("max-width"));if(b!==c){b=c}if(g<=b){if(g<=d){e.css("width",d)}else{e.css("width",g)}}else{e.css("width",b)}var f=parseInt((d-g)*0.5);f=f>0?0:f;e.css({"margin-left":f+"px","margin-right":f+"px"});if(g>b){e.css({"margin-left":b*-0.5+"px","margin-right":"auto"}).addClass("maxWidth")}else{e.css("left",0).removeClass("maxWidth")}}}})})(mrm.$);(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{mm_animitem_1:{tpl:["06"],initMod:function(d){if(mrm.util.touchDevice()){return}var c=this,b=d.parents(".anim_holder");if(b.hasClass("full_width")&&!d.hasClass("full_width")&&!d.hasClass("full_img")){d.wrap('<div style="z-index:'+d.css("z-index")+';" class="centered_frame">')}if(d.hasClass("activeFade")){c.imgFade(d)}if(d.hasClass("xymove")){c.xyPosition(d)}if(d.hasClass("sequence")){c.imgSequence(c,d)}},preLoadImg:function(e){var f=e;var d=f.data("sequence");var b=d.images.length;a(document.createElement("div")).addClass("preLoadImg").css("display","none").insertAfter(e);for(var c=0;c<b;c++){var g=d.images[c];a("<img />").attr("src",g).appendTo(e.next(".preLoadImg"))}},imgFade:function(f){var c=f.parents(".anim_holder").children(".modMm_animitem_1");if(c.length===1){f.each(function(){var k=f.css("background-image");if(k&&k!=="none"){var h=new Image(),j;a(h).load(function(){j=h.height;f.height(j)});h.src=f.css("background-image").replace(/url\(|\)$/ig,"").replace(/"/g,"")}})}var e=f.parents(".anim_holder");var g=parseInt(f.data("fader")["fadeIn"],10);var b=parseInt(f.data("fader")["fadeMid"],10);var d=parseInt(f.data("fader")["fadeOut"],10);a(window).scroll(function(){f.each(function(){var h=e.data("scrollpos")["percent_along_full_shown"];if(h<=50){var k=b-g;var j=k*((h/100)*2);f.css("opacity",(g+j)/100)}else{var k=d-b;var j=k*(((h-50)*2)/100);f.css("opacity",(b+j)/100)}})})},imgSequence:function(l,e){var h=e.parents(".anim_holder");var k={};var f=e.data("sequence");var d=f.images.length-1;var g;var c=0;var b=0;var j=f.images[0];l.preLoadImg(e);a(window).scroll(function(){e.each(function(){var w=a(window).scrollTop();var v=a(this);var n=v.data("sequence");var m=h.data("scrollpos");var q=parseInt(v.data("looper"),10);var z=(n.range=="on")?m.percent_along_full_shown:m.percent_along_shown;if(e.hasClass("looper")){if(z>0&&z<100){if(g!==undefined&&c!==undefined){var r=w-g;var u=r+c;if(u>=0){var o=Math.floor(u/q);var p=b+o;while(p>d){p=p-(d+1)}var s=n.images[p];b=p}else{var o=Math.ceil(u/q);var p=b-Math.abs(o);while(p<0){p=p+(d+1)}var s=n.images[p];b=p}c=u%q}g=w}}else{var s=n.images[Math.round((n.images.length-1)*(z/100))]}if(n.type=="bg"){v.css("background-image",a(a(this).find(".inner")[0]).css("background-image"));v.find(".inner").css("background-image",'url("'+s+'")')}else{if(n.type=="img"){if(v.children("img").attr("src")!==s){v.children("img").attr("src",s)}}}})})},xyPosition:function(c){var b=c.data("scrolldata");if(b.xpoints==undefined||b.ypoints==undefined){return}c.css("top",b.ypoints[0]).css("left",b.xpoints[0]);a(window).scroll(function(){$this=c.closest(".anim_holder");var e=c.data("scrolldata");var f=$this.data("scrollpos");var d=(e.range=="on")?f.percent_along_full_shown:f.percent_along_shown;c.css("top",(e.ypoints[0]+((e.ypoints[1]-e.ypoints[0])*(d/100)))+"px");c.css("left",(e.xpoints[0]+((e.xpoints[1]-e.xpoints[0])*(d/100)))+"px")})}}})})(mrm.$);(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{mm_colorizer:{tpl:["01","02","03","04","05","06","08","12","13","14"],$colorizerModules:null,clickOrTouch:null,init:function(d){var b=this;b.clickOrTouch=(mrm.util.touchDevice())?"touchstart":"click";b.setBindings()},initMod:function(j){var r=this;if(!j.length){return}var f=j.closest("div.mmScroll"),h=f.find("li.colorizer_view").find("figcaption.legal"),q=a(),k=mrm.conf.corcmp.mm_scroller||{},g=a.extend({animateColorizerItems:true,animateControlsForTouch:true},mrm.conf.cmp.colorizer||{});k=k.animateControls||{};k.speed=k.speed||300;var l=j,p=a("ul.colors > li > a",l),m=l.attr("id"),o=f.find("li.colorizer_view."+m),n=o.find("figure > img"),c=o.find("figcaption"),b=mrm.conf.cmp.colorizer||{},e=a.extend({},mrm.conf.plugin.cluetip,{prepareTitleAttr:true});p.first().closest("li").addClass("active");r.updateCenter(l);var d;p.on(r.clickOrTouch,function(u,w){var v=a(this).closest("li"),s="active";u.preventDefault();v.addClass(s).siblings("."+s).removeClass(s);n.attr("src",function(A,z){return v.data("colorpath")+z.split("/").pop()});c.html(v.data("text"));c.trigger("initTooltip")});if(b.useColorTip){p.on("mouseover",function(s){clearTimeout(d);d=setTimeout(function(){a("#cluetip").fadeOut(1000)},4500)});(p).cluetipWrap(e)}g.animateColorizerItems&&j.closest("div.mmScroll").on("showControls hideControls",function(u){if(!mrm.util.touchDevice()||(g.animateControlsForTouch&&mrm.util.touchDevice())){var s=u.type==="showControls";j.filter(function(){return a(this).data("activeColorizer")===true}).stop(true,true)[s?"slideDown":"slideUp"](k.speed);q.find(h).animate({opacity:s?1:0},k.speed)}})},updateCenter:function(e){if(a("html").attr("dir")=="rtl"){e.css("margin-left","0");var d=e.parent().width();var g=e.outerWidth();var f=e.find("ul.colors").width();var c=(d-f)/2-parseFloat(e.css("padding-left"));if(g+c>d){e.css("margin-left",0).css("float","right")}else{e.css("margin-left",c)}}else{e.css("margin-right","0");var d=e.parent().width();var g=e.outerWidth();var f=e.find("ul.colors").width();var b=(d-f)/2-parseFloat(e.css("padding-right"));if(g+b>d){e.css("margin-right",0).css("float","left")}else{e.css("margin-right",b)}}},setBindings:function(){a.eventDispatcher.on("HMC_load_colorizer",a.proxy(function(b,c){this.initMod(c.colorizer)},this));a.eventDispatcher.on("HMC_show_colorizer",a.proxy(function(b,c){this.updateCenter(c.colorizer)},this))}}})}(mrm.$));(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{mm_flash_1:{initMod:function(e){var c=this,b="jsReady",d="ifrm_ipad";if(a.os.name==="ipad"){var f=e.find("> figure object a."+d);if(f.length){e.find("> figure object img.mm").hide();f.replaceWith(function(){return a("<iframe></iframe>").addClass(d).attr("src",a(this).attr("href")).attr("width",a(this).data("ifrm-width")).attr("height",a(this).data("ifrm-height")).attr("frameborder","0")})}}}}})}(mrm.$));(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{mm_gal360_1_rtt_ng:{tpl:["07"],conf:{},dataInit:false,swfInit:false,rtt:null,$mm_gal360:null,init:function(b){mrm.util.log("[mrm.cmp.mm_gal360_1_rtt_ng] Context: "+b);this.$mm_gal360=a("div.mm_gal360_1");if(!this.$mm_gal360.length||!this.$mm_gal360.find("#mds-rtt-flash").length){return}a(document).on("init.rtt",a.proxy(this.swfReady,this))},dataReady:function(b){this.dataInit=true;this.conf=b;this.initRtt()},swfReady:function(c,b){this.swfInit=true;this.initRtt()},initRtt:function(){if(this.dataInit&&(this.swfInit||mrm.flash.initRtt)){this.rtt=new mrm.cmp.rtt(this.conf);var c=this.$mm_gal360.find(".exterior li:first a").attr("rel");var b=this.$mm_gal360.find(".interior li:first a").attr("rel");this.rtt.setExtConf(c);this.rtt.setIntConf(b);this.rtt.onConfigChange(null,this.rtt.TYPE_EXTERIOR);this.$mm_gal360.find(".content .interior").on("click",{viewType:this.rtt.TYPE_INTERIOR},a.proxy(this.onConfigChange,this));this.$mm_gal360.find(".content .exterior").on("click",{viewType:this.rtt.TYPE_EXTERIOR},a.proxy(this.onConfigChange,this))}},onConfigChange:function(f){var c=f.data.viewType;var b=a(f.target).closest("a");var e=b.attr("rel");b.closest(".gallery").find("li.active").removeClass("active");b.parent("li").addClass("active");if(c==this.rtt.TYPE_EXTERIOR){this.rtt.setExtConf(e)}else{this.rtt.setIntConf(e)}var d=b.find("img").attr("alt");this.updateLabel(c.toLowerCase(),d);a(document).trigger("config.rtt",[c])},updateLabel:function(b,c){mrm.util.log("[mrm.cmp.mm_gal360_1.updateLabel] - target: "+b+" - wording: "+c);this.$mm_gal360.find("div.content div."+b+" h2 span").text(c)}}})}(mrm.$));(function(a){mrm.mod.Mm_gal_1=mrm.mod.AbstractMod.extend({events:{"click div.stage":"onClickControls","click ul.gallery":"onClickGallery","submit form.download":"onDownload"},options:{idPrefix:mrm.util.getRenamedIdPrefix()},prepare:function(){var b=this;var c=b.$ctx.find(".stage > dl > dt:first");var d="#"+c.attr("id");mrm.util.sharing.enableShare2Autorender(c.next("dd"));if(!b.cfg.jumpToAnchors){b.$ctx.find(".stage dt").attr("id",function(e,f){return b.options.idPrefix+f})}b.setActiveItem(d);if(a.browser.opera||a.browser.mozilla){b.$ctx.find(".stage dl").scrollTop(0);a("html, body").scrollTop(0)}this.wipeSupport()},wipeSupport:function(){var b=this;b.$ctx.find("div.stage").touchwipe({wipeLeft:function(){b.$ctx.find("dd.controls:not(.ui-helper-hidden-accessible)").find(".next").trigger("click")},wipeRight:function(){b.$ctx.find("dd.controls:not(.ui-helper-hidden-accessible)").find(".prev").trigger("click")},preventDefaultEvents:false})},setActiveItem:function(d){var b=this;b.$ctx.find("ul.gallery li.active").removeClass("active");b.$ctx.find("ul.gallery li > a[href="+d+"]").closest("li").addClass("active");if(!b.cfg.jumpToAnchors){d=d.replace(/^#/,"#"+b.options.idPrefix)}b.$ctx.find(".stage > dl > dt:not(.ui-helper-hidden-accessible)").addClass("ui-helper-hidden-accessible").next("dd").addClass("ui-helper-hidden-accessible");var c=b.$ctx.find(d).removeClass("ui-helper-hidden-accessible").next("dd").removeClass("ui-helper-hidden-accessible");c.trigger("renderShare2")},switchToContent:function(c){var b=this;var d="#"+c.attr("id");if(!b.cfg.jumpToAnchors){d=d.replace("#"+b.options.idPrefix,"#")}b.setActiveItem(d)},onDownload:function(d){var b=this;d.preventDefault();var c=b.$ctx.find("dd.controls:not(.ui-helper-hidden-accessible) :selected").val();if(c!=="none"){window.open(c,"download_wallpaper","fullscree=true")}},onClickControls:function(d){var c=this;var b=a(d.target);if(b.hasClass("prev")||b.hasClass("next")){c.setActiveItem(b.attr("href"))}if(b.hasClass("zoom")){d.preventDefault();window.open(b.attr("href"),"enlarge_image","fullscree=true")}},onClickGallery:function(f){var e=this;var b=a(f.target);if(!b.is("ul")){var d=b.is("li")?b:b.parents("li:first");var c=d.find("a").attr("href");e.setActiveItem(c)}}})})(mrm.$);(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{mm_gal_lq:{tpl:["07"],cfg:{aSizePostfixes:[{width:1366,postfix:"_4"},{width:1024,postfix:"_3"},{width:1280,postfix:"_2"},{width:1600,postfix:"_1"},{width:1920,postfix:"_0"}]},maxCachedImgQuality:0,$modContainer:a(),$galScroller:a(),$galScrollerButtons:a(),$stageContainer:a(),$stagePlayBtn:a(),$panelContainer:a(),$panelContent:a(),$galImg:a(),itemCount:0,resizeTimerId:0,panelSliderTimerId:0,activeClass:"active",isVideoGallery:false,isLiquidGallery:a("html").hasClass("liquid"),options:{enableKeyboardNav:true,topOffset:0},init:function(n){a(".modMm_gal_lq").on("embed.video",function(){q.resizeHandler()});a(".modMm_gal_lq").on("mmVideoPlay",function(){q.resizeHandler()});a(".modMm_gal_lq").on("videoActivate",function(){q.resizeHandler()});mrm.util.log("[mrm.cmp.mm_gal_lq] Context: "+n);var k=a("div.modMm_gal_lq");if(!k.length){return}var q=this,f=a.extend({},mrm.conf.plugin.cluetip,{prepareTitleAttr:true});if(k.find(".nav_extended_1").hasClass("nav-left")&&(typeof(mrm.cmp.mm_gal_lq.gal_nav_left)!=="undefined")){this.gal_nav_left.initMod(k)}a.extend(true,q.options,mrm.conf.cmp.mm_gal_lq||{});q.$modContainer=k;q.isVideoGallery=q.$modContainer.hasClass("video");q.$galScroller=a("ul.mmScrollItems",q.$modContainer);q.$galItems=q.$galScroller.children("li");q.$galImg=a("figure img.mm",q.$galScroller);q.itemCount=q.$galScroller.children().length;q.$stageContainer=q.$galScroller.closest("div.stage");q.$galScrollerButtons=a("span.mmScrollBtn",q.$stageContainer);q.$panelContainer=q.$modContainer.children("div.panelWrp").children("div.inner");q.$panelCaption=q.$panelContainer.children("div.caption");q.$panelContent=q.$panelContainer.find("div.content");q.$thumbnails=q.$panelContent.find("ul.thumbnails > li:not(.placeholder)").slice(0,q.itemCount);q.$modContainer.children("div.mmScroll").mmScroll({responsive:true,items:{visible:1},pagination:{container:false,anchorBuilder:false},scroll:{wipe:true,noWipeDirection:"vertical",onBefore:function(v,u,c,w){a.proxy(q.updatePanel(u,v),q);a(u[0]).find(".hidden-video").trigger("videoPrepare")},onAfter:function(v,u,c,z){a(v[0]).find(".hidden-video").trigger("videoClear");try{var A=u.find("img").attr("src");A=A.substr(A.lastIndexOf("/")+1)}catch(w){}}},onCreate:function(c){c.find("figure > img").one("load",function(){q.$galScroller.trigger("updateSizes");if(q.isLiquidGallery){a.proxy(q.resizeHandler(),q)}});a.proxy(q.updatePanel(c),q);if(q.isVideoGallery){var u=0;if(q.options.preventPanelToggle){u=a(".panelWrp").outerHeight()+10}else{u=a(".panelWrp .inner .caption.tx_cap").outerHeight()+a(".panelWrp .inner .modNav_extended_1").outerHeight()+20}a(".hidden-video",q.$modContainer).hiddenVideo({targetElement:".modMm_gal_lq.video > .stage",overrideHeight:"100%",overrideWidth:"100%"},a.extend({},mrm.conf.corcmp.mmVideo.jwpDefaults,{"controlbar.position":"bottom","controlbar.margin":40,stretching:"exactfit",events:{onComplete:function(){mrm.cmp.mm_gal_lq.endVideo()}}}));a(c[0]).find(".hidden-video").trigger("videoPrepare")}mrm.util.sharing.enableShare2Autorender(q.$panelCaption)}});if(q.options.thumbnailScroller){var d=q.$panelContent.find("ul.thumbnails");q.$panelContent.addClass("scrolling");if(q.options.thumbnailHinting){q.$panelContent.addClass("thumbnail_hinting")}d.before(a('<div class="thumbScrollBtn prev" />')).after(a('<div class="thumbScrollBtn next"><div class="line"/></div>'));var e={auto:false,scroll:{items:5},items:{visible:"+1"},align:"left",infinite:false,circular:false,swipe:true,prev:{button:function(){return a(this).parent().prev(".prev")},onEnd:function(){d.trigger("configuration",{align:"left",reInit:true})}},next:{button:function(){return a(this).parent().next(".next")},onEnd:function(){d.trigger("configuration",{align:"right",reInit:true})}},};if(q.options.thumbnailScrollerContinuous){q.$panelContent.addClass("continuous-scroll");e.circular=true}d.mrmCarousel(e);if(q.options.thumbnailScrollerLiquid){a(window).on("resize",_.throttle(function(){if(a("#container").width()>q.options.thumbnailScrollerLiquidMinWidth){d.trigger("configuration",{width:a("#container").width()-q.options.thumbnailScrollerLiquidMargins,reInit:true})}else{d.trigger("configuration",{width:q.options.thumbnailScrollerLiquidMinWidthMinusArrows,reInit:true})}a(".thumbScrollBtn").css("display","block");totalThumbsWidth=d.find("li").eq(0).outerWidth(true)*d.find("li").length;thumbsSpace=q.$panelContent.find(".caroufredsel_wrapper").width();if(totalThumbsWidth>thumbsSpace){q.$panelContent.find(".thumbScrollBtn").removeClass("hidden").addClass("doNotHide")}else{q.$panelContent.find(".thumbScrollBtn").removeClass("doNotHide").addClass("hidden")}}));a(".thumbScrollBtn.next").on("click",function(){d.trigger("configuration",{align:"right"});a(".thumbScrollBtn").css("display","block")});a(".thumbScrollBtn.prev").on("click",function(){d.trigger("configuration",{align:"left"});a(".thumbScrollBtn").css("display","block")})}}if(q.options.thumbnailScrollerPagination){var q=this;var p=k.find("ul.thumbnails");p.addClass("mmScroll").before(a('<div class="thumbScrollBtn prev prev-thumb" />')).after(a('<div class="thumbScrollBtn next next-thumb" />'));var s={slideToPage:{page:null},auto:false,progress:true,infinite:false,circular:false,prev:".prev-thumb",next:".next-thumb",items:{visible:8},pagination:{container:function(){return a('<div class="pager_wrap"><span class="pager_prevpage" id="pager_prevpage">&lt;</span><span class="pager"></span><span class="pager_nextpage" id="pager_nextpage">&gt;</span></div>').appendTo(k.find(".panelWrp .content")).children(".pager")},anchorBuilder:function(c){return' <a href="#" id="page_'+c+'" class="page"><span>'+c+"</span></a>"}},scroll:{onAfter:function(v,u,c,w){a(this).css("left","0")},wipe:true},onCreate:function(C,w,E,A){var G=7;var B=0;var F=10;var u=a(this).closest(".content");var c=a(this).children().length;var v=Math.ceil(c/s.items.visible);var z,D;k.find(".mmScrollBtn.next").on("click",function(I){var J=p.find(".active");var H=p.find("li").index(J);if(H>=s.items.visible){p.trigger("slideTo",J)}});k.find(".mmScrollBtn.prev").on("click",function(I){var J=p.find(".active");var H=p.find("li").index(J);if(H===(c-1)){p.trigger("prev");p.trigger("slideTo",J)}});a(this).bind("updatePageStatus.cfs",function(){z=a(this).triggerHandler("currentPosition")+1;D=Math.ceil(z/s.items.visible);if(z<s.items.visible&&z>1){D=2;a("#page_1").removeClass("selected");a("#page_2").addClass("selected")}else{if(parseInt(k.find(".pager a.selected").attr("id").replace(/\D/g,""))===v){D=v}}var J=u.find(".prev-thumb");var I=u.find(".next-thumb");D===1?J.css("opacity",".5"):J.css("opacity","1");D===v?I.css("opacity",".5"):I.css("opacity","1");if(u.find(".pager_wrap .pager a.page").length>F){if(D<=Math.ceil(F/2)){a(".page").show();for(var H=F+1;H<=v;H++){a("#page_"+H).hide()}}else{if(D>v-Math.ceil(F/2)){a(".page").hide();for(var H=v-Math.floor(F-1);H<=v;H++){a("#page_"+H).show()}}else{a(".page").hide();for(var H=D-Math.floor(F/2);H<=D+Math.floor(F/2);H++){a("#page_"+H).show()}}}}else{u.find(".pager_prevpage").hide();u.find(".pager_nextpage").hide()}})}},j=a.extend(true,{},s),h={min_move_x:30,min_move_y:30,preventDefaultEventsHorizontal:(!j.scroll.noWipeDirection||j.scroll.noWipeDirection!=="horizontal"),preventDefaultEventsVertical:(!j.scroll.noWipeDirection||j.scroll.noWipeDirection!=="vertical"),wipeLeft:function(c){p.trigger("next")},wipeRight:function(c){p.trigger("prev")}};if(a.fn.touchwipe&&j.scroll.wipe){p.touchwipe(h);j.scroll.wipe=false}p.carouFredSel(j).css("left","0")}if(q.options.floatThumbnails){var b=a(window),m=q.$stageContainer.find(".mmScrollItems").find("li:first-child"),r=q.$panelContainer.parent(),o=(q.options.floatThumbnailsUseParent)?r:q.$panelContainer,l=o.height(),g=parseInt(r.css("margin-top"),10);r.css("height",o.height());b.on("scroll",function(){var v=m.outerHeight(true),c=b.height()+b.scrollTop(),u=v+m.offset().top;q.panelScroll(r,o,u,l,g,c,q.isVideoGallery)});b.on("resize",function(){setTimeout(function(){b.triggerHandler("scroll")},200);b.scroll()});b.scroll()}if(mrm.util.ie8()){a(".modMm_gal_lq .stage figure img.mm").css("width",a(window).width()+"px");a(window).resize(function(){a(".modMm_gal_lq .stage figure img.mm").css("width",a(window).width()+"px")})}if(!q.isVideoGallery){if(!mrm.util.touchDevice()){q.$thumbnails.children("a[title]").cluetipWrap(f)}}else{if(q.options.showVideoToolTipOverride&&!mrm.util.touchDevice()){q.$thumbnails.children("a[title]").cluetipWrap(f);if(!mrm.util.ie8()){q.$thumbnails.wrapInner("<figure></figure>")}}q.$stageContainer.append('<div class="playButton" />');q.$stagePlayBtn=q.$stageContainer.children("div.playButton")}q.bindEvents()},panelScroll:function(g,h,f,d,e,c,b){if(f+d+e>c){g.addClass("float");h.css({bottom:f+d+e-c})}else{g.removeClass("float");h.css("bottom","0")}},bindEvents:function(){var b=this;if(b.isLiquidGallery){a(window).on("load resize",a.proxy(b.resizeHandler,b));b.hidePanel(5000)}b.$thumbnails.on("click",function(d){var f=a(this),c=b.$thumbnails.index(this);d.preventDefault();b.$galScroller.trigger("slideTo",c);b.setActiveClass(f,b.$thumbnails);if(b.isVideoGallery){b.playVideo(b.$galItems.eq(c))}b.resizeHandler()});if(b.isVideoGallery){b.$galScroller.add(b.$stagePlayBtn).on("click",function(c){b.playVideo(b.$galScroller.triggerHandler("currentVisible"))});b.$galItems.on("videoClear",function(c){b.$stagePlayBtn.show()})}if(mrm.util.touchDevice()){if(b.isLiquidGallery){b.$panelContainer.children().on("click",function(d){var c=a(d.target);if(!c.closest("div.content, div.mod",b.$panelContainer[0]).length){b.$panelContent.slideToggle()}})}return}if(b.isLiquidGallery){b.$panelContainer.children().on("mouseenter",function(c){b.showPanel(200)});b.$panelContainer.children().on("mouseleave",function(c){b.hidePanel(1000)});a(".modShare_2, .ull",b.$panelContainer).on("mouseenter",function(c){window.clearTimeout(b.panelSliderTimerId)}).on("mouseleave",function(c){b.$panelContainer.children().trigger("mouseenter")})}if(b.options.enableKeyboardNav){a(document).bind("keyup",function(c){c.preventDefault();switch(c.which){case 37:a("div.modMm_gal_lq span.mmScrollBtn.prev").trigger("click");break;case 39:a("div.modMm_gal_lq span.mmScrollBtn.next").trigger("click");break}})}},resizeHandler:function(){onVideoTab=a(".modMm_gal_lq.video").length>=1;if(onVideoTab){this.resizeHandlerVideoTab();return}var c=this,d=a(window).height()-c.options.topOffset,b=Math.min(d,c.$galScroller.find("figure").first().height());if(c.options.forceToImageSize){b=c.$galScroller.find("figure").first().height()}if(b<400){b=400}a.each([c.$stageContainer,c.$stageContainer.children(".caroufredsel_wrapper"),c.$galScroller,c.$galItems],function(){this.height(b)});window.clearTimeout(c.resizeTimerId);c.resizeTimerId=window.setTimeout(function(){c.imageRefreshHandler()},300);if(!c.isVideoGallery){return}},resizeHandlerVideoTab:function(){var l=this;var d=l.options.videoTopBottomSpacing;if(a("html").hasClass("ipad")){d+=20}if(a("html").hasClass("firefox")){d+=11}if(a("html").hasClass("msie9")){d+=11}var l=this,k=a(window).height()-d,e=a(window).width();if(a(window).width()<l.options.windowMinimumWidth){e=l.options.windowMinimumWidth}if(a(window).height()<l.options.windowMinimumHeight){k=l.options.windowMinimumHeight-d}var g=e*0.5625;var j=k/0.5625;if(j>e){var c=g;var f=e;var b=100;var b=((a(window).height()-(c+d))/2)+1}else{var c=k;var f=j;var b=0}a.each([l.$stageContainer,l.$stageContainer.children(".stage > .caroufredsel_wrapper").eq(0),l.$galScroller,l.$galItems],function(){this.height(c);this.width(f)});a('.modMm_gal_lq div[id*="hiddenvideo-container_"].hidden-video').css("height",c);a('.modMm_gal_lq div[id*="hiddenvideo-container_"].hidden-video').css("width",f);a('.modMm_gal_lq div[id*="hiddenvideo-container_"].hidden-video > div object').css("margin-top",b);a('.modMm_gal_lq div[id*="hiddenvideo-container_"].hidden-video .end_frame_wrap').css("margin-top",b);var h=a(window).height()-d;if(h<l.options.videoMinimumHeight){h=l.options.videoMinimumHeight}a(".modMm_gal_lq .stage").css("height",h);window.clearTimeout(l.resizeTimerId);l.resizeTimerId=window.setTimeout(function(){l.imageRefreshHandler()},300);if(!l.isVideoGallery){return}},imageRefreshHandler:function(){var c=this,b=c.getQualityLevel();if(b<=c.maxCachedImgQuality){return false}c.maxCachedImgQuality=b;c.$galImg.not(".automatic").each(function(g,d){var h=a(d),f=h.attr("src"),e=f.replace(/_\d+(\.[a-z]{3,4})$/,c.cfg.aSizePostfixes[b].postfix+"$1"),j=h.clone();j.on("load",function(k){c.switchImages(h,j)});j.attr("src",e)})},getQualityLevel:function(){var c=a(window).width(),b=0;a.each(this.cfg.aSizePostfixes,function(d,e){b=d;if(c<=e.width){return false}});return b},getImageSize:function(){var e=a(window).width(),c,d,b=0;a.each(this.cfg.sizePostfixes,function(f,g){b++;c=f;if(!d&&e<=f){d=f;return false}});if(b==self.maxCachedImgQuality){return false}return !d?c:d},switchImages:function(b,c){b.attr("src",c.attr("src"))},updatePanel:function(c,d){d=d||a();if(d.length){d.find("figcaption").append(this.$panelCaption.contents())}else{this.$panelCaption.empty()}this.$panelCaption.append(c.find("figcaption").contents());this.setActiveClass(this.$thumbnails.eq(this.$galItems.index(c)),this.$thumbnails);var b=this.$panelContent.find("ul.thumbnails").triggerHandler("currentVisible");b=b?b.length:0;var e=Math.floor(this.$galItems.index(c)/b);if(this.options.thumbnailScroller){}if(this.options.showCount){if(!a(".modNav_extended_1").find("#itemCount").length){a(".modNav_extended_1").find("ul").after('<span id="itemCount"></div>')}a(".modNav_extended_1").find("#itemCount").text((this.$galItems.index(c)+1)+"/"+this.$thumbnails.length)}this.$panelCaption.trigger("renderShare2")},togglePanel:function(d,c){var b=this,e=(d=="hide")?"slideUp":"slideDown";c=parseInt(c,10)||0;window.clearTimeout(b.panelSliderTimerId);b.panelSliderTimerId=window.setTimeout(function(){b.$panelContent[e]();if(e=="slideUp"){}else{}},c)},showPanel:function(b){if(!this.options.preventPanelToggle){this.togglePanel("show",b)}},hidePanel:function(b){if(!this.options.preventPanelToggle){this.togglePanel("hide",b)}},hideScrollerControls:function(){this.$galScrollerButtons.fadeOut()},showScrollerControls:function(){this.$galScrollerButtons.fadeIn()},setActiveClass:function(b,c){var c=c||b.siblings();c.filter("."+this.activeClass).removeClass(this.activeClass);b.addClass(this.activeClass)},playVideo:function(b){this.$stagePlayBtn.hide();b.find(".hidden-video").trigger("videoActivate")},endVideo:function(){this.$stagePlayBtn.show()},switchToContent:function(b){this.$galScroller.trigger("slideTo",b)}}})}(mrm.$));(function(a){mrm.cmp.mm_gal_lq=mrm.cmp.mm_gal_lq||{};mrm.cmp.mm_gal_lq.gal_nav_left={initMod:function(d){var b=this;mrm.conf.cmp.mm_gal_lq=mrm.conf.cmp.mm_gal_lq||{};var c=a.extend(mrm.conf.cmp.mm_gal_lq||{},{thumbnailScroller:false,thumbnailScrollerPagination:true,thumbnailHinting:true,preventPanelToggle:true,showCount:false,forceToImageSize:false,floatThumbnails:true,floatThumbnailsUseParent:true,showVideoToolTipOverride:true});if(mrm.util.touchDevice()){d.find(".panelWrp").css("margin-top","0px")}a("figcaption").each(function(){a(this).wrapInner('<div class="capWrp"></div>')});a(document).ready(function(){a('<div class="panelWrpBg"></div>').prependTo(d.find(".panelWrp"));d.find(".panelWrp").prepend(d.find(".inner > .tx_cap"));if(d.find("ul.thumbnails li").length<9){d.find("#itemCount").hide()}})}}})(mrm.$);(function(a){mrm.track=mrm.track||{};a.extend(mrm.track,{mm_gal_lq:{initTrack:function(c,d){var b=(mrm.util.touchDevice())?"touchstart":"click";c.find("span.mmScrollBtn.prev").on(b,function(){var e=a(".thumbnails .active a img").attr("src");if(typeof(e)!=="undefined"){e=e.substr(e.lastIndexOf("/")+1)}mrm.util.trackEvent("click_cta",{section:d,linkname:"arrow:prev:"+e})});c.find("span.mmScrollBtn.next").on(b,function(){var e=a(".thumbnails .active a img").attr("src");if(typeof(e)!=="undefined"){e=e.substr(e.lastIndexOf("/")+1)}mrm.util.trackEvent("click_cta",{section:d,linkname:"arrow:next:"+e})});c.find(".thumbScrollBtn.prev").on(b,function(){mrm.util.trackEvent("click_cta",{section:d,linkname:"thumb:arrow:prev"})});c.find(".thumbScrollBtn.next").on(b,function(){mrm.util.trackEvent("click_cta",{section:d,linkname:"thumb:arrow:next"})});c.find(".thumbnails li").on(b,function(){var e=a(this).find("img").attr("src");if(typeof(e)!=="undefined"){e=e.substr(e.lastIndexOf("/")+1)}mrm.util.trackEvent("click_cta",{section:d,linkname:"thumb:"+e})});c.find(".caption.tx_cap .ull a").on(b,function(){var e=a(this).text();var f=a(this).attr("href");if(typeof(f)!=="undefined"){f=f.substr(f.lastIndexOf("/")+1)}mrm.util.trackEvent("click_cta",{section:d,linkname:"link:"+e+":"+f})})}}})}(mrm.$));(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{mm_hotspot_1:{captionSpacing:10,initMod:function(c){var b=this;if(c.find(".simpleHotSpot").length>0){b.setupSimpleEvents(c)}else{if(c.find(".advancedHotSpot").length>0){b.setupAdvancedEvents(c)}}},setupSimpleEvents:function(e){var d=this;var b=e.find(".simpleHotSpot").data();var c=b.trigger;if(c==="mouseover"&&mrm.util.touchDevice()===false){e.find("area").each(function(){var f=a(this);if(f.data().caption!==undefined){f.on("mouseover",function(){var g=d.findAreaBounds(e,f);d.setupSimpleHotSpots(e,f,g)});f.on("mouseout",function(){a("#container").find(".captiontip").remove()})}})}else{e.find("area").each(function(){var f=a(this);if(f.data().caption!==undefined){f.on("click",function(){if(f.hasClass("active")){e.find("area").removeClass("active");a("#container").find(".captiontip").remove()}else{e.find("area").removeClass("active");a("#container").find(".captiontip").remove();var g=d.findAreaBounds(e,f);f.addClass("active");d.setupSimpleHotSpots(e,f,g);return false}})}});a(document).on("click",function(){a("#container").find(".captiontip").remove();e.find("area").removeClass("active")})}},setupSimpleHotSpots:function(g,d,c){var e=this;var b=g.find(".simpleHotSpot").data();var h=d.data().caption;var f={top:c.top,right:c.right,bottom:c.bottom,left:c.left,transition:b.transition,xlocation:b.xlocation,ylocation:b.ylocation,trigger:b.trigger,text:h};e.createCaptionTip(g,d,f)},findAreaBounds:function(k,f){if(f.attr("shape")==="rect"){var A=f.attr("coords").split(",");var b=parseInt(A[0],10),q=parseInt(A[1],10),d=parseInt(A[2],10),j=parseInt(A[3],10);return{top:q,right:d,bottom:j,left:b}}else{if(f.attr("shape")==="circle"){var s=f.attr("coords").split(",");var n=parseInt(s[0],10);var m=parseInt(s[1],10);var g=parseInt(s[2],10);var w=m-g;var z=n+g;var h=m+g;var c=n-g;return{top:w,right:z,bottom:h,left:c}}else{if(f.attr("shape")==="polygon"){var e=f.attr("coords").split(",");var p=[];var o=[];var B;var u;var r;var l;for(var v=0;v<e.length;v=v+1){if((v%2)===0){p.push(parseInt(e[v],10))}else{o.push(parseInt(e[v],10))}}for(var v=0;v<o.length;v=v+1){if(o[v]<B||B===undefined){B=o[v]}if(o[v]>u||u===undefined){u=o[v]}}for(var v=0;v<p.length;v=v+1){if(p[v]>l||l===undefined){l=p[v]}if(p[v]<r||r===undefined){r=p[v]}}return{top:B,right:l,bottom:u,left:r}}}}},setupAdvancedEvents:function(e){var d=this;var b=e.find(".advancedHotSpot").data();var c=b.trigger;if(c==="mouseover"&&mrm.util.touchDevice()===false){e.find(".hotspot-item").each(function(){var f=a(this);if(f.data().caption!==undefined){f.on("mouseover",function(){var g=d.findItemBounds(e,f);d.setupAdvancedHotSpots(e,f,g);if(mrm.util.ie8()){a(".captiontip-inner").css("background-color","#000")}});f.on("mouseout",function(){a("#container").find(".captiontip").remove()})}})}else{e.find(".hotspot-item").each(function(){var f=a(this);if(f.data().caption!==undefined){f.on("click",function(){if(f.hasClass("active")){e.find(".hotspot-item").removeClass("active");a("#container").find(".captiontip").remove()}else{e.find(".hotspot-item").removeClass("active");a("#container").find(".captiontip").remove();var g=d.findItemBounds(e,f);f.addClass("active");d.setupAdvancedHotSpots(e,f,g);return false}})}});a(document).on("click",function(){a("#container").find(".captiontip").remove();e.find(".hotspot-item").removeClass("active")})}},setupAdvancedHotSpots:function(g,h,f){var d=this;var c=g.find(".advancedHotSpot").data();var j=h.data().caption;var b=h.data();var e={top:f.top,right:f.right,bottom:f.bottom,left:f.left,transition:c.transition,xlocation:b.xlocation,ylocation:b.ylocation,trigger:c.trigger,text:j};d.createCaptionTip(g,h,e)},findItemBounds:function(d,e){var k=d.offset().top;var f=d.offset().left;var m=e.offset().top;var n=e.offset().left;var h=e.width();var c=e.height();var l=m-k;var j=n-f+h;var g=m-k+c;var b=n-f;return{top:l,right:j,bottom:g,left:b}},createCaptionTip:function(h,c,e){var q=this;var p,m;var n=h.children("div:first-child");var o=h.offset().top-a("#container").offset().top;var k=h.offset().left-a("#container").offset().left;var b=a("<div>").addClass("captiontip").css("visibility","hidden");var d=a("<div>").addClass("captiontip-outer");var f=a("<div>").addClass("captiontip-inner");f.html(e.text);d.append(f);b.append(d);a("#container").append(b);var j=a("#container").find(".captiontip");var g=j.outerHeight();var l=j.outerWidth();if(e.xlocation==="left"){m=k+e.left-l-q.captionSpacing}else{if(e.xlocation==="right"){m=k+e.right+q.captionSpacing}else{if(e.xlocation==="center"){m=k+((e.left+e.right)/2)-(l/2)}}}if(e.ylocation==="top"){p=o+e.top-g-q.captionSpacing}else{if(e.ylocation==="bottom"){p=o+e.bottom+q.captionSpacing}else{if(e.ylocation==="center"){p=o+((e.bottom+e.top)/2)-(g/2)}}}j.css({top:p,left:m});q.displayCaptionTip(b,e)},displayCaptionTip:function(b,e){var d=b.find(".captiontip-outer");var f=b.find(".captiontip-inner");var j=d.height();var k=d.width();var c=f.height();var h=f.width();var g=k/2;b.css({display:"none",visibility:""});if(e.transition==="none"){b.show()}else{if(e.transition==="fade-in"){b.fadeIn()}else{if(e.transition==="expand"){k+=1;h+=1;f.css({width:h,height:c});b.show();d.css({width:0,"margin-left":g}).animate({width:k,"margin-left":0})}}}}}})}(mrm.$));(function(a){mrm.track=mrm.track||{};a.extend(mrm.track,{mm_hotspot_1:{initTrack:function(c,d){var b=(mrm.util.touchDevice())?"touchstart":"click";c.find("a img").on(b,function(){var e=a(this).parents("a").attr("href");e=e.substr(e.lastIndexOf("/")+1);mrm.util.trackEvent("click_cta",{section:d,linkname:"hotspot:"+e})})}}})}(mrm.$));(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{mm_imagevideo_1:{init:function(e){var d=this;mrm.util.log("[mrm.cmp.mm_imagevideo_1] Context: "+e);var b=a(".modMm_imagevideo_1");if(b.length==0){return}b.each(function(){var f=a(this);mrm.util.doInitVideo(f);d.fullWidth.initMod(f);if(mrm.util.ie8()){if(f.parents(".mm_scroll").hasClass("fullwidth")){var c=(f.find("img.mm").width()-980)/2;f.find("figcaption div:first").before(a('<div class="figcaption_contents"></div>'));f.find(".modShare_2").detach().appendTo(f.find(".figcaption_contents"));f.find(".txtWrp").detach().appendTo(f.find(".figcaption_contents"));f.find(".figcaption_contents").css("margin-left",c+"px");f.find(".figcaption_contents").css("width","980px");f.find(".figcaption_contents").css("left","50%")}}})},fullWidth:{config:a.extend(mrm.conf.cmp.mm_imagevideo_1||{},{maxWidth:1920}),init:function(b){},initMod:function(e){var c=e.find("figure");if(c.attr("data-cfg-full-width")==="1"&&!c.closest(".mm_scroll").length){e.css({overflow:"visible","padding-left":0,"padding-right":0,maxWidth:this.config.maxWidth,height:e.height()});c.css({overflow:"hidden","padding-left":0,"padding-right":0,marginLeft:0,marginRight:0,height:c.height()});var d=e.find("img.mm");var b=e.find("div.video");d.data("origSize",{height:d.height(),width:d.width()});d.css({width:d.attr("width")});d.removeAttr("height width");c.find(".tx_cap").wrap('<div class="captionHolder" />');a(window).resize(a.proxy(function(f){this.resize(e)},this));this.resize(e)}},resize:function(g){var k=a(window).width(),j=a(".mds-area-content:eq(0)").width();var f=(j-k)*0.5;f=f>0?0:f;g.css({"margin-left":f,"margin-right":f});if(k>this.config.maxWidth){g.css("left",(k-this.config.maxWidth)*0.5)}else{g.css("left",0)}var b=g.find("img.mm:eq(0)"),e=g.width(),d=g.find("div.video");g.find(".figure").width(e);if(e>=b.data("origSize").width){var h=Math.floor((((b.data("origSize").width*b.data("origSize").height)/e)-b.data("origSize").height)*0.5);b.css({"margin-top":h,width:e})}else{var c=(e-b.data("origSize").width)*0.5;g.find("figure").css({"margin-left":c});g.find(".captionHolder").css({"margin-left":(c*-1)})}if(k>this.config.maxWidth){g.css("left",(k-this.config.maxWidth)*0.5)}else{g.css("left",0)}}}}})}(mrm.$));(function(b){var a={width:null,height:null,flashplayer:"/static/cms/all/swf/player.swf",skin:null,autostart:false,initPlayerOnLoad:false,controlbar:"over",customEmbedParams:{allowfullscreen:"true",allowscriptaccess:"always",wmode:"opaque"},customObjectAttr:{id:null,name:null},customVideoTagAttr:null,events:{onBeforePlay:null}};b.mrmvideo=function(d,c){if(this==window){return new b.mrmvideo(d,(c||{}))}else{this.init(d,c)}};b.mrmvideo.prototype={_pluginName:"mrmvideo",_target:null,_videoCont:null,_posterCont:null,_customEmbedsSet:false,playerId:null,posterId:null,player:null,init:function(e,d){var c=this;c._target=b(e);c.options=new b.mrmvideo.options(d);if(c.options.bind!==undefined){delete c.options.bind}c._target.addClass(c._pluginName);if(c._target.data(c._pluginName)){return}c._target.data(c._pluginName,this);if(c.options.width==null){c.options.width=c._target.width()}if(c.options.height==null){c.options.height=c._target.height()}c.playerId=(c.options.playerId==null)?"vp"+(new Date().getTime())+~~((Math.random()*1000)+1):c.options.playerId;if(c.options.image==""||c.options.image==undefined){if(c.options.image==undefined){c.options.image=""}c.options.initPlayerOnLoad=true;c.options.autostart=false}c.skin=c.options.skin;c.build();c.createEventListeners()},build:function(){var c=this;c._target.css({width:c.options.width,height:c.options.height});var d='<div class="player" id="'+c.playerId+'"></div><div class="posterframe"><a href="#"><img src="'+c.options.image+'" border="0" width="'+c.options.width+'" height="'+c.options.height+'" /></a></div>';c._target.append(d);c._videoCont=c._target.children("div.player");c._posterCont=c._target.children("div.posterframe");if(c.options.initPlayerOnLoad){c._posterCont.hide();c.buildPlayer()}},buildPlayer:function(){var d=this;d.stopAllPlayers();d._posterCont.hide();d.player=jwplayer(d.playerId);var c=false;try{var g=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(g){c=true}}catch(h){if(navigator.mimeTypes["application/x-shockwave-flash"]!=undefined){c=true}}if(c&&b("object#"+d.playerId).length>0){d.player.play();return}else{if(!c&&b("#"+d.playerId).children().length>0){d.player.play();return}}if(c){d.options.customObjectAttr.id=d.options.customObjectAttr.name=d.playerId;swfobject.embedSWF(d.options.flashplayer,d.playerId,d.options.width,d.options.height,"9.0.115","false",d.options,d.options.customEmbedParams,d.options.customObjectAttr)}else{var f='<video 	 src="'+d.options.file+'"	 id="'+d.playerId+'"	 poster="'+d.options.image+'"	 width="'+d.options.width+'" autoplay="'+d.options.autostart+'" height="'+d.options.height+'"';f+="></video>";d._videoCont.append(f);d.options.events.onBeforePlay=function(){var j=b("video#"+d.playerId+"_video");if(j.length>0){for(var e in d.options.customVideoTagAttr){j.attr(e,d.options.customVideoTagAttr[e])}}delete j};d.player.setup(d.options)}d.setPlayerEvents()},play:function(){var c=this;player.play()},stop:function(){var c=this;player.stop()},pause:function(){var c=this;player.pause()},createEventListeners:function(){var c=this;c._target.find("div.posterframe a").live("click",function(d){d.preventDefault();c.buildPlayer()})},stopAllPlayers:function(){var c=this;b("div."+c._pluginName).each(function(){if(b(this).data("mrmvideo").player!=null&&b(this).find("object").attr("id")!==c.playerId){var d=b(this).data(c._pluginName).player.getState();if((d=="PLAYING")||(d=="BUFFERING")){b(this).data(c._pluginName).player.pause()}}})},setPlayerEvents:function(){var c=this;var e=0;var d;c.player.onTime(function(g){var f=(g.position/g.duration);switch(true){case ((f>=0.75)&&(e<4)):e=4;c.clickTrack("video_75",d);break;case ((f>=0.5)&&(e<3)):e=3;c.clickTrack("video_50",d);break;case ((f>=0.25)&&(e<2)):e=2;c.clickTrack("video_25",d);break;case ((g.position>=0.5)&&(e<1)):e=1;break}});c.player.onComplete(function(){e=0;if(!c.options.initPlayerOnLoad){c._posterCont.fadeIn()}c.clickTrack("video_100",d)});c.player.onFullscreen(function(){if(c.player.getFullscreen()){}else{}});c.player.onPlay(function(){d=c.player.getPlaylistItem().title;if(e<0.1){c.clickTrack("video_start",d)}else{c.stopAllPlayers()}})},destroy:function(){var c=this;c.target.removeData(c._pluginName);c.target.removeClass(c._pluginName);c.target.empty();delete this},_is_empty:function(d){var c;if(d===""||d===0||d==="0"||d===null||d===false||typeof d==="undefined"){return true}if(typeof d=="object"){for(c in d){return false}return true}return false}};b.mrmvideo.options=function(c){b.extend(true,this,b.mrmvideo.options,c)};b.mrmvideo.options.prototype=a;b.fn.mrmvideo=function(c){return this.each(function(){new b.mrmvideo(this,c)})}})(jQuery);(function(a){mrm.mod.Mm_mos_1=mrm.mod.AbstractMod.extend({prepare:function(){var b=this;b.initCarousel()},initCarousel:function(){var m=this;var h="jsReady";var e="mm_mos_1-";var f=m.id;var d=m.$ctx.find("> ul");var g=d.find("> li");if(g.length<=0){return}var k=0;var b=e+"next-"+f;var p=e+"prev-"+f;var o=e+"pagination-"+f;m.$ctx.find("> span.next").attr("id",b);m.$ctx.find("> span.prev").attr("id",p);m.$ctx.append('<ol id="'+o+'"></ol>');if(mrm.util.isRtl()){k=g.length-1;m.reverseListItems(d)}m.adjustCarousel(d,g);var n={auto:{play:false},scroll:{pauseOnHover:true,wipe:false,onBefore:function(s,r,q,u){m.$ctx.find(".caroufredsel_wrapper").scrollLeft(0)}},circular:true,infinite:true,height:"auto",items:{visible:1,start:k},prev:{button:"#"+p},next:{button:"#"+b},pagination:{container:"#"+o,anchorBuilder:function(q){if(mrm.util.isRtl()){q=g.length-(q-1)}return'<li><a href="#scroller-item_'+q+'">'+q+"</a></li>"}}};var c={min_move_x:30,min_move_y:30,preventDefaultEvents:false,preventDefaultEventsHorizontal:false,preventDefaultEventsVertical:false,wipeLeft:function(q){d.trigger("next")},wipeRight:function(q){d.trigger("prev")}};var j=d.attr("class");var l=/(autoscroll_[\w]*)/;if(l.test(j)){n.auto={play:true,pauseDuration:m.cfg[j.match(l)[1]]}}d.mrmCarousel(n);if(a.fn.touchwipe){d.touchwipe(c)}m.$ctx.addClass(h)},adjustCarousel:function(d,e){if(e.find(".has4elements").length>0){var c=this.$ctx;c.addClass("wide-carousel");var b=e.first().height();a.each([d,c,c.children(".next"),c.children(".prev"),c.children(".caroufredsel_wrapper")],function(){this.height(b)});c.children(".caroufredsel_wrapper").width(1000);c.parents(".catwalk").width(1060)}},reverseListItems:function(b){var e=b.children("li");var d=e.length;for(var c=0;c<d;c++){e.eq(c).prependTo(b)}},switchToContent:function(c){var b=this;b.$ctx.find(".caroufredsel_wrapper > ul").trigger("slideTo",c)}})})(mrm.$);(function(a){mrm.mod.Mm_mos_1=mrm.mod.Mm_mos_1.extend({after:function(){if((mrm.util.curTemplate()==="06")&&this.$ctx.find('div[class*="modTs_ln_"]').length>0){this.$ctx.find("> span, > div > ul > li .section").equalHeights();a("#mm_mos_1-pagination-1").insertBefore("#mm_mos_1-prev-1")}else{this.$ctx.find("> span, > div > ul").equalHeights()}}})})(mrm.$);(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{mm_slidetext_1:{initMod:function(c){var b=this;b._initVideoLinks(c)},_initVideoLinks:function(d){var c=d.find("a.link-video"),b=a(d.closest(".modMm_imagevideo_1"));c.off("click");c.on("click",function(h){var f=a(b.find(".video"));if(f.length>0){h.preventDefault();if(d.parents(".mmScroll").length<=0){d.hide()}if(f.data("posterclick")){jQuery(f.find("img")).click()}else{var g=mrm.corcmp.mmVideo.getJWPlayers(b);if(g.length>0){try{g[0].play()}catch(h){}}}}});b.on("mmVideoComplete",function(e){d.show()})}}})}(mrm.$));(function(a){mrm.mod.Mm_video_1=mrm.mod.AbstractMod.extend({events:{"click ul.gallery > li":"clickOnList","click ul.functions":"clickOnFunction"},player:null,$gallery:a(),$items:a(),amountOfItems:0,dataAttribute:"rel",trackingFunc:null,isInitialized:false,initialVideoIndex:0,idPrefix:mrm.util.getRenamedIdPrefix(),docTitle:document.title,prepare:function(){var b=this;b.$gallery=b.$ctx.find("ul.gallery");b.$gallery.children("li").attr("id",function(d,e){return b.idPrefix+e});if(b.$ctx.children("div.stage").hasClass("youtube")){b.player=a("#youtubePlayer")[0];b.playVideo=b.playYoutubeVideo;b.dataAttribute="href";b.isInitialized=true;b.initGallery()}else{mrm.util.doInitVideo(b.$ctx);var c=b.$ctx.find("> .stage > .video").attr("id");b.player=jwplayer("jwPlayerTarget_"+c);b.playVideo=b.playJWflvVideo;b.dataAttribute="rel"}b.$ctx.on("embed.video",function(d){b.playerReady()})},playerReady:function(){var b=this;b.isInitialized=true;b.playVideo=b.playJWflvVideo;b.dataAttribute="rel";b.initGallery()},initGallery:function(){var b=this;b.$items=b.$gallery.children("li");b.amountOfItems=b.$items.length;b.wipeSupport();b.triggerNextVideo(b.initialVideoIndex,true)},wipeSupport:function(){var c=this;var d=c.player;var b=c.$ctx.find("div.stage");b.touchwipe({wipeLeft:function(){if(!b.hasClass("youtube")){if(d.getState()!=="BUFFERING"&&d.getState()!=="PLAYING"){c.$ctx.find("ul.functions .next").trigger("click")}}},wipeRight:function(){if(!b.hasClass("youtube")){if(d.getState()!=="BUFFERING"&&d.getState()!=="PLAYING"){c.$ctx.find("ul.functions .prev").trigger("click")}}},preventDefaultEvents:false})},clickOnList:function(g,b){var d=this;g.preventDefault();var c=a(g.currentTarget);var f=c.find("a:first").attr(d.dataAttribute);d.$gallery.children("li.active").removeClass("active");c.addClass("active");if(!b){a(location).attr("hash","#"+c.attr("id").replace(d.idPrefix,""))}var h=d.$ctx.find("ul.functions li.sharing-container");var e=h.find(".modShare_2").eq(c.index());if(e.length){h.find(".modShare_2:visible").css("display","none");e.css("display","block");mrm.util.sharing.enableShare2Autorender(e);h.trigger("renderShare2")}d.playVideo(f)},clickOnFunction:function(e){var c=this;var b=a(e.target);if(b.hasClass("prev")||b.hasClass("next")){e.preventDefault();var d=b.hasClass("prev")?"prev":"next";c.triggerNextVideo(d)}},triggerNextVideo:function(e,b){var c=this;var d=c.$gallery.children("li.active").index();if(e==="next"){d=(d==c.amountOfItems-1)?0:d+1}else{if(e==="prev"){d=(d===0)?c.amountOfItems-1:d-1}else{if(typeof(e)==="number"){d=e}}}if(c.isInitialized){c.$items.eq(d).find("a:first").trigger("click",b)}else{c.initialVideoIndex=d}},playJWflvVideo:function(d){var b=this;if(typeof b.player!=="undefined"){if(!b.player.config){var c=b.$ctx.find("> .stage > .video").attr("id");b.player=jwplayer("jwPlayerTarget_"+c)}b.player.load(d).onReady(function(e){b.player.stop().play()}).onPause(function(f){if(mrm.util.ie()){var e=b.$gallery.children("li.active").attr("id").replace(that.idPrefix,"");a(document).attr("title",b.docTitle+"#"+e)}}).onError(function(e){b.onError(null);b.play()})}},playYoutubeVideo:function(c){var b=this;a(b.player).attr("src",c)},switchToContent:function(d){var b=this;var e=d.attr("id").replace(b.idPrefix,"");if(b.isInitialized&&b.$gallery.length>0&&b.$gallery.children("li.active").attr("id")===e){return}var c=b.$gallery.children("#"+b.idPrefix+e).index();b.triggerNextVideo(c)}})})(mrm.$);(function(a){mrm.mod.Mm_video_shared_module_1=mrm.mod.AbstractMod.extend({events:{"click ul.gallery > li":"clickOnList","click ul.functions":"clickOnFunction"},player:null,$gallery:a(),$items:a(),amountOfItems:0,dataAttribute:"rel",trackingFunc:null,isInitialized:false,initialVideoIndex:0,idPrefix:mrm.util.getRenamedIdPrefix(),docTitle:document.title,prepare:function(){var b=this;b.$gallery=b.$ctx.find("ul.gallery");b.$gallery.children("li").attr("id",function(d,e){return b.idPrefix+e});if(b.$ctx.children("div.stage").hasClass("youtube")){b.player=a("#youtubePlayer")[0];b.playVideo=b.playYoutubeVideo;b.dataAttribute="href";b.isInitialized=true;b.initGallery()}else{mrm.util.doInitVideo(b.$ctx);var c=b.$ctx.find("> .stage > .video").attr("id");b.player=jwplayer("jwPlayerTarget_"+c);b.playVideo=b.playJWflvVideo;b.dataAttribute="rel"}b.$ctx.on("embed.video",function(d){b.playerReady()})},playerReady:function(){var b=this;b.isInitialized=true;b.playVideo=b.playJWflvVideo;b.dataAttribute="rel";b.initGallery()},initGallery:function(){var b=this;b.$items=b.$gallery.children("li");b.amountOfItems=b.$items.length;b.wipeSupport();b.triggerNextVideo(b.initialVideoIndex,true)},wipeSupport:function(){var c=this;var d=c.player;var b=c.$ctx.find("div.stage");b.touchwipe({wipeLeft:function(){if(!b.hasClass("youtube")){if(d.getState()!=="BUFFERING"&&d.getState()!=="PLAYING"){c.$ctx.find("ul.functions .next").trigger("click")}}},wipeRight:function(){if(!b.hasClass("youtube")){if(d.getState()!=="BUFFERING"&&d.getState()!=="PLAYING"){c.$ctx.find("ul.functions .prev").trigger("click")}}},preventDefaultEvents:false})},clickOnList:function(f,b){var d=this;f.preventDefault();var c=a(f.currentTarget);var e=c.find("a:first").attr(d.dataAttribute);var g=c.find("p.desc").text();var h=c.find("p.long_desc").text();d.$gallery.children("li.active").removeClass("active");c.addClass("active");if(!b){a(location).attr("hash","#"+c.attr("id").replace(d.idPrefix,""))}d.$ctx.find(".video_desc").text(g);d.$ctx.find(".video_long_desc").text(h);d.playVideo(e)},clickOnFunction:function(e){var c=this;var b=a(e.target);if(b.hasClass("prev")||b.hasClass("next")){e.preventDefault();var d=b.hasClass("prev")?"prev":"next";c.triggerNextVideo(d)}},triggerNextVideo:function(e,b){var c=this;var d=c.$gallery.children("li.active").index();if(e==="next"){d=(d==c.amountOfItems-1)?0:d+1}else{if(e==="prev"){d=(d===0)?c.amountOfItems-1:d-1}else{if(typeof(e)==="number"){d=e}}}if(c.isInitialized){c.$items.eq(d).find("a:first").trigger("click",b)}else{c.initialVideoIndex=d}},playJWflvVideo:function(d){var b=this;if(typeof b.player!=="undefined"){if(!b.player.config){var c=b.$ctx.find("> .stage > .video").attr("id");b.player=jwplayer("jwPlayerTarget_"+c)}b.player.load(d).onReady(function(e){b.player.stop().play()}).onPause(function(f){if(mrm.util.ie()){var e=b.$gallery.children("li.active").attr("id").replace(that.idPrefix,"");a(document).attr("title",b.docTitle+"#"+e)}}).onError(function(e){b.onError(null);b.play()})}},playYoutubeVideo:function(c){var b=this;a(b.player).attr("src",c)},switchToContent:function(d){var b=this;var e=d.attr("id").replace(b.idPrefix,"");if(b.isInitialized&&b.$gallery.length>0&&b.$gallery.children("li.active").attr("id")===e){return}var c=b.$gallery.children("#"+b.idPrefix+e).index();b.triggerNextVideo(c)}})})(mrm.$);(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{mm_visualizer_1:{tpl:["06","10","16"],modCfg:null,ctgLastClicked:null,vehicleInfo:{},resultDetails:"",centerDiff:null,mode:"standard",activeModeNoExtPreference:false,activeModeNoIntPreference:false,vehicleConfig:null,disabledChipClsss:"hide",toggle_top:"",saveConfigOnce:true,trimOrder:[],lazyLoadComplete:false,initMod:function(e){var d=this;d.modCfg=mrm.conf.cmp.mm_visualizer_1||{};d.vehicleConfig=mrm.conf.util.vehicleConfig||{};if(d.modCfg.scrollerSettings.doInlineMargins){a(".masthead, .mod.modMh_1 ").css("max-width","1480px")}d.setupTrimOrder(e);d.mode=e.hasClass("mode_configure")?"config":d.mode;d.mode=e.hasClass("mode_active")?"active":d.mode;var b=a(".list_wrap.bodyStyles li a");var f=e.find(".scroll_template_holder").data();if(f.cgiType=="fluid"){if(f.cgiSmallestSize!=f.cgiLargestSize&&screen.width>f.cgiMinimumWidth){e.find(".viz_scroller li img").each(function(h,j){var g=a(j),k=a(j).attr("src");k=k.replace(f.cgiSmallestSize,f.cgiLargestSize);g.attr("src",k);if(g.is("img[data-orig-src]")){k=g.data("orig-src");k=k.replace(f.cgiSmallestSize,f.cgiLargestSize);g.data("orig-src",k)}})}}a.each(b,function(){a(this).data("title",a(this).attr("title"))});if(d.vehicleConfig.enabled){a.eventDispatcher.on("vehicle_config_load",function(g){if(d.mode=="config"){mrm.util.vehicleConfig.setConfigured()}else{if(d.mode=="active"){d.activeModeNoExtPreference=true;d.activeModeNoIntPreference=true}}d.runInitFunctions(e)})}else{d.runInitFunctions(e)}if(e.find(".topToggleBtn").length&&(e.find(".topToggleBtn").hasClass("onlyInt")||e.find(".topToggleBtn").hasClass("onlyExt"))){d.triggerTopToggleHide(e)}if(mrm.util.locale.getCountry().toLowerCase()==="ca"){var c="/apps/servlets/bbcdataseries.json?segment=true&priceOnly&year="+a('meta[name="year"]').attr("content")+"&carline="+a('meta[name="carline"]').attr("content")+"&bodystyle="+a('meta[name="bodystyle"]').attr("content")+"&path="+a('meta[name="contentpath"]').attr("content");a.ajax({url:c,dataType:"json",async:false,success:function(g){a("div.trims.mmScroll div ul.itemScroll").data("Regions",g[a('meta[name="year"]').attr("content")+"_"+a('meta[name="carline"]').attr("content")+"_"+a('meta[name="bodystyle"]').attr("content")]);a("div.trims.mmScroll div ul.itemScroll").addClass("caData").addClass("dynPriceEh")}})}},runInitFunctions:function(c){var b=this;b.setupLazyloading(c);b.setDefaultVehicle(c);b.setBYOlink(c);b.validateSwatches(c);b.setupTrims(c);b.setupMMC(c);b.updateVehicleCaption(c);b.setupToggleButtons(c);b.clearResults(c);b.setActiveItems(c);b.setListeners(c);b.handleDefaultView(c)},setupTrimOrder:function(c){var b=this;c.find(".trims li").each(function(e,d){b.trimOrder.push(a(d).data("peg"))});b.trimOrder=_.uniq(b.trimOrder)},arrayEq:function(d,c){return _.all(_.zip(d,c),function(b){return b[0]===b[1]})},sortTrims:function(f){var c=this;var b=[];f.find(".trims li:visible").each(function(h,g){b.push(a(g).data("peg"))});b=_.uniq(b);var d=0;while(!c.arrayEq(b,c.trimOrder)&&d<10){b=[];var e=f.find(".trims li:visible:last");e.parent().prepend(e);f.find(".trims li:visible").each(function(h,g){b.push(a(g).data("peg"))});b=_.uniq(b);d++}},activateZoom:function(c){var b=c.find(".scroll_template_holder").attr("data-cgi-zoom-size");if(b){c.find(".viz_scroller").addClass("zoom");if(a("html").hasClass("no-touch")){c.find(".viz_scroller img.mm").click(function(f){e(c)})}else{c.find(".clickToZoom").addClass("zoomActive");d(c)}}function d(f){f.find(".clickToZoom a").on("touchend",function(g){g.preventDefault();e(f)})}function e(j){mrm.$.eventDispatcher.trigger("byo_load",{load:"start"});a(this).trigger("onZoomClick");var q=j.find(".viz_scroller.zoom.activeView .ui-helper-visible img.mm");var h='<div class="zoomArea"><img class="zoomImg" src=""/><div class="zoomClose"></div></div>';q.parent().append(h);var p=q.attr("src");if(!j.find(".scroll_template_holder").length){return}var g=b.split("|")[0];var o=b.split("|")[1];var k=o.split("x")[0];var l=o.split("x")[1];if(!g){g="gmds9";k="1920";l="714"}p=p.replace(/gmds.\./,g+".");q.parent().find(".zoomArea .zoomImg").attr("src",p);var f=j.width();var n=j.height();var m=a("#mds-area-header").height();var r=(f-k)/2;var s=(n-l-m)/2;q.parent().find(".zoomArea .zoomImg").css("margin-left",r).css("margin-top",s);q.parent().find(".zoomArea .zoomImg").error(function(){mrm.$.eventDispatcher.trigger("byo_load",{load:"stop"})});q.parent().find(".zoomArea .zoomImg").load(function(){mrm.$.eventDispatcher.trigger("byo_load",{load:"stop"});a(this).parent().fadeIn("fast");var u=j.find(".activeView .cgiScroller").css("left").replace("px","");if(u<0){j.find(".zoomClose").css("right",u*-1)}j.find('.mmScrollBtn:not(".hidden")').hide();j.find(".mmScrollPaginationWrp").hide();j.find(".clickToZoom.zoomActive").hide();q.parent().find(".zoomArea").on("touchmove mousemove",function(E){E.stopPropagation();E.preventDefault();var D,B;if(E.type=="mousemove"&&a("html.no-touch").length>0){var C=E.clientX;var A=E.clientY-m;D=(C/f)*(f-k);B=(A/n)*(n-l-m)}else{var z=E.originalEvent.changedTouches[0].clientX;var w=E.originalEvent.changedTouches[0].clientY;D=(z/f)*(f-k);B=(w/n)*(n-l-m);D=(f-k)-D;B=(n-l-m)-B}a(this).find(".zoomImg").css("margin-left",D).css("margin-top",B)});v();function v(){a("body").one("click touchend",function(z){if(a("html").hasClass("touch")){var w=a(z.target);if(w.hasClass("zoomImg")){v();return}}a(this).trigger("onZoomClose");q.parent().find(".zoomArea").fadeOut("fast",function(){a(this).remove()});z.preventDefault();j.find('.mmScrollBtn:not(".hidden")').show();j.find(".mmScrollPaginationWrp").show();j.find(".clickToZoom.zoomActive").show()})}})}},handleDefaultAngle:function(c){var d=mrm.util.vehicleConfig.getSelectedRpo();if(d==null){return}var b=mrm.util.vehicleConfig.getView()},setDefaultVehicle:function(c){var b=this;var d=c.find(".scroll_template_holder").data("default");b.vehicleInfo["current-mmc"]=d.mmc;b.vehicleInfo["current-peg"]=d.peg;b.vehicleInfo["current-intColor"]=d.intColor;b.vehicleInfo["current-extColor"]=d.extColor;b.vehicleInfo["current-wheel"]=d.wheel;b.vehicleInfo["current-cabStyle"]=d.cabType;b.vehicleInfo["current-boxStyle"]=d.boxType;b.vehicleInfo["current-options"]=[];b.vehicleInfo["change-mmc"]=d.mmc;b.vehicleInfo["change-peg"]=d.peg;b.vehicleInfo["change-intColor"]=d.intColor;b.vehicleInfo["change-extColor"]=d.extColor;b.vehicleInfo["change-wheel"]=d.wheel;b.vehicleInfo["change-cabStyle"]=d.cabType;b.vehicleInfo["change-boxStyle"]=d.boxType;b.vehicleInfo["change-options"]=[];b.vehicleInfo.changeType="";b.vehicleInfo["prev-mmc"]="";b.vehicleInfo["prev-peg"]="";b.vehicleInfo["prev-intColor"]="";b.vehicleInfo["prev-extColor"]="";b.vehicleInfo["prev-wheel"]="";b.vehicleInfo["prev-cabStyle"]="";b.vehicleInfo["prev-boxStyle"]="";b.vehicleInfo["prev-options"]=[]},setBYOlink:function(e){var b=this;var d=e.find(".shppngLnk");var f=d.attr("href");if(d.length>0){if(f.indexOf("?x-series=")>-1){var c=f.split("?");f=c[0]}f+="?x-series="+b.vehicleInfo["current-mmc"]+"_"+b.vehicleInfo["current-peg"];d.attr("href",f);d.attr("onclick","if(typeof(Omniture_s) != 'undefined'){mrm.util.tagging.omniture_tl(this, this.href, 'o', undefined, {'prop27':'contentarea','pageName':'ch:no:US:en:index:chevy-performance:2014-corvette-coupe:model-overview','prop32':'contentarea:Build & Price'});}return validateCookie(this,'"+f+"', 'byo16', true);")}},handleDefaultView:function(c){var b=this;switch(b.mode){case"config":break;default:if(mrm.util.vehicleConfig.isConfigured()&&mrm.util.vehicleConfig.hasAllConfigurationValues()){a.eventDispatcher.on("visualizer_initialized",function(d){b.redrawConfiguredVehicle(c)})}else{a.eventDispatcher.on("visualizer_initialized",function(d){b.drawPreferredVehicle(c);if(b.mode=="active"){b.updateAvailableSwatches(c)}})}}},validateSwatches:function(e){var c=this;var d=_.union(mmcPegData,vehicleExtData,vehicleIntData,vehicleWheData);var b=[];a.each(d,function(h,g){var f=g.split("_");a.each(f,function(k,j){b.push(j)})});if(c.mode=="active"){b.push("noExtPrefs");b.push("noIntPrefs")}b=_.uniq(b);e.find(".list_wrap").each(function(g,f){a(f).find("ul.itemScroll li a[data-category]").each(function(j,h){var m=a(h).data("id")+"";var l=m.split("_");a.each(l,function(n,k){if(b.indexOf(k)===-1){a("#"+k).parent("li").remove()}})})});e.find(".list_wrap").each(function(g,f){a(f).find("ul.itemScroll li a[data-category]").each(function(j,h){var l=a(h).attr("title");a(h).find("img").attr("alt",l)})})},updateAvailableSwatches:function(c){var b=this;if(typeof(visualizerColorList)!="undefined"){var d=visualizerColorList;d.exteriorColorCodes.push("noExtPrefs");d.interiorColorCodes.push("noIntPrefs");b.disableColorList(d.exteriorColorCodes,"colors",b.disabledChipClsss);b.disableColorList(d.interiorColorCodes,"interiors",b.disabledChipClsss)}},setupMMC:function(e){if(e.find("div.scroll_template_holder").hasClass("hasMmc")){var l=this;var b=[];var f=[];var d=[];var k={};var h=a("#"+l.vehicleInfo["current-mmc"]).parent("li").attr("config-code");var j=l.vehicleInfo["current-mmc"];var c=l.vehicleInfo["current-peg"];a.each(a(".list_wrap.bodyStyles li"),function(){var o=a(this).attr("config-code");var n=a(this).data("peg");var m=a(this).data("mmc");d.push(o);f.push(m);b.push(n)});var g=_.zip(d,f,b);d=_.uniq(d);a.each(d,function(n,m){if(m!=undefined||m!=""||m!=null||m!="null"){k[m+"-mmc"]="";k[m+"-peg"]=""}});e.find(".list_wrap.bodyStyles li").hide();e.find(".list_wrap.bodyStyles li.grouping").show();k[h+"-mmc"]=j;k[h+"-peg"]=c;a.each(d,function(n,m){if(m!=undefined||m!=""||m!=null||m!="null"){if(k[m+"-mmc"]==""&&k[m+"-peg"]==""){a.each(g,function(o,p){if(m==p[0]&&c==p[2]){k[m+"-mmc"]=p[1];k[m+"-peg"]=p[2]}})}}});a.each(d,function(n,m){if(m!=undefined||m!=""||m!=null||m!="null"){if(k[m+"-mmc"]==""&&k[m+"-peg"]==""){a.each(g,function(o,p){if(m==p[0]){k[m+"-mmc"]=p[1];k[m+"-peg"]=p[2]}})}}});a.each(d,function(n,m){if(m!=undefined||m!=""||m!=null||m!="null"){if(k[m+"-mmc"]!==""&&k[m+"-peg"]!=undefined){e.find(".bodyStyles li[data-peg='"+k[m+"-peg"]+"'] a[data-id='"+k[m+"-mmc"]+"']").parent("li").show()}}})}},setupTrims:function(g){var c=this;if(g.find("div.scroll_template_holder").hasClass("hasMmc")){var d=[];var f=c.vehicleInfo["current-boxStyle"];var h=c.vehicleInfo["current-cabStyle"];a.each(mmcPegConfigData,function(l,j){d.push(j.split("|"))});var b=[];a.each(mmcPegData,function(l,j){b.push(j.split("_").pop())});b=_.uniq(b);g.find(".list_wrap.trims li").hide();a.each(b,function(j,k){if(mmcPegData.indexOf(c.vehicleInfo["current-mmc"]+"_"+k)>-1){g.find("a[data-id='"+c.vehicleInfo["current-mmc"]+"_"+k+"']").parent("li").show()}else{a.each(mmcPegData,function(l,m){if(m.indexOf("_"+k)>-1){var n=m.split("_");a.each(d,function(p,o){if(o[2].indexOf(m)>-1&&o[0]==h&&o[1]==f){g.find("a[data-id='"+n[0]+"_"+k+"']").parent("li").show();return false}})}})}});var e=g.find(".bodyStyles li[data-mmc='"+c.vehicleInfo["current-mmc"]+"']").attr("config-code");a.each(g.find(".trims li > a").not(":visible"),function(l,n){var m,j,k;m=a(n).html();j=a(n).attr("config-code");k=a(n).parent("li").data("peg");if(j===e){if(g.find(".trims li[data-peg='"+k+"'] a[config-code='"+j+"']:visible:contains('"+j+"')").length===0){a(n).parent("li").show()}}});c.sortTrims(g)}},updateVehicleCaption:function(f){var m=this;var j=f.find(".visualizer-masthead-caption span.trimTitle");var l=f.find(".scroll_template_holder").data("defaultdrive");var n=(a("#"+m.vehicleInfo["current-mmc"]).data("title")!==undefined)?a("#"+m.vehicleInfo["current-mmc"]).data("title"):"";var h=a("#"+m.vehicleInfo["current-mmc"]+"_"+m.vehicleInfo["current-peg"]).text()+" "+n+" ("+l+") ";var k=new RegExp(/(\r\n|\n|\r)/gm);while(k.test(h)){h=h.replace(k,"")}while(h.indexOf("  ")>-1){h=h.replace("  "," ")}h=h.replace("Hatch Hatchback","Hatchback ").replace("Conv Convertible","Convertible ").replace("Sedan Sedan","Sedan ").replace("Coupe Coupe","Coupe ");j.html(h);var b=parseFloat(a("#"+m.vehicleInfo["current-mmc"]+"_"+m.vehicleInfo["current-peg"]).data("cost"));if(b>0&&b!==undefined){var c=(a("#"+m.vehicleInfo["current-extColor"]).length)?parseFloat(a("#"+m.vehicleInfo["current-extColor"]).data("cost")):0;var g=(a("#"+m.vehicleInfo["current-intColor"]).length)?parseFloat(a("#"+m.vehicleInfo["current-intColor"]).data("cost")):0;var e=(a("#"+m.vehicleInfo["current-wheel"]).length)?parseFloat(a("#"+m.vehicleInfo["current-wheel"]).data("cost")):0;var d=b+c+g+e;d=m.formatPrice(f,d);f.find(".visualizer-masthead-caption span.price").html(d);f.find(".visualizer-masthead-caption span.price").show()}else{f.find(".visualizer-masthead-caption span.asShown").hide()}},setupToggleButtons:function(c){var b=c.find(".toggle_holder");if(b.children().length<2&&b.find(".topToggleBtn").length){b.find(".topToggleBtn").addClass("noIntToggle")}if(b.children(".int_ext_toggle").hasClass("align-with-placeholder")){b.clone().appendTo(".viz_scroller .placeholder_c1");b.hide()}else{b.removeClass("align-with-placeholder").removeAttr("style")}},toggleTop:function(e,d){var b=this;if(d.hasClass("btnToggle")){d.children().toggleClass("activeToggle")}else{d.children().toggleClass("active")}b.toggle_top=(b.toggle_top!=="")?b.toggle_top:e.find(".mmScroll .caroufredsel_wrapper ul li img.mm").first().attr("src");var c=b.toggle_top;if(b.toggle_top.indexOf("&removeCat=CONV")>-1){b.toggle_top=c.replace("&removeCat=CONV","");a.each(e.find(".mmScroll .caroufredsel_wrapper ul li img.mm"),function(){var f=a(this).attr("src").replace("&removeCat=CONV","");a(this).attr("src",f)})}else{b.toggle_top=c+"&removeCat=CONV";a.each(e.find(".mmScroll .caroufredsel_wrapper ul li img.mm"),function(){var f=a(this).attr("src")+"&removeCat=CONV";a(this).attr("src",f)})}},setListeners:function(d){var c=this,b=true;if(c.mode=="config"){a.eventDispatcher.on("vehicle_config_change",function(f){if(!b){c.redrawConfiguredVehicle(d)}b=false});a.eventDispatcher.on("ext_int_view_change",function(h,g){var f=d.find(".int_ext_toggle");if((a(".viz_scroller.exterior").hasClass("activeView")&&g.view=="interior")||(a(".viz_scroller.interior").hasClass("activeView")&&g.view=="exterior")){c.toggleViews(d,f)}});a.eventDispatcher.on("mh_scroller_image_change",function(){c.setViewAngle(d)});var e=a.eventDispatcher.on("lazyload_complete",function(){c.redrawConfiguredVehicle(d);a.eventDispatcher.off(e)})}else{if(c.mode=="active"){a.eventDispatcher.on("visualizer_change_color_list",function(g,f){visualizerColorList.exteriorColorCodes=f.exteriorColorCodes;visualizerColorList.interiorColorCodes=f.interiorColorCodes;c.updateAvailableSwatches(d)})}}},setViewAngle:function(e){var b="ext";var h="01";if(e.find(".viz_scroller.interior")&&e.find(".viz_scroller.interior").hasClass("activeView")){b="int"}var d=e.find(".activeView .ui-helper-visible img.mm").attr("src");if(!d){return}var g=d.split("&");for(var c in g){var f=g[c];if(f.indexOf("v=deg")!=-1){h=f.replace("v=deg","");break}}mrm.util.vehicleConfig.setView(b,h)},redrawConfiguredVehicle:function(f){var b=this;if(!b.lazyLoadComplete){return}var c=mrm.util.vehicleConfig;b.vehicleInfo["prev-mmc"]=b.vehicleInfo["current-mmc"];b.vehicleInfo["prev-peg"]=b.vehicleInfo["current-peg"];b.vehicleInfo["prev-intColor"]=b.vehicleInfo["current-intColor"];b.vehicleInfo["prev-extColor"]=b.vehicleInfo["current-extColor"];b.vehicleInfo["prev-wheel"]=b.vehicleInfo["current-wheel"];b.vehicleInfo["prev-options"]=b.vehicleInfo["current-options"];b.vehicleInfo["prev-cabStyle"]=b.vehicleInfo["current-cabStyle"];b.vehicleInfo["prev-boxStyle"]=b.vehicleInfo["current-boxStyle"];b.vehicleInfo["change-mmc"]=c.getConfiguredMmc()?c.getConfiguredMmc():b.vehicleInfo["current-mmc"];b.vehicleInfo["change-peg"]=c.getConfiguredPeg()?c.getConfiguredPeg():b.vehicleInfo["current-peg"];b.vehicleInfo["change-intColor"]=c.getConfiguredIntColor()?c.getConfiguredIntColor():b.vehicleInfo["current-intColor"];b.vehicleInfo["change-extColor"]=c.getConfiguredColor()?c.getConfiguredColor():b.vehicleInfo["current-extColor"];b.vehicleInfo["change-wheel"]=c.getConfiguredWheel()?c.getConfiguredWheel():b.vehicleInfo["current-wheel"];b.vehicleInfo["change-options"]=c.getConfiguredOptions()?c.getConfiguredOptions():b.vehicleInfo["current-options"];b.vehicleInfo["result-mmc"]=b.vehicleInfo["change-mmc"];b.vehicleInfo["result-peg"]=b.vehicleInfo["change-peg"];b.vehicleInfo["result-intColor"]=b.vehicleInfo["change-intColor"];b.vehicleInfo["result-extColor"]=b.vehicleInfo["change-extColor"];b.vehicleInfo["result-wheel"]=b.vehicleInfo["change-wheel"];b.vehicleInfo["result-options"]=b.vehicleInfo["change-options"];b.vehicleInfo["result-cabStyle"]=b.vehicleInfo["change-cabStyle"];b.vehicleInfo["result-boxStyle"]=b.vehicleInfo["change-boxStyle"];if(b.mode=="config"){b.disableColorList(c.getConfiguredColorList(),"colors",b.disabledChipClsss);b.disableColorList(c.getConfiguredIntColorList(),"interiors",b.disabledChipClsss)}else{var g=(c.getConfiguredColor()=="")?b.vehicleInfo["current-extColor"]:c.getConfiguredColor();var d=(c.getConfiguredIntColor()=="")?b.vehicleInfo["current-intColor"]:c.getConfiguredIntColor();b.disableColorList([g],"colors","hide");b.disableColorList([d],"interiors","hide");a(".cluetipRebuild").show()}b.changeCurrentVehicle(f);b.setupTrims(f);b.updateImages(f);b.updateVehicleCaption(f);b.setActiveItems(f);b.updateAngle(f)},drawPreferredVehicle:function(d){var b=this;var f=mrm.util.vehicleConfig;var e=false;for(pref in obj=mrm.util.vehicleConfig.getPreferences()){if(obj[pref]){e=true}}if(e){b.vehicleInfo["prev-mmc"]=b.vehicleInfo["current-mmc"];b.vehicleInfo["prev-peg"]=b.vehicleInfo["current-peg"];b.vehicleInfo["prev-intColor"]=b.vehicleInfo["current-intColor"];b.vehicleInfo["prev-extColor"]=b.vehicleInfo["current-extColor"];b.vehicleInfo["prev-wheel"]=b.vehicleInfo["current-wheel"];b.vehicleInfo["prev-options"]=b.vehicleInfo["current-options"];b.vehicleInfo["prev-cabStyle"]=b.vehicleInfo["current-cabStyle"];b.vehicleInfo["prev-boxStyle"]=b.vehicleInfo["current-boxStyle"];b.vehicleInfo["change-mmc"]=f.getPreferredMmc()?f.getPreferredMmc():b.vehicleInfo["current-mmc"];b.vehicleInfo["change-peg"]=f.getPreferredPeg()?f.getPreferredPeg():b.vehicleInfo["current-peg"];b.vehicleInfo["change-intColor"]=f.getPreferredIntColor()?f.getPreferredIntColor():b.vehicleInfo["current-intColor"];b.vehicleInfo["change-extColor"]=f.getPreferredColor()?f.getPreferredColor():b.vehicleInfo["current-extColor"];b.vehicleInfo["change-wheel"]=f.getPreferredWheel()?f.getPreferredWheel():b.vehicleInfo["current-wheel"];b.vehicleInfo["change-options"]=[];b.vehicleInfo=b.validate_data(b.vehicleInfo);b.changeCurrentVehicle(d);b.setupTrims(d);b.setupMMC(d);b.setActiveItems(d);b.updateImages(d);b.updateVehicleCaption(d)}},disableColorList:function(f,c,e){var b=this,h=a("."+c),d=h.find("ul");a.each(d.find("li").not(".grouping"),function(l,j){var m=a(j);var k=m.find("a");if(a.inArray(k.attr("id"),f)>-1||m.hasClass("label")){m.removeClass(e)}else{m.addClass(e)}});if(b.modCfg.scrollerSettings.itemScrollerAlign=="right"&&e=="hide"){var g=0;a.each(d.find("li"),function(k,j){if(!a(j).hasClass(e)&&!a(j).hasClass("grouping")){g+=a(j).outerWidth(true)}});d.css("left",(h.width()-g)+"px")}},formatPrice:function(f,e){var d=this;var c=f.find(".scroll_template_holder").data("currency");var h=c.prefix;var b=c.cents;var j=c.thousand;var g="d3v";if(e.toString().indexOf(".")>-1){e=e.toFixed(2)}e=e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,g);e=e.replace(".",b);e=e.replace(g,j);if(mrm.util.locale.getLang()==="fr"){return e+" "+h}else{return h+e}},clearResults:function(c){var b=this;b.vehicleInfo["result-mmc"]="";b.vehicleInfo["result-peg"]="";b.vehicleInfo["result-intColor"]="";b.vehicleInfo["result-extColor"]="";b.vehicleInfo["result-cabStyle"]="";b.vehicleInfo["result-boxStyle"]="";b.vehicleInfo["result-wheel"]="";b.vehicleInfo["result-conflict"]=false;b.vehicleInfo["result-details"]=[]},setActiveItems:function(g){var e=this;var h=g.find(".viz_data_holder .list_wrap li a");h.removeClass("activeItem");var d=(e.activeModeNoExtPreference)?"noExtPrefs":e.vehicleInfo["current-extColor"];var c=(e.activeModeNoIntPreference)?"noIntPrefs":e.vehicleInfo["current-intColor"];g.find(".trims li a[data-id='"+e.vehicleInfo["current-mmc"]+"_"+e.vehicleInfo["current-peg"]+"']").addClass("activeItem");g.find(".bodyStyles li[data-peg='"+e.vehicleInfo["current-peg"]+"'] #"+e.vehicleInfo["current-mmc"]).addClass("activeItem");if(g.find(".colors li.grouping").length&&g.find(".colors li a[data-id='"+d+"'][data-group='"+e.vehicleInfo["current-peg"]+"']").length!==0){g.find(".colors li a[data-id='"+d+"'][data-group='"+e.vehicleInfo["current-peg"]+"']").addClass("activeItem")}else{g.find(".colors li a[data-id='"+d+"']").addClass("activeItem")}if(g.find(".interiors li.grouping").length&&g.find(".interiors li a[data-id='"+c+"'][data-group='"+e.vehicleInfo["current-peg"]+"']").length!==0){g.find(".interiors li a[data-id='"+c+"'][data-group='"+e.vehicleInfo["current-peg"]+"']").addClass("activeItem")}else{g.find(".interiors li a[data-id='"+c+"']").addClass("activeItem")}g.find(".wheels li a[data-id='"+e.vehicleInfo["current-wheel"]+"']").addClass("activeItem");var f=g.find(".bodyStyles li[config-code] a.activeItem").parent("li").attr("config-code");if(typeof f!=="undefined"){g.find(".trims li a[config-code!='"+f+"']").parent("li").hide()}var b=[];a.each(mmcPegData,function(l,j){b.push(j.split("_").pop())});b=_.uniq(b);a.each(b,function(j,k){if(g.find(".trims ul li[data-peg='"+k+"']:visible").length===0){g.find(".trims ul li[data-peg='"+k+"']:first").show()}});e.itemScroller(g);e.triggerTopToggleHide(g);g.find(".viz_scroller.exterior ul li img").attr("alt","Exterior view for "+g.find('a[data-id="'+e.vehicleInfo["current-extColor"]+'"]').find("img").attr("alt"));g.find(".viz_scroller.interior ul li img").attr("alt","Interior view for "+g.find('a[data-id="'+e.vehicleInfo["current-intColor"]+'"]').find("img").attr("alt"))},updateAngle:function(e){var c=this;var h=mrm.util.vehicleConfig.getSelectedRpo();if(h==null){return}if(typeof(viewsByOptionData)=="undefined"){return}var b=viewsByOptionData[h];if(b==null){return}var g=b.angle;var f=e.find(".int_ext_toggle");if((b.view=="interior"&&a(".viz_scroller.exterior").hasClass("activeView"))||(b.view=="exterior"&&a(".viz_scroller.interior").hasClass("activeView"))){c.imageToggleResize(e,0,g)}else{if(g[0]=="0"){g=g[1]}g=g-1;if(a(".activeView .mmScrollPagination li a")[g]){a(".activeView .mmScrollPagination li a")[g].click()}var d=mrm.util.vehicleConfig.getConfiguration();d.selectedRpo=null;mrm.util.vehicleConfig.setConfiguration(d)}},setupLazyloading:function(d){var b=this,c=d.find("img[data-"+mrm.ui.image_loader.src_attribute+"].onload").length;if(c>0){var e=a.eventDispatcher.on("image_loaded",function(){if(d.find("img."+mrm.ui.image_loader.loaded_class).length>=c){b.completeLoad(d);a.eventDispatcher.off(e)}})}else{b.completeLoad(d)}},completeLoad:function(c){var b=this;b.initImages(c,0);b.handleDefaultAngle(c);b.activateZoom(c);b.fixImageHeights(c);b.lazyLoadComplete=true;a.eventDispatcher.trigger("lazyload_complete")},fixImageHeights:function(d){var c=this;var b;d.find(".viz_data_holder .list_wrap").each(function(f,e){b=a(e).find("ul a img:visible").outerHeight(true);if(!isNaN(parseInt(b))){var m=a(e).find("ul a").css("borderTopWidth"),g=a(e).find("ul a").css("borderBottomWidth"),l=parseInt(m)+parseInt(g);b=b+l;a(e).find(".caroufredsel_wrapper").css("height",b+"px");a(e).find(".caroufredsel_wrapper ul").css("height",b+"px");if(a(e).hasClass("bodyStyles")){var h=a(e).find("ul li"),j=h.length;h.each(function(k,n){if(k===j-1){if(a(n).is(":visible")){a(n).css("margin-right","0px")}else{a(n).prevUntil(":visible").prev().css("margin-right","0px")}}})}}})},initImages:function(f,e){var c=this;e++;var b=true;var d=f.find("img");d.each(function(){if(!this.complete){b=false}});if(b||e>=20){c.imagesLoaded(f)}else{window.setTimeout(function(){c.initImages(f,e)},500)}},imagesLoaded:function(c){var b=this;b.scrollSettings(c);b.setDataBindings(c);a.eventDispatcher.trigger("visualizer_initialized")},scrollSettings:function(e){var d=this;var c=e.find(".viz_scroller img");var b=e.find(".cgiScroller").addClass("mmScroll");var f={onCreate:function(){setTimeout(function(){a(".modMm_visualizer_1 .viz_scroller").addClass("jsReady")},1000)}};f=a.extend(true,f,d.modCfg.scrollerSettings||{});a.each(b,function(g,h){a(h).mmScroll(f)});if(typeof(d.canvasTransition)!=="undefined"){d.canvasTransition.initMod(b)}},setDataBindings:function(j){var n=this;var d=j.find(".mm_visualizer_item_1"),c=j.find(".viz_scroller.cgiScroll"),e=j.find("div.viz_data_holder");d.first().addClass("active");var b=d.first().data("item");a('.list_wrap[data-list="'+b+'"]').addClass("activeList");d.on("click",function(){var o=a(this);n.vizItemChange(j,o,true)});if(j.find(".viz_scroller").hasClass("interior")){var m=j.find(".int_ext_toggle");m.on("click",function(){n.toggleViews(j,a(this))})}if(j.find(".topToggleBtn").length){var m=j.find(".topToggleBtn");m.on("click",function(){n.toggleTop(j,a(this))})}var h=j.find(".viz_data_holder .list_wrap li a");var k=(mrm.util.touchDevice())?"touchend":"click";h.on(k,function(p){p.preventDefault();if(!a(this).hasClass("details")){var q=a(this).data("id");n.ctgLastClicked=a(this).data("category");if(!a(this).parent().hasClass("disabled")){if(n.mode=="config"){a.eventDispatcher.trigger("visualizer_color_change",{type:n.ctgLastClicked,rpo:q});n.vehicleInfo["prev-mmc"]=n.vehicleInfo["current-mmc"];n.vehicleInfo["prev-peg"]=n.vehicleInfo["current-peg"];n.vehicleInfo["prev-intColor"]=n.vehicleInfo["current-intColor"];n.vehicleInfo["prev-extColor"]=n.vehicleInfo["current-extColor"];n.vehicleInfo["prev-wheel"]=n.vehicleInfo["current-wheel"];n.vehicleInfo["prev-cabStyle"]=n.vehicleInfo["current-cabStyle"];n.vehicleInfo["prev-boxStyle"]=n.vehicleInfo["current-boxStyle"]}else{if(n.mode=="active"){var p="noExtPrefs";var o="noIntPrefs";if(n.ctgLastClicked=="extColor"){p=q;o=j.find(".interiors .activeItem").data("id");if(q=="noExtPrefs"){j.find(".colors li a").removeClass("activeItem");j.find("#noExtPrefs").addClass("activeItem")}else{n.activeModeNoExtPreference=false}n.activeModeNoIntPreference=(o=="noIntPrefs")?true:false}else{if(n.ctgLastClicked=="intColor"){p=j.find(".colors .activeItem").data("id");o=q;if(q=="noIntPrefs"){j.find(".interiors li a").removeClass("activeItem");j.find("#noIntPrefs").addClass("activeItem")}else{n.activeModeNoIntPreference=false}n.activeModeNoExtPreference=(p=="noExtPrefs")?true:false}}a.eventDispatcher.trigger("visualizer_color_change",{exteriorColor:p,interiorColor:o});if(q!="noExtPrefs"&&q!="noIntPrefs"){n.swatchItemClicks(j,a(this||p.currentTarget))}}else{n.swatchItemClicks(j,a(this||p.currentTarget))}}}}});n.itemScroller(j);n.extraCostTooltip(j);n.colorCluTip(j);n.detailsClue(j);n.conflictClueTip(j);n.rebuildClueTip(j);if(n.modCfg.scrollerSettings.doInlineMargins){var g=a(".cgiScroller").first().width();var l=a(".list_wrap").first().width();var f=(g-l)/2}a("body").on(k,"#visualizer_rebuild",function(r){var o=a('meta[name="carline"]').attr("content"),q=a('meta[name="bodystyle"]').attr("content"),p=a('meta[name="year"]').attr("content");window.location=getGmdsCmsLinks().getCmsPageURL("byo","",o,q,p)});a("body").on(k,"#visualizer_reset",function(o){mrm.util.vehicleConfig.resetConfiguredVehicle();a.eventDispatcher.trigger("reset_application")})},itemScroller:function(d){var b=this;var e=d.find(".viz_data_holder").children("div.list_wrap");e.addClass("mmScroll");var c;c=a.extend(true,{},b.modCfg.scrollerSettings,{width:980,scroll:2000,auto:false,hiddenItemOverride:true,items:{visible:"variable",},align:b.modCfg.scrollerSettings.itemScrollerAlign,infinite:false,circular:false,pagination:false,animateControls:{fx:"none"},responsive:false});e.mmScroll(c)},extraCostTooltip:function(d){var c=this;var b=d.find(".list_wrap div ul li a.tips");a.each(b,function(f,e){if(a(this).data("cost")!=undefined){e=parseFloat(a(this).data("cost"));if(e>0){e=c.formatPrice(d,e);var g=a(this).attr("title");a(this).attr("title",function(h,j){if(mrm.util.locale.getLang()==="fr"){return j+" (cot supplmentaire - "+e+")"}else{return j+" (extra cost - "+e+")"}})}}})},colorCluTip:function(d){var c=this,f=a("div.list_wrap ul > li > a.tips",d),g,e=a.extend({},mrm.conf.plugin.cluetip||{},c.modCfg.colorClueTipSettings);var b=(mrm.util.touchDevice())?"touchstart":"mouseover";f.on(b,function(h){clearTimeout(g);g=setTimeout(function(){a("#cluetip").fadeOut(1000)},4500)});f.cluetipWrap(e)},detailsClue:function(f){var c=this;var e;var g;var b=f.find(".list_wrap.trims a.details");a.each(b,function(j,h){var l=a(this).parent().siblings("a.main").data("info");a(this).attr("data-info","|"+l);g=(a(this).data("info").match("<li>"))?"details":"noList"});var d=a.extend({},mrm.conf.plugin.cluetip||{},{sticky:true,cluetipClass:g,titleAttribute:"data-info",activation:"click",showTitle:false,maxWidth:400,onShow:function(){a(this).trigger("onDetailClick")}});b.cluetipWrap(d)},conflictClueTip:function(d){var c=this;var b=a.extend({},mrm.conf.plugin.cluetip||{},{sticky:true,titleAttribute:"cluetip-data",activation:"click",showTitle:false,onShow:function(e){a("#visualizer_revert_cookie").on("click",function(f){c.revertVehicle(d)});a("#visualizer_keep_cookie").on("click",function(f){a(".cluetipDetails").fadeOut()});a(".visualizer_conflict_info").html(c.resultDetails);return true}});a(".cluetip_visualizer").cluetipWrap(b)},rebuildClueTip:function(c){var b=this;var d=a.extend({},mrm.conf.plugin.cluetip||{},b.modCfg.colorClueTipSettings,{sticky:true,titleAttribute:"cluetip-data",activation:"click",showTitle:false,prepareTitleAttr:false});a(".cluetip_visualizer_rebuild_link").cluetipWrap(d)},vizItemChange:function(f,m,d){var o=this;var e=f.find("div.viz_data_holder");var n=e.children(".list_wrap");var j=f.find(".int_ext_toggle");var g=a(".visualizer-masthead-caption");var k=a("#mastheadShadow");var c=f.find(".mm_visualizer_item_1");if(m.hasClass("active")){e.slideToggle("fast");g.animate({bottom:"37px"},"fast");m.removeClass("active");return}c.removeClass("active");m.addClass("active");var b=m.data("item");var l=e.children(".list_wrap[data-list='"+b+"']");e.slideUp("fast",function(){a(this).children(".list_wrap").removeClass("activeList");a(this).children(".list_wrap[data-list='"+b+"']").addClass("activeList");a(this).slideDown("fast");g.animate({bottom:"104px"},"fast")});var h=o.getCategoryByDatalist(f,b);if(f.find(".viz_scroller").hasClass("interior")){if(a(".viz_scroller.interior").is(":visible")){if((h==="colors"||h==="wheels")&&d){o.toggleViews(f,j)}}else{if(!j.children("img").first().hasClass("hide_toggle")){if(h==="interiors"&&d&&a(".viz_scroller.exterior").is(":visible")){o.toggleViews(f,j)}}}}},getCategoryByDatalist:function(e,f){var b=this;var d=["bodyStyles","trims","colors","wheels","interiors"];for(var c=0;c<d.length;c++){if(e.find("."+d[c]).attr("data-list")===f){return d[c]}}},revertVehicle:function(c){var b=this;a.each(b.vehicleInfo,function(e,d){if(e.match("prev-")){e=e.replace("prev-","");b.vehicleInfo["change-"+e]=b.vehicleInfo["prev-"+e];b.vehicleInfo["current-"+e]=b.vehicleInfo["prev-"+e];b.vehicleInfo["prev-"+e]=b.vehicleInfo["result-"+e]}});b.vehicleInfo["result-conflict"]=false;b.vehicleInfo["result-details"]=[];b.setupTrims(c);b.setupMMC(c);b.setActiveItems(c);b.updateImages(c);b.updateVehicleCaption(c);a(".cluetipDetails").fadeOut()},triggerTopToggleHide:function(b){if(b.find("[config-code].activeItem").attr("config-code")==="coupe"){b.find(".topToggleBtn").addClass("hideTop")}else{if(b.find(".viz_scroller.activeView").hasClass("interior")&&b.find(".topToggleBtn").hasClass("onlyExt")){b.find(".topToggleBtn").addClass("hideTop")}else{if(b.find(".viz_scroller.activeView").hasClass("exterior")&&b.find(".topToggleBtn").hasClass("onlyInt")){b.find(".topToggleBtn").addClass("hideTop")}else{b.find(".topToggleBtn").removeClass("hideTop")}}}},imageToggleResize:function(f,e,h){var c=this;e++;var b=true;var d=f.find("img.mm");d.each(function(){if(!this.complete){b=false}});if(b||e>=20){var g=f.find(".int_ext_toggle");c.toggleViews(f,g);if(h[0]=="0"){h=h[1]}if(a(".activeView .mmScrollPagination li a")[h]){a(".activeView .mmScrollPagination li a")[h].click()}}else{window.setTimeout(function(){c.imageToggleResize(f,e,h)},200)}},forceToggleResize:function(f,e){var c=this;e++;var b=true;var d=f.find("img.mm");d.each(function(){if(!this.complete){b=false}});if(b||e>=20){if(mrm.cmp.masthead_resize){a.eventDispatcher.trigger("force_resize")}}else{window.setTimeout(function(){c.forceToggleResize(f,e)},200)}},toggleViews:function(d,g){var b=this;var f=d.find(".int_ext_toggle");var h=d.find(".viz_scroller");b.forceToggleResize(d,0);d.find(".viz_scroller").toggleClass("activeView");if(d.find(".topToggleBtn").length&&(d.find(".topToggleBtn").hasClass("onlyInt")||d.find(".topToggleBtn").hasClass("onlyExt"))){b.triggerTopToggleHide(d)}if(g.hasClass("btnToggle")){f.children().toggleClass("activeToggle")}else{f.children().toggleClass("hide_toggle")}var e,c;c=b.getCategoryByDatalist(d,a(".mm_visualizer_item_1.active").data("item"));if(a(".viz_scroller.exterior").is(":visible")){if(c==="interiors"){e=d.find(".trims").attr("data-list");if(!e){e=d.find(".colors").attr("data-list")}b.vizItemChange(d,a(".mm_visualizer_item_1[data-item='"+e+"']"),false)}}else{if(c!=="interiors"){e=d.find(".interiors").attr("data-list");b.vizItemChange(d,a(".mm_visualizer_item_1[data-item='"+e+"']"),false)}}b.forceToggleResize(d,0);a.eventDispatcher.trigger("mh_scroller_image_change",{duration:0,dispatcher:d})},swatchItemClicks:function(e,f){var p=this;var k=f.data("id").toString();if(!f.hasClass("activeItem")){a(".cluetipDetails").fadeOut();p.resultDetails="";p.vehicleInfo["priority-peg"]="";p.clearResults(e);p.vehicleInfo["prev-mmc"]=p.vehicleInfo["current-mmc"];p.vehicleInfo["prev-peg"]=p.vehicleInfo["current-peg"];p.vehicleInfo["prev-intColor"]=p.vehicleInfo["current-intColor"];p.vehicleInfo["prev-extColor"]=p.vehicleInfo["current-extColor"];p.vehicleInfo["prev-wheel"]=p.vehicleInfo["current-wheel"];p.vehicleInfo["prev-options"]=p.vehicleInfo["current-options"];p.vehicleInfo["prev-cabStyle"]=p.vehicleInfo["current-cabStyle"];p.vehicleInfo["prev-boxStyle"]=p.vehicleInfo["current-boxStyle"];if(p.ctgLastClicked==="peg"){p.vehicleInfo["change-mmc"]=a("#"+k).parent("li").data("mmc");p.vehicleInfo["change-peg"]=k.split("_").pop()}else{if(p.ctgLastClicked==="mmc"&&f.parent("li[data-peg]").length){p.vehicleInfo["change-"+p.ctgLastClicked]=k;p.vehicleInfo["change-peg"]=f.parent("li").attr("data-peg");p.vehicleInfo["priority-peg"]=p.vehicleInfo["change-peg"]}else{p.vehicleInfo["change-"+p.ctgLastClicked]=k;if(typeof f.attr("data-group")!=="undefined"&&f.attr("data-group").length){p.vehicleInfo["change-peg"]=f.attr("data-group");p.vehicleInfo["priority-peg"]=f.attr("data-group")}}}if(p.ctgLastClicked==="mmc"){for(var g=0;g<mmcPegConfigData.length;g++){var m=mmcPegConfigData[g].split("|");var o=m[0];var l=m[1];var b=m[2];var j=b.split("_");if(p.vehicleInfo["change-mmc"]===j[0]){p.vehicleInfo["change-cabStyle"]=o;p.vehicleInfo["change-boxStyle"]=l;break}}}else{if(p.ctgLastClicked==="peg"){for(var g=0;g<mmcPegConfigData.length;g++){var m=mmcPegConfigData[g].split("|");var o=m[0];var l=m[1];var b=m[2];var j=b.split("_");if(p.vehicleInfo["change-mmc"]===j[0]&&p.vehicleInfo["change-peg"]===j[1]){p.vehicleInfo["change-cabStyle"]=o;p.vehicleInfo["change-boxStyle"]=l;break}}}}p.vehicleInfo.changeType=p.ctgLastClicked;p.vehicleInfo=p.validate_data(p.vehicleInfo);var n;a.each(p.vehicleInfo,function(q,d){if(q.match("current-")){q=q.replace("current-","");if(q!=p.ctgLastClicked&&d!=p.vehicleInfo["result-"+q]){n=a("#"+p.vehicleInfo["result-mmc"]).parent("li").attr("config-code");if(q==="peg"){p.vehicleInfo["result-details"].push(p.vehicleInfo["current-mmc"]+"_"+d)}else{if(q==="mmc"&&a("#"+d).parent("li").attr("config-code")&&a("#"+d).parent("li").attr("config-code")!==n){p.vehicleInfo["result-details"].push(d)}else{if(q==="intColor"||q==="extColor"||q==="wheel"){p.vehicleInfo["result-details"].push(d)}}}}}});if(p.vehicleInfo["result-conflict"]&&p.vehicleInfo["result-details"].length>0){var c=p.vehicleInfo["result-details"];var h=false;a.each(c,function(q,d){if(a("#"+d).length){h=true;var r=a("#"+d).parents(".list_wrap").data("list");var s=a(".mm_visualizer_item_1[data-item='"+r+"'] li").text();var u=a("#"+d).attr("title");u=(u!==undefined&&u!==false)?u.replace("|",""):a("#"+d).text();if(r!==undefined){p.resultDetails+=s+": "+u+"<br />"}}});if(h===true){a(".cluetipDetails").fadeIn()}}p.changeCurrentVehicle(e);p.setBYOlink(e);p.setupTrims(e);p.setupMMC(e);p.updateImages(e);p.updateVehicleCaption(e);p.setActiveItems(e)}},changeCurrentVehicle:function(c){var b=this;b.vehicleInfo["current-mmc"]=b.vehicleInfo["result-mmc"];b.vehicleInfo["current-peg"]=b.vehicleInfo["result-peg"];b.vehicleInfo["current-intColor"]=b.vehicleInfo["result-intColor"];b.vehicleInfo["current-extColor"]=b.vehicleInfo["result-extColor"];b.vehicleInfo["current-wheel"]=b.vehicleInfo["result-wheel"];b.vehicleInfo["current-options"]=b.vehicleInfo["result-options"];b.vehicleInfo["current-cabStyle"]=b.vehicleInfo["result-cabStyle"];b.vehicleInfo["current-boxStyle"]=b.vehicleInfo["result-boxStyle"];b.vehicleInfo["change-mmc"]=b.vehicleInfo["result-mmc"];b.vehicleInfo["change-peg"]=b.vehicleInfo["result-peg"];b.vehicleInfo["change-intColor"]=b.vehicleInfo["result-intColor"];b.vehicleInfo["change-extColor"]=b.vehicleInfo["result-extColor"];b.vehicleInfo["change-wheel"]=b.vehicleInfo["result-wheel"];b.vehicleInfo["change-options"]=b.vehicleInfo["result-options"];b.vehicleInfo["change-cabStyle"]=b.vehicleInfo["result-cabStyle"];b.vehicleInfo["change-boxStyle"]=b.vehicleInfo["result-boxStyle"]},updateImages:function(c){var b=this;b.saveConfigOnce=true;a.each(c.find(".mmScroll .caroufredsel_wrapper ul li img.mm"),function(){b.updateThisImage(c,a(this))});a.each(c.find(".int_ext_toggle.cgiToggle img"),function(){b.updateThisImage(c,a(this))})},updateThisImage:function(d,k){var m=this;var e=k.attr("src");var n=e.split("?");var c=n[1];var j=c.split("/");j[1]=j[1].replace(m.vehicleInfo["prev-mmc"],m.vehicleInfo["current-mmc"]);j[2]=j[2].replace(m.vehicleInfo["prev-mmc"],m.vehicleInfo["current-mmc"]);j[2]=j[2].replace(m.vehicleInfo["prev-peg"],m.vehicleInfo["current-peg"]);j[3]=j[3].replace(m.vehicleInfo["prev-extColor"],m.vehicleInfo["current-extColor"]);j[3]=j[3].replace(m.vehicleInfo["prev-intColor"],m.vehicleInfo["current-intColor"]);j[3]=j[3].replace(m.vehicleInfo["prev-wheel"],m.vehicleInfo["current-wheel"]);if(m.vehicleInfo["prev-options"]!=undefined&&m.vehicleInfo["prev-options"].length>0){a.each(m.vehicleInfo["prev-options"],function(o,p){j[3]=j[3].replace("_"+p,"")})}if(m.vehicleInfo["current-options"]!=undefined&&m.vehicleInfo["current-options"].length>0){var l=j[3].lastIndexOf("_")+4,h=j[3].substr(l),b=j[3].substr(0,l);a.each(m.vehicleInfo["current-options"],function(o,p){if(j[3].indexOf(p)<0){b+="_"+p}});j[3]=b.toString()+h.toString()}if(m.vehicleConfig.enabled&&m.saveConfigOnce&&(m.mode=="standard"||m.mode=="active")){if(!mrm.util.vehicleConfig.isConfigured()){var g={mmc:m.vehicleInfo["current-mmc"],peg:m.vehicleInfo["current-peg"],color:m.vehicleInfo["current-extColor"],intColor:m.vehicleInfo["current-intColor"],cabStyle:m.vehicleInfo["current-cabStyle"],boxStyle:m.vehicleInfo["current-boxStyle"],wheels:m.vehicleInfo["current-wheel"]};mrm.util.vehicleConfig.setPreferrences(g)}m.saveConfigOnce=false}e=n[0]+"?";for(var f=0;f<j.length;f++){e+=j[f]+"/"}e=e.slice(0,-1);k.attr("src",e)},validate_advanced_conflict:function(f){var h=f["change-mmc"];var o=f["change-peg"];var k=f["change-intColor"];var m=f["change-extColor"];var b=f["change-wheel"];var l=f["change-cabStyle"];var g=f["change-boxStyle"];var q=h+"_"+o+"_???_"+k+"_"+b;var p=h+"_"+o+"_"+m+"_???_"+b;var n=h+"_"+o+"_"+m+"_"+k+"_???";var r="";var e=advancedConflictData.indexOf(q);if(e>0){r=advancedValidData[e];f["result-details"].push(f["current-extColor"])}var d=advancedConflictData.indexOf(p);if(d>0){r=advancedValidData[d];f["result-details"].push(f["current-intColor"])}var c=advancedConflictData.indexOf(n);if(c>0){r=advancedValidData[c];f["result-details"].push(f["current-wheel"])}var j=e+d+c;if(j>-3){f["result-conflict"]=true;var s=r.split("_");if(s.length>0){if(s[0]!=""&&s[0]!="???"){f["change-mmc"]=s[0]}if(s[1]!=""&&s[1]!="???"){f["change-peg"]=s[1]}if(s[2]!=""&&s[2]!="???"){f["change-extColor"]=s[2]}if(s[3]!=""&&s[3]!="???"){f["change-intColor"]=s[3]}if(s[4]!=""&&s[4]!="???"){f["change-wheel"]=s[4]}return f}}return f},validate_data:function(b){var j,g,c,f,h;var l=this,k=b.changeType;b["lookup-complete"]=false;b["result-details"]=[];if(l.validate_config_all(b)){b["result-cabStyle"]=b["change-cabStyle"];b["result-boxStyle"]=b["change-boxStyle"];b["result-mmc"]=b["change-mmc"];b["result-peg"]=b["change-peg"];b["result-intColor"]=b["change-intColor"];b["result-extColor"]=b["change-extColor"];b["result-wheel"]=b["change-wheel"];b["result-options"]=[];b["result-conflict"]=false;return b}else{b["result-conflict"]=true;switch(k){case"extColor":b=l.configEIW(b,vehicleExtConfigData,vehicleIntConfigData,"intColor",vehicleWheConfigData,"wheel");break;case"intColor":b=l.configEIW(b,vehicleIntConfigData,vehicleExtConfigData,"extColor",vehicleWheConfigData,"wheel");break;case"wheel":b=l.configEIW(b,vehicleWheConfigData,vehicleExtConfigData,"extColor",vehicleIntConfigData,"intColor");break;case"peg":f=a(".trims a.activeItem[config-code]").attr("config-code")||"";if(!f.length>0){f=""}h=b["change-cabStyle"]+"|"+b["change-boxStyle"]+"|"+b["change-mmc"]+"_"+b["change-peg"];if(mmcPegConfigData.indexOf(h)>=0){b=l.updateInfo(b,b["change-cabStyle"],b["change-boxStyle"],b["change-mmc"],b["change-peg"],"");b["result-options"]=[];b=l.validateEIW(b,vehicleExtConfigData,"extColor");b=l.validateEIW(b,vehicleIntConfigData,"intColor");b=l.validateEIW(b,vehicleWheConfigData,"wheel")}if(a(".trims li[data-mmc]").length>0){if(b["lookup-complete"]===false){for(var e=0;e<mmcPegConfigData.length;e++){c=l.objTemp.updateConfigData(mmcPegConfigData[e]);h=b["change-cabStyle"]+"|"+c.newBox+"|"+b["change-mmc"]+"_"+b["change-peg"];if(f===c.configCode&&mmcPegConfigData.indexOf(h)>=0){b=l.updateInfo(b,b["change-cabStyle"],c.newBox,b["change-mmc"],b["change-peg"],"");b=l.validateEIW(b,vehicleExtConfigData,"extColor");b=l.validateEIW(b,vehicleIntConfigData,"intColor");b=l.validateEIW(b,vehicleWheConfigData,"wheel");break}}}if(b["lookup-complete"]===false){for(var e=0;e<mmcPegConfigData.length;e++){c=l.objTemp.updateConfigData(mmcPegConfigData[e]);if(f===c.configCode&&b["change-mmc"]===c.newMMC&&b["change-peg"]===c.newPeg){b=l.updateInfo(b,c.newCab,c.newBox,c.newMMC,b["change-peg"],"");b=l.validateEIW(b,vehicleExtConfigData,"extColor");b=l.validateEIW(b,vehicleIntConfigData,"intColor");b=l.validateEIW(b,vehicleWheConfigData,"wheel");break}}}if(b["lookup-complete"]===false){for(var e=0;e<mmcPegConfigData.length;e++){c=l.objTemp.updateConfigData(mmcPegConfigData[e]);if(b["change-mmc"]===c.newMMC&&b["change-peg"]===c.newPeg){b=l.updateInfo(b,c.newCab,c.newBox,c.newMMC,b["change-peg"],"");b=l.validateEIW(b,vehicleExtConfigData,"extColor");b=l.validateEIW(b,vehicleIntConfigData,"intColor");b=l.validateEIW(b,vehicleWheConfigData,"wheel");break}}}}else{if(b["lookup-complete"]===false){for(var e=0;e<mmcPegConfigData.length;e++){c=l.objTemp.updateConfigData(mmcPegConfigData[e]);if(f===c.configCode&&b["change-cabStyle"]===c.newCab&&b["change-boxStyle"]===c.newBox&&b["change-peg"]===c.newPeg){b=l.updateInfo(b,c.newCab,c.newBox,c.newMMC,b["change-peg"],"");b=l.validateEIW(b,vehicleExtConfigData,"extColor");b=l.validateEIW(b,vehicleIntConfigData,"intColor");b=l.validateEIW(b,vehicleWheConfigData,"wheel");break}}}if(b["lookup-complete"]===false){for(var e=0;e<mmcPegConfigData.length;e++){c=l.objTemp.updateConfigData(mmcPegConfigData[e]);if(f===c.configCode&&b["change-cabStyle"]===c.newCab&&b["change-peg"]===c.newPeg){b=l.updateInfo(b,c.newCab,c.newBox,c.newMMC,b["change-peg"],"");b=l.validateEIW(b,vehicleExtConfigData,"extColor");b=l.validateEIW(b,vehicleIntConfigData,"intColor");b=l.validateEIW(b,vehicleWheConfigData,"wheel");break}}}if(b["lookup-complete"]===false){for(var e=0;e<mmcPegConfigData.length;e++){c=l.objTemp.updateConfigData(mmcPegConfigData[e]);if(f===c.configCode&&b["change-peg"]===c.newPeg){b=l.updateInfo(b,c.newCab,c.newBox,c.newMMC,b["change-peg"],"");b=l.validateEIW(b,vehicleExtConfigData,"extColor");b=l.validateEIW(b,vehicleIntConfigData,"intColor");b=l.validateEIW(b,vehicleWheConfigData,"wheel");break}}}}if(b["lookup-complete"]===false){for(var e=0;e<mmcPegConfigData.length;e++){c=l.objTemp.updateConfigData(mmcPegConfigData[e]);if(b["change-peg"]===c.newPeg){b=l.updateInfo(b,c.newCab,c.newBox,c.newMMC,b["change-peg"],"");b=l.validateEIW(b,vehicleExtConfigData,"extColor");b=l.validateEIW(b,vehicleIntConfigData,"intColor");b=l.validateEIW(b,vehicleWheConfigData,"wheel");break}}}break;case"mmc":f=a(".bodyStyles a[data-id='"+b["change-mmc"]+"']").parent("li[config-code]").attr("config-code")||"";if(!f.length>0){f=""}if(b["priority-peg"].length>0){h=b["change-cabStyle"]+"|"+b["change-boxStyle"]+"|"+b["change-mmc"]+"_"+b["change-peg"];if(mmcPegConfigData.indexOf(h)>=0){b=l.updateInfo(b,b["change-cabStyle"],b["change-boxStyle"],b["change-mmc"],b["change-peg"],"");b["result-options"]=[];b=l.validateEIW(b,vehicleExtConfigData,"extColor");b=l.validateEIW(b,vehicleIntConfigData,"intColor");b=l.validateEIW(b,vehicleWheConfigData,"wheel")}else{for(var e=0;e<mmcPegConfigData.length;e++){c=l.objTemp.updateConfigData(mmcPegConfigData[e]);h=b["change-cabStyle"]+"|"+c.newBox+"|"+b["change-mmc"]+"_"+b["change-peg"];if(f===c.configCode&&mmcPegConfigData.indexOf(h)>=0){b=l.updateInfo(b,b["change-cabStyle"],c.newBox,b["change-mmc"],b["change-peg"],"");b=l.validateEIW(b,vehicleExtConfigData,"extColor");b=l.validateEIW(b,vehicleIntConfigData,"intColor");b=l.validateEIW(b,vehicleWheConfigData,"wheel");break}}}if(b["lookup-complete"]===false){for(var e=0;e<mmcPegConfigData.length;e++){c=l.objTemp.updateConfigData(mmcPegConfigData[e]);h=c.newCab+"|"+c.newBox+"|"+b["change-mmc"]+"_"+b["change-peg"];if(c.configCode===f&&mmcPegConfigData.indexOf(h)>=0){b=l.updateInfo(b,c.newCab,c.newBox,b["change-mmc"],b["change-peg"],"");b=l.validateEIW(b,vehicleExtConfigData,"extColor");b=l.validateEIW(b,vehicleIntConfigData,"intColor");b=l.validateEIW(b,vehicleWheConfigData,"wheel");break}}}if(b["lookup-complete"]===false){for(var e=0;e<mmcPegConfigData.length;e++){c=l.objTemp.updateConfigData(mmcPegConfigData[e]);if(b["change-mmc"]===c.newMMC&&b["change-peg"]===c.newPeg){b=l.updateInfo(b,c.newCab,c.newBox,c.newMMC,c.newPeg,"");b=l.validateEIW(b,vehicleExtConfigData,"extColor");b=l.validateEIW(b,vehicleIntConfigData,"intColor");b=l.validateEIW(b,vehicleWheConfigData,"wheel");break}}}}else{h=b["change-cabStyle"]+"|"+b["change-boxStyle"]+"|"+b["change-mmc"]+"_"+b["change-peg"];if(mmcPegConfigData.indexOf(h)>=0){b=l.updateInfo(b,b["change-cabStyle"],b["change-boxStyle"],b["change-mmc"],b["change-peg"],"");b["result-options"]=[];b=l.validateEIW(b,vehicleExtConfigData,"extColor");b=l.validateEIW(b,vehicleIntConfigData,"intColor");b=l.validateEIW(b,vehicleWheConfigData,"wheel")}else{for(var e=0;e<mmcPegConfigData.length;e++){c=l.objTemp.updateConfigData(mmcPegConfigData[e]);h=b["change-cabStyle"]+"|"+b["change-boxStyle"]+"|"+b["change-mmc"]+"_"+c.newPeg;if(c.configCode===f&&mmcPegConfigData.indexOf(h)>=0){b=l.updateInfo(b,b["change-cabStyle"],c.newBox,b["change-mmc"],c.newPeg,"");b=l.validateEIW(b,vehicleExtConfigData,"extColor");b=l.validateEIW(b,vehicleIntConfigData,"intColor");b=l.validateEIW(b,vehicleWheConfigData,"wheel");break}}}if(b["lookup-complete"]===false){for(var e=0;e<mmcPegConfigData.length;e++){c=l.objTemp.updateConfigData(mmcPegConfigData[e]);h=b["change-cabStyle"]+"|"+c.newBox+"|"+b["change-mmc"]+"_"+c.newPeg;if(c.configCode===f&&mmcPegConfigData.indexOf(h)>=0){b=l.updateInfo(b,c.newCab,c.newBox,b["change-mmc"],c.newPeg,"");b=l.validateEIW(b,vehicleExtConfigData,"extColor");b=l.validateEIW(b,vehicleIntConfigData,"intColor");b=l.validateEIW(b,vehicleWheConfigData,"wheel");break}}}if(b["lookup-complete"]===false){for(var e=0;e<mmcPegConfigData.length;e++){c=l.objTemp.updateConfigData(mmcPegConfigData[e]);if(c.configCode===f&&b["change-mmc"]===c.newMMC){b=l.updateInfo(b,c.newCab,c.newBox,c.newMMC,c.newPeg,"");b=l.validateEIW(b,vehicleExtConfigData,"extColor");b=l.validateEIW(b,vehicleIntConfigData,"intColor");b=l.validateEIW(b,vehicleWheConfigData,"wheel");break}}}}if(b["lookup-complete"]===false){for(var e=0;e<mmcPegConfigData.length;e++){c=l.objTemp.updateConfigData(mmcPegConfigData[e]);if(b["change-mmc"]===c.newMMC){b=l.updateInfo(b,c.newCab,c.newBox,c.newMMC,c.newPeg,"");b=l.validateEIW(b,vehicleExtConfigData,"extColor");b=l.validateEIW(b,vehicleIntConfigData,"intColor");b=l.validateEIW(b,vehicleWheConfigData,"wheel");break}}}break;default:return b}}return b},objTemp:{configData:[],newCab:"",newBox:"",newMMC:"",newPeg:"",iRPO:"",configCode:"",updateConfigData:function(b){this.configData=b.split("|");var c=this.configData[2];var e=c.split("_");this.newCab=this.configData[0];this.newBox=this.configData[1];this.newMMC=e[0];this.newPeg=e[1];if(e.length>1){this.iRPO=e[2]}this.configCode=a(".bodyStyles li[data-mmc='"+this.newMMC+"']").attr("config-code")||"";if(!this.configCode.length>0){this.configCode=""}return this}},configEIW:function(c,k,j,b,f,d){var m=this;var l=c.changeType;var n=c["change-"+l].toString();var h,e;h=a(".trims a.activeItem[config-code]").attr("config-code")||"";if(!h.length>0){h=""}if(k.indexOf(c["change-cabStyle"]+"|"+c["change-boxStyle"]+"|"+c["change-mmc"]+"_"+c["change-peg"]+"_"+n)>=0){c["result-options"]=[];c=m.updateInfo(c,c["change-cabStyle"],c["change-boxStyle"],c["change-mmc"],c["change-peg"],n);c=m.validateEIW(c,j,b);c=m.validateEIW(c,f,d)}else{if(c["priority-peg"].length>0){for(var g=0;g<k.length;g++){e=m.objTemp.updateConfigData(k[g]);if(h===e.configCode&&c["change-cabStyle"]===e.newCab&&c["change-boxStyle"]===e.newBox&&c["change-mmc"]===e.newMMC&&c["priority-peg"]===e.newPeg&&n===e.iRPO){c=m.updateInfo(c,e.newCab,e.newBox,e.newMMC,e.newPeg,n);c=m.validateEIW(c,j,b);c=m.validateEIW(c,f,d);break}}if(c["lookup-complete"]===false){for(var g=0;g<k.length;g++){e=m.objTemp.updateConfigData(k[g]);if(h===e.configCode&&c["change-cabStyle"]===e.newCab&&c["change-boxStyle"]===e.newBox&&c["priority-peg"]===e.newPeg&&n===e.iRPO){c=m.updateInfo(c,e.newCab,e.newBox,e.newMMC,e.newPeg,n);c=m.validateEIW(c,j,b);c=m.validateEIW(c,f,d);break}}}if(c["lookup-complete"]===false){for(var g=0;g<k.length;g++){e=m.objTemp.updateConfigData(k[g]);if(h===e.configCode&&c["change-cabStyle"]===e.newCab&&e.newPeg===c["priority-peg"]&&n===e.iRPO){c=m.updateInfo(c,e.newCab,e.newBox,e.newMMC,e.newPeg,n);c=m.validateEIW(c,j,b);c=m.validateEIW(c,f,d);break}}}if(c["lookup-complete"]===false){for(var g=0;g<k.length;g++){e=m.objTemp.updateConfigData(k[g]);if(h===e.configCode&&c["priority-peg"]===e.newPeg&&n===e.iRPO){c=m.updateInfo(c,e.newCab,e.newBox,e.newMMC,e.newPeg,n);c=m.validateEIW(c,j,b);c=m.validateEIW(c,f,d);break}}}if(c["lookup-complete"]===false){for(var g=0;g<k.length;g++){e=m.objTemp.updateConfigData(k[g]);if(c["priority-peg"]===e.newPeg&&n===e.iRPO){c=m.updateInfo(c,e.newCab,e.newBox,e.newMMC,e.newPeg,n);c=m.validateEIW(c,j,b);c=m.validateEIW(c,f,d);break}}}}else{for(var g=0;g<k.length;g++){e=m.objTemp.updateConfigData(k[g]);if(h===e.configCode&&c["change-cabStyle"]===e.newCab&&c["change-boxStyle"]===e.newBox&&c["change-mmc"]===e.newMMC&&c["change-peg"]===e.newPeg&&n===e.iRPO){c=m.updateInfo(c,e.newCab,e.newBox,e.newMMC,e.newPeg,n);c=m.validateEIW(c,j,b);c=m.validateEIW(c,f,d);break}}if(c["lookup-complete"]===false){for(var g=0;g<k.length;g++){e=m.objTemp.updateConfigData(k[g]);if(h===e.configCode&&c["change-cabStyle"]===e.newCab&&c["change-boxStyle"]===e.newBox&&c["change-mmc"]===e.newMMC&&n===e.iRPO){c=m.updateInfo(c,e.newCab,e.newBox,e.newMMC,e.newPeg,n);c=m.validateEIW(c,j,b);c=m.validateEIW(c,f,d);break}}}if(c["lookup-complete"]===false){for(var g=0;g<k.length;g++){e=m.objTemp.updateConfigData(k[g]);if(h===e.configCode&&c["change-cabStyle"]===e.newCab&&c["change-box"]===e.newBox&&n===e.iRPO){c=m.updateInfo(c,e.newCab,e.newBox,e.newMMC,e.newPeg,n);c=m.validateEIW(c,j,b);c=m.validateEIW(c,f,d);break}}}if(c["lookup-complete"]===false){for(var g=0;g<k.length;g++){e=m.objTemp.updateConfigData(k[g]);if(h===e.configCode&&c["change-cabStyle"]===e.newCab&&n===e.iRPO){c=m.updateInfo(c,e.newCab,e.newBox,e.newMMC,e.newPeg,n);c=m.validateEIW(c,j,b);c=m.validateEIW(c,f,d);break}}}if(c["lookup-complete"]===false){for(var g=0;g<k.length;g++){e=m.objTemp.updateConfigData(k[g]);if(h===e.configCode&&n===e.iRPO){c=m.updateInfo(c,e.newCab,e.newBox,e.newMMC,e.newPeg,n);c=m.validateEIW(c,j,b);c=m.validateEIW(c,f,d);break}}}}if(c["lookup-complete"]===false){for(var g=0;g<k.length;g++){e=m.objTemp.updateConfigData(k[g]);if(n===e.iRPO){c=m.updateInfo(c,e.newCab,e.newBox,e.newMMC,e.newPeg,n);c=m.validateEIW(c,j,b);c=m.validateEIW(c,f,d);break}}}}return c},updateInfo:function(h,j,g,f,e,d){var c=this;var b=h.changeType;h["result-cabStyle"]=j;h["result-boxStyle"]=g;h["result-mmc"]=f;h["result-peg"]=e;if(d.length>0){h["result-"+b]=d}h["lookup-complete"]=true;return h},configLookup:function(c,k,j,h,b,f,d){var m=this;var l=c.changeType;var e;for(var g=0;g<j.length;g++){e=m.objTemp.updateConfigData(j[g]);if(j[g].indexOf(k)>=0){c=m.updateInfo(c,e.newCab,e.newBox,e.newMMC,e.newPeg,c["change-"+l]);c=m.validateEIW(c,h,b);c=m.validateEIW(c,f,d);break}}return c},validateEIW:function(e,d,c){var b=this;if(e["change-"+c].length>0&&d.indexOf(e["result-cabStyle"]+"|"+e["result-boxStyle"]+"|"+e["result-mmc"]+"_"+e["result-peg"]+"_"+e["change-"+c])>=0){e["result-"+c]=e["change-"+c]}else{e["result-"+c]=b.getDefaultEIW(e,d)}return e},validate_config_all:function(b){if(mmcPegConfigData.indexOf(b["change-cabStyle"]+"|"+b["change-boxStyle"]+"|"+b["change-mmc"]+"_"+b["change-peg"])>=0){if(vehicleExtConfigData.indexOf(b["change-cabStyle"]+"|"+b["change-boxStyle"]+"|"+b["change-mmc"]+"_"+b["change-peg"]+"_"+b["change-extColor"])>=0){if(vehicleIntConfigData.indexOf(b["change-cabStyle"]+"|"+b["change-boxStyle"]+"|"+b["change-mmc"]+"_"+b["change-peg"]+"_"+b["change-intColor"])>=0){if(vehicleWheConfigData.indexOf(b["change-cabStyle"]+"|"+b["change-boxStyle"]+"|"+b["change-mmc"]+"_"+b["change-peg"]+"_"+b["change-wheel"])>=0){return true}}}}return false},getDefaultEIW:function(e,h){for(var f=0;f<h.length;f++){var l=h[f].split("|");var m=l[0];var k=l[1];var b=l[2];var g=b.split("_");var j=g[0];var c=g[1];var n=g[2];if(e["result-cabStyle"]===m&&e["result-boxStyle"]===k){if(e["result-mmc"]===j&&e["result-peg"]===c){return n}}}return -1}}})})(mrm.$);(function(a){a.extend(mrm.cmp.mm_visualizer_1,{canvasTransition:{config:{duration:800,easing:"easeInCubic",angleInDegrees:64,fps:mrm.util.iOS()?40:60},initMod:function(d){var e=0;var f=["ms","moz","webkit","o"];for(var b=0;b<f.length&&!window.requestAnimationFrame;++b){window.requestAnimationFrame=window[f[b]+"RequestAnimationFrame"];window.cancelAnimationFrame=window[f[b]+"CancelAnimationFrame"]||window[f[b]+"CancelRequestAnimationFrame"]}if(!window.requestAnimationFrame){window.requestAnimationFrame=function(l,h){var g=new Date().getTime();var j=Math.max(0,16-(g-e));var k=window.setTimeout(function(){l(g+j)},j);e=g+j;return k}}if(!window.cancelAnimationFrame){window.cancelAnimationFrame=function(g){clearTimeout(g)}}var c=document.createElement("canvas");c.width=d.width();c.height=d.height();d.append(a(c).hide())},slide:function(j,b){mrm.util.log("slide working");var c=j.closest(".mmScroll"),m=j.closest("modMm_visualizer_1"),v=j.find("img.mm")[0],g=b.find("img.mm")[0],f=a(g).width(),o=c.height(),u=c.width(),e=c.children("canvas"),k=j.index(),l=b.index(),q=k<l?"next":"prev",r=parseInt((a(window).width()-a(".modMm_visualizer_1").outerWidth())/2);r=r>0?0:r;var s=r<=-250?-250:r;e.css("z-index",m.data("indexBase"));e[0].width=f;e[0].height=o;var d=Math.round(o/Math.tan(this.config.angleInDegrees/180*Math.PI));var n=[{x:0,y:0},{x:-d,y:o},{x:u,y:o},{x:u+d,y:0}];var p=false;if(a.os.name==="ipad"||typeof v!=="undefined"){if(/\.png$/.test(v.src)){c.find("img.mm").hide();p=true}}var h={img:v,img2:g,x:s,y:parseInt(a(g).css("margin-top")),w:f,h:g.height};this.drawImages({ctx:e[0].getContext("2d"),direction:q,polygon_arr:n,images:h,angleLength:d,transparent:p})},drawImages:function(d){var c=this;cancelAnimationFrame(c.animationId);a(d.ctx.canvas).show();var e=new Date().getTime(),b=e,g=true;(function f(){var j=new Date().getTime(),k=j-e,h=0,n=d.polygon_arr[3].x,m=c.config.duration,l=a.easing[c.config.easing](null,k,h,n,m);d._offset=(d.direction==="next")?l*-1:l;if((j-b)>(1000/c.config.fps)||g){g=false;b=new Date().getTime();c.wipeAnimation(d)}if(k<=m+15){c.animationId=requestAnimationFrame(f)}else{if(!d.transparent){a(d.ctx.canvas).hide(0)}}})()},wipeAnimation:function(g){var f=mrm.cmp.mm_visualizer_1.canvasTransition;var d=g.ctx;var e=g._offset;d.clearRect(0,0,d.canvas.width,d.canvas.height);var c=g.images;if(g.transparent){d.beginPath();if(g.direction==="next"){d.moveTo(parseInt(g.polygon_arr[2].x)+e,parseInt(g.polygon_arr[2].y));d.lineTo(parseInt(g.polygon_arr[3].x)+e,parseInt(g.polygon_arr[3].y));d.lineTo(parseInt(g.polygon_arr[3].x)+c.w,parseInt(g.polygon_arr[3].y));d.lineTo(parseInt(g.polygon_arr[2].x)+c.w,parseInt(g.polygon_arr[2].y))}else{d.moveTo(parseInt(g.polygon_arr[0].x)+e,parseInt(g.polygon_arr[0].y));d.lineTo(parseInt(g.polygon_arr[1].x)+e,parseInt(g.polygon_arr[1].y));d.lineTo(parseInt(g.polygon_arr[1].x)-c.w,parseInt(g.polygon_arr[1].y));d.lineTo(parseInt(g.polygon_arr[0].x)-c.w,parseInt(g.polygon_arr[0].y))}d.closePath();d.save();d.clip();d.drawImage(c.img2,c.x,c.y,c.w,c.h);d.restore()}d.beginPath();for(var h=0;h<(g.polygon_arr.length);h++){var b=parseInt(g.polygon_arr[h].x)+e;var j=parseInt(g.polygon_arr[h].y);if(h===0){d.moveTo(b,j)}else{d.lineTo(b,j)}}d.closePath();if(!mrm.util.iOS()&&!g.transparent){d.shadowColor="rgba(0, 0, 0, .5)";d.shadowBlur=10;d.shadowOffsetX=(g.direction==="next")?10:-10;d.shadowOffsetY=0;d.fillStyle="black";d.fill()}d.save();d.clip();if(a.os.name==="ipad"||typeof c.img!=="undefined"){d.drawImage(c.img,c.x,c.y,c.w,c.h)}d.restore()}}})})(mrm.$);(function(a){mrm.track=mrm.track||{};a.extend(mrm.track,{mm_visualizer_1:{initTrack:function(c,d){var b=this;clickOrTouch=(mrm.util.touchDevice())?"touchstart":"click";c.on(clickOrTouch,".int_ext_toggle.cgiToggle",function(){var e=a.trim(a(this).find(".toggleCaption.hide_toggle").text());mrm.util.trackEvent("click_cta",{section:"masthead",linkname:"toggle:"+e})});c.on(clickOrTouch,".int_ext_toggle.btnToggle",function(){var e=a.trim(a(this).find("p.activeToggle").text());mrm.util.trackEvent("click_cta",{section:"masthead",linkname:"toggle:"+e})});c.on(clickOrTouch,".topToggleBtn p",function(){var e=a.trim(a(this).text());mrm.util.trackEvent("click_cta",{section:"masthead",linkname:"toggle:"+e})});c.on(clickOrTouch,".viz_scroller .prev",function(){var e=a(this).parent().find(".ui-helper-visible img").attr("src");if(e.indexOf(".gen")){e=b.getCGIName(e)}mrm.util.trackEvent("click_cta",{section:"masthead",linkname:"arrow:prev:"+e})});c.on(clickOrTouch,".viz_scroller .next",function(){var e=a(this).parent().find(".ui-helper-visible img").attr("src");if(e.indexOf(".gen")){e=b.getCGIName(e)}mrm.util.trackEvent("click_cta",{section:"masthead",linkname:"arrow:next:"+e})});c.on(clickOrTouch,".viz_scroller .mmScrollPagination li a",function(){var e=c.find(".ui-helper-visible img").attr("src");if(e.indexOf(".gen")){e=b.getCGIName(e)}mrm.util.trackEvent("click_cta",{section:"masthead",linkname:"dots:"+e})});a("#cluetip").on(clickOrTouch,".visualizer_cluetip_rebuild a",function(){var e=a.trim(a(this).text());mrm.util.trackEvent("click_cta",{section:"masthead",linkname:"button:"+e})});c.on(clickOrTouch,".btn_prim",function(){var e=a.trim(a(this).text());mrm.util.trackEvent("click_cta",{section:"masthead",linkname:"button:"+e})});c.on(clickOrTouch,".mm_visualizer_item_1 ul li",function(){var e=a(this).text();mrm.util.trackEvent("click_cta",{section:"masthead",linkname:"visualizer:cateogry:"+e})});c.on(clickOrTouch,".viz_data_holder .trims .main",function(){var e=a(this).attr("id");mrm.util.trackEvent("click_cta",{section:"masthead",linkname:"visualizer:trim:"+e})});c.on("onDetailClick",".list_wrap.trims a.details",function(){var e=a(this).closest("li").find("a.main").attr("id");mrm.util.trackEvent("click_cta",{section:"masthead",linkname:"visualizer:trim:"+e+":detail"})});c.on("onZoomClick",function(){mrm.util.trackEvent("click_cta",{section:"masthead",linkname:"zoom"})});c.on("onZoomClose",function(){mrm.util.trackEvent("click_cta",{section:"masthead",linkname:"zoom:close"})});c.on(clickOrTouch,".viz_data_holder .colors a ",function(){var e=a("#cluetip-inner").text();mrm.util.trackEvent("click_cta",{section:"masthead",linkname:"visualizer:color:exterior:"+e})});c.on(clickOrTouch,".viz_data_holder .wheels a",function(){var e=a(this).attr("id");mrm.util.trackEvent("click_cta",{section:"masthead",linkname:"visualizer:wheels:"+e})});c.on(clickOrTouch,".viz_data_holder .interiors a",function(){var e=a("#cluetip-inner").text();mrm.util.trackEvent("click_cta",{section:"masthead",linkname:"visualizer:color:interior:"+e})});c.on(clickOrTouch,".viz_data_holder .bodyStyles .tips",function(){var e=a("#cluetip-inner").text();mrm.util.trackEvent("click_cta",{section:"masthead",linkname:"visualizer:body:"+e})})},getCGIName:function(b){var d=mrm.util.getUrlParam("i",b.substr(b.indexOf("?"))),c=mrm.util.getUrlParam("v",b.substr(b.indexOf("?")));return d.substr(d.lastIndexOf("/")+1)+c}}})}(mrm.$));(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{nav_anchor_1:{initMod:function(e){if(!e.is(".two-column.ui_layout_vertical")){return}var d=a("> ul",e);var f=a("> li",d);var c=-~(f.length/2);var b=f.filter(function(g){return g>=c});d.after(a("<ul />").append(b))}}})}(mrm.$));(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{nav_anchor_1:{tpl:["06"],init:function(b){mrm.util.log("[mrm.cmp.nav_anchor_1] Context: "+b);if(a("html").hasClass("firefox")){a("div.modNav_anchor_1.ui_layout_horizontal_enhanced li").css("margin-top","8px")}if(a("div.modNav_anchor_1.ui_layout_horizontal_enhanced").length){this.sticky_init("div.modNav_anchor_1.ui_layout_horizontal_enhanced",null,null,1500,"easeOutExpo")}},checkScrollPosition_yOffset:null,sticky_init:function(z,s,k,l,g){var r=this;var D=a(z).parent(),c=a(s).outerHeight(),E=D.outerHeight(),m=(D.offset().top+a(".mds-area-header").outerHeight(true)),C=new Array(),F=new Array(),o=new Array(),A=false,e=1,w="",j=document.title,E=0,q=(document.all&&!window.opera&&window.XMLHttpRequest)?true:false;D.addClass("ui_layout_horizontal_enhanced");if(a(".mds-area-header").hasClass("enhanced_navigation")){var v=a(".modNav_sec").outerHeight(false),h=parseInt(a(".modNav_sec").css("border-bottom-width").replace("px","")),b=parseInt(D.css("margin-top").replace("px","")),p=parseInt(a(".modNav_sec").css("border-top-width").replace("px",""));r.checkScrollPosition_yOffset=v-h-b-p}else{r.checkScrollPosition_yOffset=a(".mds-area-header").outerHeight(true)-D.css("margin-top").replace("px","")}var f=true;a(z+" a").each(function(G){C.push(a(this));F.push(a(this).attr("href").replace("#",""))});a(F).each(function(G){o.push(a(".mds-cmp-content20[id='"+this+"']"))});a(window).scroll(function(){n()});a(window).bind("touchmove",function(G){n()});a(document).onscroll=function(){n()};a(document).onhashchange=function(G){a(window).on("hashchange",u)};function d(){a(F).each(function(G){a('.mds-area-content a[href="#'+this+'"]').bind("click",function(H){H.preventDefault();B(this)})})}function B(H){f=false;var L=a(H).attr("href");var I=a(H).attr("href");var K=parseInt(a(".modNav_anchor_1").parent().outerHeight(true));if(a(".mds-area-header").hasClass("enhanced_navigation")){var M=parseInt(a(".modNav_sec").outerHeight(true));E=0-(K+M)}else{E=-83;var G=a(".mds-area-header").outerHeight();E=0-(K+G)}var J=(a(I).offset().top)+E;if(mrm.util.iPad()){jQuery.fx.interval=26}a("html, body").stop().animate({scrollTop:J},l,g,function(){if(mrm.util.iPad()){D.removeClass("fixed").next()}f=true})}function n(){var G=a(window).scrollTop();var M=r.checkScrollPosition_yOffset;var L=D.css("margin-top");var K=D.outerHeight(true);if((G+M+(K/2))>m){D.addClass("fixed").css("top",M+"px");D.parent().css("margin-bottom",K+"px");a(".modNav_anchor_1 .backToTop").show()}else{D.removeClass("fixed").css("top","0px");D.parent().css("margin-bottom","0px");a(".modNav_anchor_1 .backToTop").hide()}if(f){for(var J=0;J<C.length;J++){if(o[J].offset()!==null){var I=o[J].offset().top+(E-5);var H=(I+o[J].height());if(G<H&&G>I){a(C[J]).addClass("active")}else{a(C[J]).removeClass("active")}}}}if(e===2){u();e++}}function u(){setTimeout(function(){var I=window.location.hash;for(var H=0;H<C.length;H++){var G=C[H];var J=G.attr("href");if(I===J){var K=(mrm.$(J).offset().top)-(E-2);a("html, body").stop().animate({scrollTop:K},l,g,function(){if(mrm.util.iPad()){D.removeClass("fixed").next().css("padding-top","1px")}});return}}},10)}d();n()}}})}(mrm.$));(function(a){mrm.track=mrm.track||{};a.extend(mrm.track,{nav_anchor_1:{initTrack:function(c,d){var b=(mrm.util.touchDevice())?"touchstart":"click";c.find("li a").on(b,function(){var e=a(this).text();mrm.util.trackEvent("click_cta",{section:"sticky nav",linkname:"link:"+e})});c.find("div.wl_nav_1").on(b,function(){mrm.util.trackEvent("click_cta",{section:"sticky nav",linkname:"link:Features Added"})})}}})}(mrm.$));(function(a){mrm.mod.Nav_carlinefamily_selection_1=mrm.mod.AbstractMod.extend({events:{},prepare:function(){var e=this;var d=this.$ctx.find("ul > li > .modVi_vs_1");var b=5;var c=Math.ceil(d.length/b);var j=[d.children("h3.vt")];var f=this.$ctx.children("ul");this.$ctx.addClass("cols"+Math.min(d.length,b));for(var g=0;g<c*b;g+=b){a.each(j,function(){a(this).slice(g,g+b).equalHeights()})}var h=mrm.ui.scrollbars.applyScrollbarsTo(f,e.cfg.height);if(h.hasClass("jspScrollable")){this.$ctx.addClass("hasScrollbar");mrm.ui.scrollbars.remove(h);h=mrm.ui.scrollbars.applyScrollbarsTo(f);h.addClass("jspStyle2")}}})})(mrm.$);(function(a){mrm.track=mrm.track||{};a.extend(mrm.track,{nav_extended_1:{initTrack:function(c,d){var b=(mrm.util.touchDevice())?"touchstart":"click";c.find("li a").on(b,function(){var e=a(this).text();mrm.util.trackEvent("click_cta",{section:"sticky nav",linkname:"link:"+e})})}}})}(mrm.$));(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{nav_footer:{init:function(f){var e=a("#mds-cmp-nav_footer .nav_footer_c1_row2 ul");var d=a.trim(e.children("li").find(".modSnlil_2").html()).length+a.trim(e.children("li").eq(1).find(".modSnlil_2").html()).length;if(d===0){a("#mds-cmp-nav_footer .nav_footer_c1_row2").css("display","none")}}}})}(mrm.$));(function(a){a.extend(mrm.cmp,{nav_glossary_1:{tpl:["14"],init:function(b){mrm.util.log("[mrm.cmp.seo_text] Context: "+b)},initMod:function(c){var b=a(".resultList",c);b.jScrollPane({showArrows:false});this.bindModEvents(c)},showSearchResults:function(c,d){var b=this;a(".noResultInfo").addClass("ui-helper-hidden");a(".resultInfo").removeClass("ui-helper-hidden");if(d.results.length==0){a(".noResultInfo").removeClass("ui-helper-hidden");a(".resultInfo").addClass("ui-helper-hidden")}c.find(".resultInfo .count").html(d.results.length);c.find(".resultInfo .searchterm").html(d.searchterm);c.find(".noResultInfo .searchterm").html(a(".modGlossary_control_1 form.searchform input[type=text]").val());c.find(".resultList ul").empty();a.each(d.results,function(f,e){a.each(c.data().allResults,function(){if(a(this).find("a").attr("href")=="#"+e){c.find(".resultList ul").append(a(this))}})});b.reInitResultsPane(c);b.updateDisplay(c)},resetFilter:function(b){b.find(".navLinks li.active").removeClass("active")},resetSearch:function(){a(".modGlossary_control_1 form.searchform input[name=q]").val("");a(".resultInfo").addClass("ui-helper-hidden")},filterResults:function(d,f){var c=this;c.hideDetails();a(".navLinks li.active").removeClass("active");a(f.target).parent().addClass("active");this.resetSearch();a(".modGlossary_results_1 .modCnt_glossary_1").removeClass("highlighted");d.find(".resultList ul").empty();var b=false;if(a(f.target).parent().hasClass("all")){f.preventDefault();f.stopPropagation();b=true;d.find(".resultList ul").append(d.data().allResults)}else{if(a(f.target).parent().hasClass("popular")){f.preventDefault();f.stopPropagation();a.each(d.data().allResults,function(){if(a(this).data().popular==1){d.find(".resultList ul").append(a(this))}})}else{var g=a(f.target).text().toLowerCase();a.each(d.data().allResults,function(){if(g.charAt(0)=="0"){if(a(this).find("a").text().charAt(0).toLowerCase()>=0&&a(this).find("a").text().charAt(0).toLowerCase()<=9){d.find(".resultList ul").append(a(this))}}else{if(a(this).find("a").text().charAt(0).toLowerCase()==g){d.find(".resultList ul").append(a(this))}}})}}c.reInitResultsPane(d);c.updateDisplay(d,b)},updateDisplay:function(c,b){var d=c.find(".resultList ul li a");if(b){a(".modGlossary_results_1 .modCnt_glossary_1, .modGlossary_results_1 .modNav_az_item_1, .modGlossary_results_1 .cnt_anchortitle_1").removeClass("ui-helper-hidden")}else{a(".modGlossary_results_1 .modCnt_glossary_1, .modGlossary_results_1 .modNav_az_item_1").addClass("ui-helper-hidden");a(".modGlossary_results_1 .cnt_anchortitle_1").removeClass("ui-helper-hidden");a.each(d,function(){var e=a(this).attr("href");a(e).removeClass("ui-helper-hidden");a(e).parents(".modNav_az_item_1").removeClass("ui-helper-hidden");a(e).parents(".modNav_az_item_1").find(".cnt_anchortitle_1").addClass("ui-helper-hidden")})}},reInitResultsPane:function(c){var b=c.find(".resultList").data("jsp");b.reinitialise()},showEntry:function(c,d){this.hideDetails();var b=a(d.target).attr("href");a(".modGlossary_results_1 .modCnt_glossary_1, .modGlossary_results_1 .cnt_glossary_item_c1").removeClass("highlighted");a(b).parents(".cnt_glossary_item_c1").addClass("highlighted")},showDetails:function(b){a(".modGlossary_results_1 .detailView").html(b).removeClass("ui-helper-hidden");a(".modGlossary_results_1 .modNav_az_item_1").addClass("details-active")},hideDetails:function(b){a(".modGlossary_results_1 .detailView").html("").addClass("ui-helper-hidden");a(".modGlossary_results_1 .modNav_az_item_1").removeClass("details-active")},bindModEvents:function(c){var b=this;c.data({allResults:c.find(".resultList ul li")});a(".modGlossary_results_1 .detailView").addClass("ui-helper-hidden");a(".modGlossary_results_1").css("min-height",a(".modGlossary_control_1").outerHeight());c.find(".resultList li > a").live("click",function(d){b.showEntry(c,d)});c.find(".navLinks li.disabled a").live("click",function(d){d.preventDefault();d.stopPropagation()});c.find(".navLinks li:not(.disabled) a").live("click",function(d){b.filterResults(c,d)});a(".modGlossary_control_1 form.searchform").bind("submit",function(h){h.preventDefault();h.stopPropagation();var d=a(this);var f=d.serializeArray();var g={};a.each(f,function(e,j){g[j.name]=j.value});a.ajax({url:d.attr("action"),dataType:"json",data:g,type:d.attr("method")}).done(function(e){e.searchterm=g.q;b.showSearchResults(c,e);b.resetFilter(c)})});a(".modGlossary_results_1 a").live("click",function(f){if(a(this).data().snippet!=undefined){f.preventDefault();f.stopPropagation();var d=a(this).data().snippet;a.ajax({url:d}).done(function(e){b.showDetails(e)})}})}}})}(mrm.$));(function(c){var b=/cadillac/i,d=c(location).attr("href");var a=b.test(d);mrm.mod.Nav_meta=mrm.mod.AbstractMod.extend({$mNavJsItems:c(),prepare:function(){var e=this;e.$mNavJsItems=c(e.cfg.menuItemTriggerSelector).on("click",function(f){f.preventDefault()}).closest(e.cfg.menuItemParentSelector);e.$mNavJsItems.on("click.navMeta",function(h){var g=c(this);var f=g.find("dd.content:eq(0)");if(c(h.target).hasClass("ln_modal_ext")){return}else{if(c(h.target).closest("dd.content").is(f)){h.stopPropagation();return}}if(!g.hasClass("visible")){h.stopPropagation();e.showDropdown(f,g)}else{e.hideDropdown(g)}});c(e.$ctx).find(".modNav_tools_1 .iconlink").parent().on("mouseenter",function(){c(this).find("div.iconContainer .mm").css("display","none");c(this).find("div.iconContainer .mm.hover").css("display","block")});c(e.$ctx).find(".modNav_tools_1 .iconlink").parent().on("mouseleave",function(){c(this).find("div.iconContainer .mm").css("display","block");c(this).find("div.iconContainer .mm.hover").css("display","none")})},showDropdown:function(f,g){var e=this;if(a){mrm.ui.layer.mask(c("#container"),"show",200)}e.$mNavJsItems.not(g).removeClass("visible");g.addClass("visible");f.trigger("headerFlyoutOpened");c("body").on("click.navMeta",function(){e.hideDropdown(g)});c("#mds-area-header").on("headerFlyoutOpened.navMeta",function(h){if(!c(h.target).closest(".modNav_meta").length){e.hideDropdown(g)}});if(e.cfg.positionDropdown){e.positionDropdown(f,g)}},hideDropdown:function(e){if(a){mrm.ui.layer.mask(c("#container"),"hide",200)}c("body").off("click.navMeta");c("#mds-area-header").off("headerFlyoutOpened.navMeta");e.removeClass("visible")},positionDropdown:function(f,g){var e=this;f.width(function(j,h){return h}).position(c.extend({of:g},e.cfg.positionCfg))}})})(mrm.$);(function(a){mrm.cmp=mrm.cmp||{};mrm.cmp.nav_modelchanger_1=mrm.cmp.nav_modelchanger_1||{};a.extend(mrm.cmp.nav_modelchanger_1,{clickOrTouch:(mrm.util.touchDevice())?"touchstart":"click",initMod:function(c){var b=this;if(c.find(".nav_modelchanger_menu").hasClass("toggle")){c.find(".nav_modelchanger_1").addClass("top");a("#nav_modelchanger_tab .togon").append('<div class="togarrow">&gt;</div>');a("#nav_modelchanger_tab .togoff").append('<div class="togarrow">&or;</div>')}else{c.find(".nav_modelchanger_1").addClass("inline")}a(".cta").each(function(){a(this).find("li:not( :first ) a").each(function(){a(this).removeClass("btn_prim").addClass("btn_sec")})});if(!a("#nav_modelchanger_tab").hasClass("author_mode")){if(c.find(".nav_modelchanger_menu").hasClass("toggle")){c.find("#nav_modelchanger_tab").appendTo("#mm_colorizer_c1");c.find(".nav_modelchanger_menu").insertAfter(".masthead").addClass("top")}}else{}if(mrm.util.iPad()){this.touchHandler()}else{this.mouseHandler()}var b=this},toggleTabClick:function(){var b=this;a("#nav_modelchanger_tab div").toggleClass("on");a("#nav_modelchanger_tab div span").toggle();a(".nav_modelchanger_1").toggleClass("active");return},openToolTip:function(c){this.hideAllOpen();var k=c.find(".exp_lyr");k.addClass("flyoutvisible");var j=Math.round(a(".mds-area-content").offset().left),e=j+Math.round(a(".mds-area-content").outerWidth()),d=Math.round(k.offset().left),b=Math.round(k.offset().left+k.width());if(d<j){var f=c.find(".exp_lyr"),g=j-d,h=parseInt(f.css("left"))+g;osELn=parseInt(f.find(".nugget").css("left"))-g;l(h,osELn)}else{if(b>e){var f=c.find(".exp_lyr"),m=b-e,h=parseInt(f.css("left"))-m;osELn=parseInt(f.find(".nugget").css("left"))+m;l(h,osELn)}}function l(n,o){f.css("left",n);f.find(".nugget").css("left",o);f.find(".nuggetshadow").css("left",o);return}return},hideAllOpen:function(b){a(".flyoutvisible").removeClass("flyoutvisible");return},mouseHandler:function(){var b=this;a("#nav_modelchanger_tab").on({click:function(c){b.toggleTabClick()}});a(".nav_modelchanger_1").on({mouseleave:function(c){b.hideAllOpen()}});a(".mcjb").on({mouseenter:function(c){b.openToolTip(a(this))},mouseleave:function(c){b.hideAllOpen()}});a(".exp_lyr_inner").each(function(){a('<div class="close">close</div>').prependTo(this)});a(".close").on({click:function(c){b.hideAllOpen()}})},touchHandler:function(){var b=this;a(".exp_lyr_inner").each(function(){a('<div class="close">close</div>').prependTo(this)});a(".close").on({click:function(c){b.hideAllOpen()}});a("#nav_modelchanger_tab").on({touchend:function(){b.hideAllOpen();b.toggleTabClick()}});a(".mcjb").on({touchend:function(){b.hideAllOpen();b.openToolTip(a(this))}})},})}(mrm.$));(function(a){mrm.mod.Nav_modelswitch_1=mrm.mod.AbstractMod.extend({sliding:false,events:{},prepare:function(){var b=this;var d=b.$ctx;d.parent().find("a.other_models").click(function(e){e.preventDefault();b.togglePopup(d)});var c=d.find("li .modelswitch_item").length;switch(c){case 3:d.find(".modelswitch_item").css("padding","0 74px");break;case 4:d.find(".modelswitch_item").css("padding","0 36px");break;case 5:d.find(".modelswitch_item").css("padding","0 13px");break;default:d.find(".modelswitch_item").css("padding","0 13px");break}a(".modNav_tools_1 a").on("click",function(){d.slideUp();mrm.ui.layer.mask(a("#container"),"hide",200);a(".enhanced_navigation .modNav_sec dt a.other_models").removeClass("active");a("body").off("click.modelswitch")})},togglePopup:function(c){var b=this;b.sliding=true;cfg=a.extend({delayOut:850,delayIn:250,openOnClick:false,followRootLevelLink:true,showMask:true,maskSpeed:200,maskContainer:"#container",enableHideAllMethod:true},mrm.conf.cmp.nav_prim||{});c.slideToggle(function(){b.sliding=false;if(c.is(":visible")){mrm.ui.layer.mask(a(cfg.maskContainer),"show",cfg.maskSpeed);a("body").on("click.modelswitch",function(d){if(b.sliding===false){b.togglePopup(c)}})}else{a("body").off("click.modelswitch");mrm.ui.layer.mask(a(cfg.maskContainer),"hide",cfg.maskSpeed)}})}})})(mrm.$);(function(a){mrm.track=mrm.track||{};a.extend(mrm.track,{nav_modelswitch_1:{initTrack:function(d){if(!d.length){return}var c=this,e=Omniture_s.eVar18.toLowerCase(),b=Omniture_s.pageName;d.find(".modelswitch_item a").removeAttr("onclick");c.setupTracking(d,e,b)},setupTracking:function(d,f,b){var c=(mrm.util.touchDevice())?"touchstart":"click";var e="2ndlevel-nav";if(d.length){d.siblings(".other_models").on(c,function(){mrm.util.tagging.omniture_tl(a(this),"2ndlevel-nav","o","",{pageName:b,prop27:e,prop32:e+":"+a(this).text()})});d.find(".modelswitch_item a").on(c,function(){var g="2ndlevel-nav:other models";mrm.util.tagging.omniture_tl(a(this),"2ndlevel-nav","o","",{pageName:b,prop27:g,prop32:g+":"+a(this).children(".modelswitch_item_title").text()})})}}}})}(mrm.$));(function(e){var d,j,l,f,b=e("html").attr("dir")!=="rtl"?"left":"right",g=[],k=false,a=false,c=false,h=e.extend({delayOut:850,delayIn:250,openOnClick:false,followRootLevelLink:true,showMask:false,maskSpeed:200,maskContainer:"#container",enableHideAllMethod:true},mrm.conf.cmp.nav_prim||{});mrm.cmp=mrm.cmp||{};e.extend(mrm.cmp,{nav_prim:{mouseOutTimer:0,$touchedOnceLinks:e(),init:function(m){mrm.util.log("[menu.init] Context: "+m);c=h.openOnClick||mrm.util.touchDevice();j=e("#mds-cmp-1stlevelnavigation").addClass("ui-widget");l=e("ul:first > li > a",j).not('[data-link-type="simple"]');if(!e(".modNav_prim_2",".modNav_prim").length){e("ul ul li:last-child",j).after('<li class="last"></li>');e("ul ul li:first-child, ul ul .bgiframe:first-child + li",j).before('<li class="first"></li>')}e("ul ul a + ul",j).prev("a").addClass("hasChildren");e("a[rel]",j).addClass("includeBBC");this.setBindings();if(c&&!h.followRootLevelLink){l.each(function(){if(this.onclick){e(this).data("delayedOnclick",this.onclick);this.onclick=e.noop}})}if(typeof(MRM_EXTERNAL_DOMAIN)==="string"){h.maskContainer="#mds-container"}},setBindings:function(){var n=this;if(!c){l.on("mouseenter.navPrim",e.proxy(this.onMouseEnterFirstLevel,this)).closest("li").on("mouseleave.navPrim",e.proxy(this.onMouseLeaveNavigation,this)).on("mouseenter.navPrim",e.proxy(this.onMouseEnterNavigation,this)).on("mouseenter.navPrim","a.hasChildren, a.includeBBC, ul.dropdown > li > a",e.proxy(this.prepareNextLevel,this))}else{l.on("click.navPrim",e.proxy(this.clickHandler,this));var m=(e(".modNav_prim_2",j).length)?"loadNodeNav":"click.navPrim";j.find("a.hasChildren, a.includeBBC").not(l).on(m,e.proxy(this.clickHandler,this));e("#mds-cmp-1stlevelnavigation ul:first > li > a").on("touchstart.navPrim",e.proxy(this.onMouseEnterFirstLevel,this)).closest("li.hover_active").on("touchstart.navPrim",e.proxy(this.onMouseLeaveNavigation,this));e("div.veil").on("touchstart",e.proxy(this.onMouseLeaveNavigation,this))}},onMouseLeaveNavigation:function(n){if(e(".ui-dialog").is(":visible")){return}clearTimeout(d);var m=this;if(h.enableHideAllMethod){this.mouseOutTimer=window.setTimeout(m.hideAll,h.delayOut)}if(mrm.util.ie()){if(f!=null&&(f.tagName=="INPUT"||f.tagName=="TEXTAREA")){e(f).focus();f=null}}},onMouseEnterNavigation:function(m){window.clearTimeout(this.mouseOutTimer)},onMouseEnterFirstLevel:function(n){clearTimeout(d);var m=this,o=e(n.target).closest("a");d=window.setTimeout(function(){m.cleanUpFirstLevel(o);m.prepareNextLevel(o)},h.delayIn)},clickHandler:function(p){var o=this;var s=e(p.target).closest("a"),q=s.is(l);var n=(s.siblings(".modNav_prim_2").length)?true:false;if((!h.followRootLevelLink&&q)||!this.isTouchedOnceLink(s)){var m=true;if(typeof(o.optionalFlyout)==="object"){var r=o.optionalFlyout;r.init(s);m=r.doFlyout}if(m){p.preventDefault()}p.stopPropagation()}if(q){this.cleanUpFirstLevel(s)}if(n){o.enhancedNavigation(s.siblings(".modNav_prim_2"))}if(!this.isTouchedOnceLink(s)){this.resetTouchedOnceLinks(s.closest("ul"));this.addTouchedOnceLinks(s);this.prepareNextLevel(s)}else{if(!h.followRootLevelLink&&q&&h.enableHideAllMethod){this.hideAll();return}}},enhancedNavigation:function(m){if(!m.parent("li").hasClass("li_active")){m.find("li a").first().trigger("loadNodeNav");j.find("a.hasChildren, a.includeBBC").not(l).on("click.navPrim",e.proxy(this.clickHandler,this))}},cleanUpFirstLevel:function(m){if(!m.parent("li").hasClass("li_active")){if(h.enableHideAllMethod){this.hideAll()}}else{if(h.showMask){mrm.ui.layer.mask(e(h.maskContainer),"hide",h.maskSpeed)}}},prepareNextLevel:function(m){var o=!m.target?m:e(m.target).closest("a");var n=o.attr("rel");if(n===undefined||n==""){this.nextLevelReady(o)}else{this.loadBBC(n,o)}},loadBBC:function(n,o){var m=e('<div class="placeholder visible"></div>');if(o.hasClass("bbc2ndLevel")){o.closest(".baseballcard.n03").after(m)}else{o.after(m)}e.ajax({dataType:mrm.external?"jsonp":"html",url:n,cache:true,jsonpCallback:o.data("ngdoeCallback"),jsonp:false,type:"GET",success:e.proxy(function(q,r,p){if(r=="success"){this.onBbcLoaded(q,m,o)}this.nextLevelReady(o)},this)});o.removeAttr("rel")},onBbcLoaded:function(p,o,s){var q=o.hasClass("visible"),n,r;if(s.hasClass("bbc2ndLevel")){n="bbc_"+new Date().getTime();r=e(p).attr("id",n);s.data("bbcid",n);o.replaceWith(r)}else{o.replaceWith(p);r=s.next(".baseballcard")}if(r.is("ul")){r.find("div.baseballcard").addClass("bbc_div")}if(q){r.addClass("visible")}if(!this.isOnFirstLevel(r)){if(s.parents(".modNav_prim_2")){r.addClass("second_node_nav");if(s.parents(".modNav_prim_2").hasClass("grid_style")){r.addClass("g_style")}}var u=s.closest("ul").width();if(r.hasClass("second_node_nav")){b="left";if(!h.useActualWidth){u=0}}r.css(b,u)}r.trigger("loadBBC");if(r.hasClass("n03")){e("a[rel]",r).addClass("includeBBC bbc2ndLevel").on("click.navBBC",e.proxy(this.clickHandler,this)).closest(".mod").on("click.navBBC",function(){e(this).find("a:first").trigger("click.navBBC")})}e(".n02b .modNav_carline_selection_1 > ul > li dd a[cluetip-title*=' ']:not(.cluetip_applied)").addClass("nav_prim_cluetip cluetip_applied");e(".n01 .modVi_1 dl dd a[cluetip-title*=' ']:not(.cluetip_applied)").addClass("cluetip_vi_1 cluetip_applied");var m=e.extend({},mrm.conf.plugin.cluetip||{},{sticky:true,titleAttribute:"cluetip-title",activation:"click",disableScroll:true});e(".nav_prim_cluetip").removeClass("nav_prim_cluetip").cluetipWrap(m);e(".cluetip_vi_1").removeClass("cluetip_vi_1").cluetipWrap(m);if(e(p).find(".modMh_title_1").length){mrm.util.initDomContent(e(".modMh_title_1"))}},nextLevelReady:function(p){var n=this,o,m;n.hideAllSubLayers(p.closest("ul"));n.setParentLiActive(p);if(p.hasClass("includeBBC")){m=(p.hasClass("bbc2ndLevel"))?e("#"+p.data("bbcid")):p.next(".baseballcard");if(m.is("ul")){n.setBaseballCardLinks(m)}m.addClass("visible")}else{if(p.closest("ul").hasClass("bbcNav")){p.closest("li").siblings().find("a").each(function(){var q=e(this),r;if(q.data("toggle")){r=e(q.data("toggle"));r.filter(".visible").removeClass("visible").trigger("bbcContentHide")}});m=e(p.data("toggle"));m.addClass("visible").trigger("bbcContentShow")}else{n.showNextLayer(p)}}a=true;p.trigger("headerFlyoutOpened");p.trigger("firstLevelNavigationNextLevelReady");e("body").off("click.navPrim");e("#mds-area-header").off("headerFlyoutOpened.navPrim");e("body").on("click.navPrim",function(q){if(a&&(e(q.target).closest("a").closest(".modNav_prim").length||!e(q.target).closest(".modNav_prim").length)&&!e(q.target).closest("#cluetip").length){if(h.showMask){mrm.ui.layer.mask(e(h.maskContainer),"hide",h.maskSpeed)}if(h.enableHideAllMethod){n.hideAll()}}});e("#mds-area-header").on("headerFlyoutOpened.navPrim",function(q){if(a&&!e(q.target).closest(".modNav_prim").length){if(h.showMask){mrm.ui.layer.mask(e(h.maskContainer),"hide",h.maskSpeed)}if(h.enableHideAllMethod){n.hideAll()}}});if(c&&!h.followRootLevelLink){o=p.filter(l).data("delayedOnclick");if(e.isFunction(o)){e.proxy(o,p[0])()}}},showNextLayer:function(n){var m=n.siblings("ul:first");m.addClass("visible").children("li").removeClass("li_active");if(mrm.util.ie()){if(f==null){f=document.activeElement;if(f.tagName==="SELECT"||f.tagName==="INPUT"){e(f).blur()}}}if(!this.isOnFirstLevel(n)){m.css(b,n.closest("ul").width())}m.children("li:last").width(m.children("li:last").prev().width()+1)},isOnFirstLevel:function(m){return m.closest("ul").is(j.children("ul"))},setBaseballCardLinks:function(n){var m=this;g=[];n.find("div.bbc_div").each(function(o){g[o]=e(this);e(this).parent().find("a:first").on("mouseover",function(){m.showBaseballCards(o)})});if(!k){this.showBaseballCards(0)}},showBaseballCards:function(n){k=true;var m;for(m=0;m<g.length;m++){if(mrm.util.ie6()){e("div.baseballcard.bbc_div",j).css("display","none")}g[m].removeClass("active")}g[n].addClass("active");if(mrm.util.ie6()){g[n].css("display","block");e(".baseballcard.visible").addClass("visibleBBC");e("li.baseballcard > a",j).addClass("linkBBC");e("li.baseballcard + li > a",j).addClass("listLinkBBC");e("li.baseballcard:first-child a",j).addClass("pos1");e("li.baseballcard + li > a",j).addClass("pos2");e("li.baseballcard + li + li> a",j).addClass("pos3");e("li.baseballcard + li + li + li> a",j).addClass("pos4");e("li.baseballcard + li + li + li + li> a",j).addClass("pos5");e("li.baseballcard + li + li + li + li + li> a",j).addClass("pos6");e("li.baseballcard + li + li + li + li + li + li> a",j).addClass("pos7");e("div.baseballcard div.further",j).addClass("furtherBBC");e("div.baseballcard div.further > a span",j).addClass("furtherSpanBBC")}},hideAll:function(){a=false;j.trigger("firstLevelNavigationHideAll");e("div.modBaseballcard.visible",j).trigger("firstLevelNavHideAllClosedBbc");e("div.visible, ul.visible",j).removeClass("visible");e("li.li_active",j).removeClass("li_active");k=false;if(c){this.resetTouchedOnceLinks()}e("body").off("click.navPrim");e("#mds-area-header").off("headerFlyoutOpened.navPrim")},hideAllSubLayers:function(m){m.trigger("firstLevelNavigationHideAllSubLayers");m.find("> li > ul").removeClass("visible");m.find("> li > div").removeClass("visible");k=false},setParentLiActive:function(m){m.parent().addClass("li_active").siblings().removeClass("li_active");if(h.showMask){mrm.ui.layer.mask(e(h.maskContainer),"show",h.maskSpeed)}},isTouchedOnceLink:function(m){return m.is(this.$touchedOnceLinks)},addTouchedOnceLinks:function(m){this.$touchedOnceLinks=this.$touchedOnceLinks.add(m.addClass("touchedOnce"))},resetTouchedOnceLinks:function(m){if(!this.$touchedOnceLinks.length){return}m=m||j;var n=(!m.length?this.$touchedOnceLinks:e("a.touchedOnce",m));n.removeClass("touchedOnce");this.$touchedOnceLinks=this.$touchedOnceLinks.not(n)}}})}(mrm.$));(function(a){if(mrm.util.ie9_lt()){a(".modNav_prim > ul > li:last").addClass("last-childs")}})(mrm.$);(function(a){mrm.track=mrm.track||{};a.extend(mrm.track,{nav_prim_2:{initTrack:function(d){if(!d.hasClass("grid_style")){return}var c=this,e=Omniture_s.eVar18.toLowerCase(),b=Omniture_s.pageName;a(document).ajaxSuccess(function(g,h,f){c.setupTracking(d,e,b)})},setupTracking:function(d,f,b){var c=(mrm.util.touchDevice())?"touchstart":"click";var e="global_nav:vehicles:";d.find(".modNav_vehicle_selection_1 img.mm").parent("a").removeAttr("onclick");if(d.length){d.find(".modNav_vehicle_selection_1 img.mm").on(c,function(g){mrm.util.tagging.omniture_tl(a(this),"global_nav","o","",{pageName:b,prop27:e+d.find("li.li_active a").first().text()+":"+a(this).parents(".modNav_vehicle_selection_1").attr("id"),prop32:e+d.find("li.li_active a").first().text()+":"+a(this).parents(".modNav_vehicle_selection_1").attr("id")+a(this).parents(".modVi_8").attr("id")+":image:"})});d.find(".modNav_vehicle_selection_1 ul.ll a").removeAttr("onclick");d.find(".modNav_vehicle_selection_1 ul.ll a").on(c,function(){mrm.util.tagging.omniture_tl(a(this),"global_nav","o","",{pageName:b,prop27:e+d.find("li.li_active a").first().text()+":"+a(this).parents(".modNav_vehicle_selection_1").attr("id"),prop32:e+d.find("li.li_active a").first().text()+":"+a(this).parents(".modNav_vehicle_selection_1").attr("id")+":"+a(this).closest(".modVi_8").attr("id")+":button:"+a(this).text()})});d.find(".modNav_carline_selection_1 .modVi_1").on(c,function(){mrm.util.tagging.omniture_tl(a(this),"global_nav","o","",{pageName:b,prop27:e+d.find("li.li_active a").first().text(),prop32:e+d.find("li.li_active a").first().text()+":"+a.trim(a(this).children(".vt").text())})})}}}})}(mrm.$));(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{nav_sitemap_2:{init:function(e){var d=a("div.mds-area-footer div.modNav_footer_1 ul.ll a.ln_chat").attr("onclick");var b="if(typeof(Omniture_s) != 'undefined'){mrm.util.tagging.omniture_tl(this, this.href, 'o', undefined,{'pageName':'ch:no:US:en:index','linkname':'ch:no:US:en:index:footer:click_to_chat','prop27':'footer:click_to_chat','prop32':'ch:no:US:en:index:footer:click_to_chat'});}"+d;a("div.mds-area-footer div.modNav_footer_1 ul.ll a.ln_chat").attr("onclick",b)}}})}(mrm.$));(function(b){var a;mrm.cmp=mrm.cmp||{};b.extend(mrm.cmp,{nav_tablay_1:{config:{maxWidth:1920},initMod:function(g){if(mrm.util.ie6()){return}var m=this;var d=(mrm.util.touchDevice())?"touchstart":"click";if(g.parents("div.cnt_tbl_fs_1").length>0){g=g.parents("div.cnt_tbl_fs_1")}var j=g.tabs({select:function(n,o){m.markVisible(b(o.panel))},create:function(n,o){m.markVisible(g.find(".ui-tabs-panel:first"))}});j.find("ul.ui-tabs-nav").contents().filter(function(){return this.nodeType===3}).remove();if(g.hasClass("ui-dynamic-scroller")){m.configBgContent(g)}var e=mrm.util.getHash();if(e!==""&&mrm.util.exists(e)){var f=b(e).offset().top;b(document).scrollTop(f)}if(g.hasClass("drop_downs")){this.buildDropdowns(g)}var h=this;j.find("ul.ui-tabs-nav a.fsShowAll").unbind("click").on(d,function(n){n.preventDefault();h.showall(n.target)}).parent("li").removeClass("ui-state-disabled");j.each(function(p,s){var n=b(s);var u=n.find("ul.ui-tabs-nav li.active").length;var q=b(s).find("a.fsShowAll").closest("li").index();if(u<1&&q===0){h.showall(b(s).find("> ul, > .nav_tablay_1 > ul").find("a.fsShowAll"))}var o=j.find("ul.ui-tabs-nav").data("bghovercolor"),r=j.find("ul.ui-tabs-nav").data("hovercolor");if(o||r){n.find("ul.nav_layer > li.ui-state-active > a").css({backgroundColor:o,color:r});n.find("ul.nav_layer > li > a").click(function(){n.find("ul.nav_layer > li > a").css({backgroundColor:"",color:""});b(this).css({backgroundColor:o,color:r})});n.find("ul.nav_layer > li > a").hover(function(){if(!b(this).parent().hasClass("ui-state-active")){b(this).css({backgroundColor:o,color:r})}},function(){if(!b(this).parent().hasClass("ui-state-active")){b(this).css({backgroundColor:"",color:""})}})}});var k=b("ul.ui-tabs-nav.ui-tab-position-justify");if(k.length>0){var c=0;k.children().each(function(){c+=b(this).outerWidth()});var l=~~((k.width()-c)/(k.children().length-1))-1;if(l>0){k.find("li").not(":last").each(function(){b(this).css("marginRight",l)})}}b("ul.ui-tabs-nav > li > a").one(d,function(){b.event.trigger("newTabShown")});b("ul.ui-tabs-nav > li > a").on(d,function(){b(document).trigger("hideCluetip")});if(b.isFunction(m.brand_init)){m.brand_init(g)}},centerBackgrounds:function(f){var d=this;var g=f.width();var h=f.find(".item_bg_holder").width();var c=f.find(".item_bg_holder img.item_bg").height();var e=f.find(".item_bg_holder").parent().first().height();f.find(".item_bg_holder").height(e);f.find(".item_bg_holder").css("left",(g-h)/2);f.find(".item_bg_holder img.item_bg").css("margin-top",(e-c)/2);f.addClass("jsReady")},configBgContent:function(e){var c=this;var d=e.find(".item_bg_holder");if(e.attr("data-cfg-full-width")==="1"){c.fullWidth(e)}if(d.length>0&&e.attr("data-cfg-full-width")==="0"){if(e.data("width")!==undefined){d.width(e.data("width"))}else{if(d.children("img").length>0){d.width(d.children("img").width())}else{d.width(b(".mds-area-pf1",e).width())}}c.centerBackgrounds(e)}if(e.find("ul.nav_layer").children().length>6){c.configScroller(e)}b.each(d,function(g,f){c.itemConfig(b(this))})},itemConfig:function(g){var f=this;if(mrm.util.ie_lt(10)){if(g.data("fallback")!==undefined){g.append('<img src="'+g.data("fallback")+'" />')}}if(g.data("color")!==undefined){var h="180deg",e=0,d=g.data("color").color1,c=g.data("color").color2;if(g.hasClass("topB")){h="180deg";e=0}else{h="90deg";e=1}g.css("background","linear-gradient("+h+", "+d+", "+c+")");if(mrm.util.ie8()){g.css("filter","progid:DXImageTransform.Microsoft.gradient(GradientType="+e+",startColorstr='"+d+"', endColorstr='"+c+"')");g.css("-ms-filter","progid:DXImageTransform.Microsoft.gradient(GradientType="+e+",startColorstr='"+d+"', endColorstr='"+c+"')")}if(b.browser.msie&&parseInt(b.browser.version,10)===9){g.css("filter","progid:DXImageTransform.Microsoft.gradient(GradientType="+e+",startColorstr='"+d+"', endColorstr='"+c+"')")}}else{return}},configScroller:function(h){var j=h.find("ul.nav_layer");var e=(h.hasClass("ui-loop-disabled"))?false:true;var f={items:{visible:6},circular:e,infinite:false,width:980,align:"center",auto:false,next:"#tabs_next",prev:"#tabs_prev",onCreate:function(){b(this).parent().css("margin","0 auto")},scroll:{wipe:true}};var d='<div class="clearfix"></div>';var g='<a class="prev mmScrollBtn" id="tabs_prev" href="#"><span>prev</span></a>';var c='<a class="next mmScrollBtn" id="tabs_next" href="#"><span>next</span></a>';f=b.extend(true,f,mrm.conf.cmp.nav_tablay_1||{});j.wrap('<div class="nav_tab_scroller"></div>');j.after(d+g+c);j.mrmCarousel(f)},tabscontent:function(d,e){var c=b(e).val();mrm.util.log("[mrm.cmp.nav_tablay_1.tabscontent] Context: "+e+" - value: "+c);d.tabs("select",c);this.markVisible(b(c))},showall:function(c){b(c).closest("ul.ui-tabs-nav").find("li").removeClass("ui-state-focus ui-tabs-selected ui-state-active").find("a:not(.fsShowAll)").each(function(d,e){b(b(e).attr("href")).removeClass("ui-tabs-hide").addClass("ui-helper-visible")});b(c).closest("li").addClass("ui-state-focus ui-tabs-selected ui-state-active")},buildDropdowns:function(d){var c="";if(mrm.util.getHash()!=-1){c=(mrm.util.getHash())}d.children("ul").each(function(g){var e=document.createElement("select");var f={};var h="ntl_dd_"+g;e.setAttribute("id",h);b(this).children("li").each(function(){f[b(this).children("a").attr("href")]=b(this).text()});mrm.util.fillSelect(e,f,c);b(this).hide().before(e);b(e).change(function(){mrm.cmp.nav_tablay_1.tabscontent(d,"#"+e.getAttribute("id"))});mrm.cmp.nav_tablay_1.tabscontent(d,"#"+h)})},markVisible:function(c){c.addClass("ui-helper-visible").siblings(".ui-tabs-panel").removeClass("ui-helper-visible")},switchToContent:function(e){if(e.length===0){return}var d=this;var c=e.closest(".ui-tabs-panel");var g=e.closest(".modNav_tablay_1");var h=c.attr("id");if(h){g.tabs("select",h);d.markVisible(c)}h=e.attr("id");var f=b("#"+h).offset().top;b(document).scrollTop(f)},fullWidth:function(e){var d=e.find(".item_bg_holder").parent().first().height(),c=e.find(".item_bg_holder img.item_bg").height();e.find(".item_bg_holder").height(d);e.find(".item_bg_holder img.item_bg").css("margin-top",(d-c)/2);b(window).resize(b.proxy(function(){this.resize(e)},this));this.resize(e);e.addClass("jsReady")},resize:function(e){var d=this,c=b(window).width(),f=980;var g=(f-c)*0.5;g=g>0?0:g;e.find(".item_bg_holder").css({"margin-left":g,"margin-right":g});e.find(".item_bg_holder").width(c);if(c>this.config.maxWidth){e.find(".item_bg_holder").css("left",(c-this.config.maxWidth)*0.5)}else{e.find(".item_bg_holder").css("left",0)}}}})}(mrm.$));(function(a){mrm.track=mrm.track||{};a.extend(mrm.track,{nav_tablay_1:{initTrack:function(c,d){var b=(mrm.util.touchDevice())?"touchstart":"click";c.find("li a").not(".btn_prim").on(b,function(){var e=a(this).text();if(e==false){e=a(this).find("img").attr("src");if(typeof(e)!=="undefined"){e=e.substr(e.lastIndexOf("/")+1)}}mrm.util.trackEvent("click_cta",{section:d,linkname:"tab:"+e})});c.find("a#tabs_prev").on(b,function(){mrm.util.trackEvent("click_cta",{section:d,linkname:"tab:arrow:prev"})});c.find("a#tabs_next").on(b,function(){mrm.util.trackEvent("click_cta",{section:d,linkname:"tab:arrow:next"})})}}})}(mrm.$));(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{nav_toolscontainer_1:{initMod:function(c){var b=this;b.setHeight(c);b.applyLinks(c);b.bindEvents();a(document).ajaxSuccess(function(e,f,d){if(d.url.indexOf("shopping")>-1){b.setHeight(c);b.applyLinks(c);b.bindEvents()}});c.parentsUntil("dl").prev("dt").css("background","none");c.parentsUntil("content").parent().css("background","transparent")},setHeight:function(b){var c=b.parents().find(".content").height();var d=b.parents().find(".content").find(".modNav_toolscontainer_1").css("margin-top").split("px");a(".modNav_toolscontainer_1 .modTs_ll_2").css("height",c-d[0]+7)},applyLinks:function(c){var b;a(".modNav_toolscontainer_1 .modTs_ln_2").each(function(){var d=a(this);d.on("click",function(){b=d.find("h3.tt a").attr("href");location.href=b})})},bindEvents:function(){a(".modNav_toolscontainer_1 .modTs_ln_2").on("mouseenter",function(){a(this).find("h3.tt a").css("color","#f4bc00")});a(".modNav_toolscontainer_1 .modTs_ln_2").on("mouseleave",function(){a(this).find("h3.tt a").css("color","#414042")})}}})}(mrm.$));(function(a){mrm.track=mrm.track||{};a.extend(mrm.track,{nav_toolscontainer_1:{initTrack:function(c){var b=this;brand=Omniture_s.eVar18.toLowerCase(),pageName=Omniture_s.pageName;b.setupTracking(c,brand,pageName);a(document).ajaxSuccess(function(e,f,d){if(d.url.indexOf("shopping")>-1){b.setupTracking(c,brand,pageName)}})},setupTracking:function(d,f,b){var c=(mrm.util.touchDevice())?"touchstart":"click";var e;if(d.parentsUntil("dl").prev("dt").length){d.parentsUntil("dl").prev("dt").find("a").removeAttr("onclick");d.parentsUntil("dl").prev("dt").find("a").on(c,function(){e="global_nav:owners";mrm.util.tagging.omniture_tl(a(this),"shopping_tools","o","",{pageName:b,prop27:e,prop32:e})})}if(a(".n03.modBaseballcard .modNav_toolscontainer_1 .modTs_ln_2").length){a(".n03.modBaseballcard .modNav_toolscontainer_1 .modTs_ln_2 a").removeAttr("onclick");a(".n03.modBaseballcard .modNav_toolscontainer_1 .modTs_ln_2").on(c,function(){e="global_nav:shopping_tools";var g=a(this).find("h3.tt a").text();mrm.util.tagging.omniture_tl(a(this),"shopping_tools","o","",{pageName:b,prop27:e,prop32:e+":"+a.trim(g)})})}if(a(".modNav_tools_1 .modNav_toolscontainer_1 .modTs_ln_2").length){a(".modNav_tools_1 .modNav_toolscontainer_1 .modTs_ln_2 a").removeAttr("onclick");a(".modNav_tools_1 .modNav_toolscontainer_1 .modTs_ln_2").on(c,function(){e="global_nav:owners";var g=a(this).find("h3.tt a").text();mrm.util.tagging.omniture_tl(a(this),"shopping_tools","o","",{pageName:b,prop27:e,prop32:e+":"+a.trim(g)})})}if(a(".n03.modBaseballcard .modNav_toolscontainer_1 .modTs_ll_2").length){a(".n03.modBaseballcard .modNav_toolscontainer_1 .modTs_ll_2 ul.ll li a").removeAttr("onclick");a(".n03.modBaseballcard .modNav_toolscontainer_1 .modTs_ll_2 ul.ll li a").on(c,function(){var j="global_nav:shopping_tools";var h=a(this).parentsUntil(".modTs_ll_2").find("h3.tt").text()+":";var g=a(this).text();if(a(this).hasClass("btn_prim")||a(this).hasClass("btn_sec")){mrm.util.tagging.omniture_tl(a(this),"shopping_tools","o","",{pageName:b,prop27:j,prop32:j+":button:chat_now"})}else{mrm.util.tagging.omniture_tl(a(this),"shopping_tools","o","",{pageName:b,prop27:j,prop32:j+":"+a.trim(g)})}})}if(a(".modNav_tools_1 .modNav_toolscontainer_1 .modTs_ll_2").length){a(".modNav_tools_1 .modNav_toolscontainer_1 .modTs_ll_2 ul.ll li a").removeAttr("onclick");a(".modNav_tools_1 .modNav_toolscontainer_1 .modTs_ll_2 ul.ll li a").on(c,function(){var j="global_nav:owners";var h=a(this).parentsUntil(".modTs_ll_2").find("h3.tt").text()+":";var g=a(this).text();if(a(this).hasClass("btn_prim")||a(this).hasClass("btn_sec")){mrm.util.tagging.omniture_tl(a(this),"shopping_tools","o","",{pageName:b,prop27:j,prop32:j+":button:chat_now"})}else{mrm.util.tagging.omniture_tl(a(this),"shopping_tools","o","",{pageName:b,prop27:j,prop32:j+":"+a.trim(g)})}})}}}})}(mrm.$));(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{nav_top_2:{init:function(b){a(window).scroll(function(){c()});a(window).bind("touchmove",function(d){c()});a(document).onscroll=function(){c()};a(window).onscroll=function(){c()};function c(){var d=a(window).scrollTop();var e=a(".nav_top_2");if(d>=1000){e.css("display","block")}else{e.css("display","none")}}c()}}})}(mrm.$));(function(a){if(mrm.util.ie9_lt()){a(".modNav_utility_1 li").each(function(){if(a(this).is(":last-child")){a(this).addClass("last-childs")}})}})(mrm.$);(function(b){mrm.cmp=mrm.cmp||{};var a={openOnHover:true};mrm.cmp.nav_vehicle_selection_2={$layerContainer:b("#container"),$vehicleLayers:b(),stateIndicatorClass:"active",initMod:function(e){this.$mod=e;var c=this,g=e.find("li.navCarline"),d=e.find("a[data-snippet]").each(function(h){b(this).data("index",h)}),f=d.closest("li");if(!d.length){return}if(!mrm.util.touchDevice()&&a.openOnHover){f.on("mouseenter",function(k){var j=b(this),h=j.find("a");c.showLayerHandler(h);f.removeClass(c.stateIndicatorClass);j.addClass(c.stateIndicatorClass)}).on("mouseleave",function(k){var j=b(this),h=j.find("a").data("index");c.hideTimeoutId=window.setTimeout(function(){var l=c.$vehicleLayers.filter(function(){return b(this).data("index")==h});j.removeClass(c.stateIndicatorClass);c.hideLayer(l)},100)});c.$layerContainer.on("mouseenter","div.navVehicle2Layer",function(h){window.clearTimeout(c.hideTimeoutId)}).on("mouseleave","div.navVehicle2Layer:not(.persistent)",function(h){c.hideLayer(b(this));d.closest("li").removeClass(c.stateIndicatorClass)})}else{f.on("click",function(j){var h=b(this);c.showLayerHandler(h.find("a"));f.removeClass(c.stateIndicatorClass);h.addClass(c.stateIndicatorClass);j.preventDefault()});c.$layerContainer.on("click.navVehicleSelection2",function(j){var h=b(event.target);if(!h.closest("div.navVehicle2Layer").length||h.closest("button.close").length){b(this).off("click.navVehicleSelection2");c.$vehicleLayers.hide();f.removeClass(c.stateIndicatorClass)}})}if(d.closest(g).length&&mrm.util.hasFloatWrap(g.find("li"))){c.setupListScroller(g);b(window).load(function(){c.setupListScroller(g,true)})}b("body").on("click",function(h){c.hideLayer(b(".navVehicle2Layer.persistent:visible"));d.closest("li").removeClass(c.stateIndicatorClass)});e.find("a[data-snippet]").on("showPersistent",function(h){c.showPersistentLayer(b(h.currentTarget))})},showPersistentLayer:function(c){var d=this,e=d.$mod.find("a[data-snippet]"),g=e.closest("li"),f=c.closest("li");d.showLayerHandler(c,true);g.removeClass(d.stateIndicatorClass);f.addClass(d.stateIndicatorClass)},showLayerHandler:function(c,e){var f=this,g=c.data("snippet"),d=f.$vehicleLayers.filter(function(){return b(this).data("index")===c.data("index")});if(d.length){f.showLayer(c,d,e);return}b.get(g,function(j){var h=b(j).filter("*").data("index",c.data("index")).addClass("navVehicle2Layer");f.$layerContainer.append(h);f.$vehicleLayers=f.$vehicleLayers.add(h);h.find("a.close").on("click",function(k){f.hideLayer(h);k.preventDefault()});h.show();mrm.util.initDomContent(h);h.hide();if(c.closest("li").hasClass(f.stateIndicatorClass)){f.showLayer(c,h,e)}})},showLayer:function(c,e,d){if(d==true){e.addClass("persistent")}else{e.removeClass("persistent")}var f=this;e.siblings(".navVehicle2Layer").hide();e.show();f.positionLayer(e,c)},positionLayer:function(d,c){d.position({my:"center bottom",at:"center top",of:c,collision:"none",using:function(h){var e=c.closest("div.mod"),g=e.offset().left,f=e.offset().left+e.outerWidth();h.left=Math.max(h.left,g);h.left=Math.min(h.left,f-b(this).outerWidth());b(this).offset(h)}})},hideLayer:function(d,c){c=c||b();d.hide();c.removeClass(this.stateIndicatorClass)},createListChunks:function(d){var f,h=0,g=[];d.each(function(n){var m=b(this),l=Math.round(m.position().top),j=n===d.length-1,k;if(n==0){f=l}k=l!==f;if(k){g.push(d.slice(h,n));h=n;f=l}if(j){g.push(d.slice(h))}});if(g.length<2){return g}d.hide();var e=b(),c=b(g[g.length-2]).add(g[g.length-1]);c.each(function(l){var j=c.length-1-l,k=c.slice(j);c.eq(j).show();if(mrm.util.hasFloatWrap(k)){k.not(":first");g[g.length-1]=k.not(":first").hide();return false}});return g},setupListScroller:function(e,d){var g,h=e.children("button.next"),j=e.children("button.prev"),f=e.children("ul").children("li");function c(k){f.hide();g[k].show();e.data("visibleChunk",k);j.add(h).filter(function(){return b(this).prop("disabled")}).prop("disabled",false).removeClass("disabled");if(k==0){j.addClass("disabled").prop("disabled",true)}if(k==g.length-1){h.addClass("disabled").prop("disabled",true)}}if(!d){h=b('<button type="button" />').addClass("next").append(b("<span />").text("next")).prependTo(e);j=b('<button type="button" />').addClass("prev").append(b("<span />").text("prev")).prependTo(e);e.addClass("jsList").data("visibleChunk",0)}else{f.show()}g=this.createListChunks(f);c(e.data("visibleChunk"));if(d){j.add(h).off("click.navList")}j.add(h).on("click.navList",function(){var l=b(this),k=e.data("visibleChunk");if(l.hasClass("prev")){k--}else{k++}if(l.prop("disabled")){return}c(k)})}}}(mrm.$));(function(a){mrm.mod.Nav_viewallvehicles_selection_1=mrm.mod.AbstractMod.extend({events:{},prepare:function(){var e=this;var d=this.$ctx.find("ul > li > .mod");var b=6;var c=Math.ceil(d.length/b);var j=[d.children("h3.vt, h3.tt")];var f=this.$ctx.children("ul");this.$ctx.addClass("cols"+Math.min(d.length,b));for(var g=0;g<c*b;g+=b){a.each(j,function(){a(this).slice(g,g+b).equalHeights()})}var h=mrm.ui.scrollbars.applyScrollbarsTo(f,e.cfg.height);if(h.hasClass("jspScrollable")){this.$ctx.addClass("hasScrollbar");mrm.ui.scrollbars.remove(h);h=mrm.ui.scrollbars.applyScrollbarsTo(f);h.addClass("jspStyle2")}}})})(mrm.$);(function(a){mrm.mod.Psw_floater_1=mrm.mod.AbstractMod.extend({prepare:function(){var b=this;var c="preferredPrice";var e=b.$ctx.find(".priceoptions");e.each(function(g,j){var h=a(j).data("programCode");var f=c+"="+h;if(document.location.search.match(f)&&h.length>0){b.targetOption=h;mrm.util.cookie.set("preferredPricingCookie",h,{path:"/"})}});var d=mrm.util.cookie.get("preferredPricingCookie");if(typeof d!=="undefined"){e.each(function(f,h){var g=a(h).data("programCode");if(g===d){b._setupEvents(a(h))}})}},_setupEvents:function(d){var c=this;d.show();var e=d.find(".floater-modal");c.$targetModal=e;var b=d.find(".floater-disclaimer");e.find("button").on("click",function(){mrm.util.cookie.remove("preferredPricingCookie",{path:"/"});a(window).trigger("removePrefPrice");e.dialog("close");d.hide();a.eventDispatcher.off(c.modalToken)});b.find("a").each(function(f,g){if(a(g).attr("href")==="#"){a(g).on("click",function(h){h.preventDefault();c._openModal()})}});d.find("a.modal-trigger").on("click",function(f){f.preventDefault();c._openModal()});c.modalToken=a.eventDispatcher.on("psw_floater_1.openModal",function(){c._openModal()})},_openModal:function(){var b=this;b.$targetModal.dialog({width:600,resizable:false,modal:true,dialogClass:"pswFloaterModal",create:function(c,d){a(c.target).parent().css("position","fixed")}})}})})(mrm.$);(function(a){mrm.track=mrm.track||{};a.extend(mrm.track,{searchfield_1:{initTrack:function(c,d){var b=(mrm.util.touchDevice())?"touchstart":"click";c.find("button").on(b,function(){var e=a("input.searchterm").attr("value");if(typeof(Omniture_s)!="undefined"){mrm.util.tagging.omniture_tl(this,c.find("form").attr("action"),"o",undefined,{prop27:"global nav:search",prop32:"global nav:search:term:"+e})}})}}})}(mrm.$));(function(a){mrm.mod.Searchform=mrm.mod.AbstractMod.extend({events:{"submit #searchform":"onSubmit"},prepare:function(){var b=this;b.$ctx.find("input[placeholder], textarea[placeholder]").placeholder()},onSubmit:function(b){var c=this.$ctx.find('input[name="q"]');if(c.hasClass("placeholder")&&c.val()===c.attr("placeholder")){return false}return c.val()?true:false}})})(mrm.$);(function(a){mrm.mod.Seo_text=mrm.mod.AbstractMod.extend({prepare:function(){var b=this;this.$ctx.find("dl").accordion({collapsible:true,autoHeight:false,active:false})}})})(mrm.$);(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{share_1:{init:function(){if(mrm.util.ie8()){a(document.body).on("click.at3",function(){if(a("#at3win").length){document.getElementById("at3win").onpropertychange=function(c){if(event.srcElement.style.display.toLowerCase()==="block"){try{document.getElementById("at3winshare-iframe").contentDocument.location.href=document.getElementById("at3winshare-iframe").src}catch(b){}}};a(document.body).off(".at3")}})}}}})}(mrm.$));(function(b){var a=b.extend({lazyLoad:true},mrm.conf.cmp.sharing||{});mrm.cmp=mrm.cmp||{};b.extend(mrm.cmp,{share_2:{disabledProviderTag:"disabled-",initMod:function(d){var c=this;d.find("li.service-mail a.lyr_email_1").on("click",function(h){h.preventDefault();var g=b(h.target).closest("a"),f=g.attr("href"),e=g.data();e["x-config"]=e.xConfig||"";e=_.omit(e,"xConfig");if((e.method||"get")=="post"){b.post(f,e,function(j){c._loadInLayer(j,e)})}else{b.get(f,function(j){c._loadInLayer(j,e)})}})},init:function(f){mrm.util.log("[mrm.cmp.share_2] Context: "+f);var d=this,e=b(".modShare_2");if(!e.length){return}if(mrm.conf.util.sharing.socialPrivacy){this._disableTags(b(document),false);mrm.util.sharing.initSocialSwitches(e)}else{this._disableTags(b(document),true)}if(a.lazyLoad){mrm.util.sharing.addToLazyLoad(".modShare_2")}if(!mrm.conf.util.sharing.socialPrivacy){mrm.util.sharing.loadTwitter();mrm.util.sharing.loadGooglePlus();mrm.util.sharing.loadFacebook(this.bindEventToFacebookIcons);this.bindEventToTwitterIcons()}b(document).on("renderShare2",function(g,c){d._onRenderTags(g,c)})},_loadInLayer:function(c,e){var d=b('<div class="dialog-container"></div>').append(b(c).data("callerData",e||{})).mrmDialog({closeOnClickOfModalLayer:false,initDomContent:true,destroyOnClose:true})},_onRenderTags:function(e,c){var f=b(e.target);if(c!=true&&f.find(".modShare_2:visible").length==0){return}var d=this._enableTags(f);if(d){mrm.util.sharing.rerender(f[0])}},_enableTags:function(f,e){var c=false,g=this.disabledProviderTag,d=b(".modShare_2"+(e?"":":visible"),f);if(d.length==0){return}d.find("."+g+"twitter-share-button, ."+g+"g-plusone").each(function(){var j=b(this);var h=j.attr("class");j.attr("class",h.replace(g,""));c=true});return c},_disableTags:function(e,d){var c=d?'.modShare_2[data-autorender="false"]':".modShare_2",f=this.disabledProviderTag;b(c+" .twitter-share-button, "+c+" .g-plusone",e).each(function(){var h=b(this);var g=h.attr("class");h.attr("class",g.replace(/(g-plusone|twitter-share-button)/,f+"$1"))})},bindEventToFacebookIcons:function(){b(".modShare_2 .service-facebook a").off("click.shareIcon").on("click.shareIcon",function(c){c.preventDefault();var d={method:"feed",name:b(this).attr("data-name"),link:b(this).attr("data-link"),caption:b(this).attr("data-caption"),picture:b(this).attr("data-picture").replace(/%20/g," "),source:b(this).attr("data-source").replace(/%20/g," "),description:b(this).attr("data-description")};if(window.FB){window.FB.ui(d)}})},bindEventToTwitterIcons:function(){b(".modShare_2 .service-twitter a.icon-twitter").off("click.shareIcon").on("click.shareIcon",function(d){d.preventDefault();var c=b(d.currentTarget).attr("href");window.open(c,"twitter","width=550,height=420")})}}})}(mrm.$));(function(a){mrm.track=mrm.track||{};a.extend(mrm.track,{share_2:{initTrack:function(c,d){var b=(mrm.util.touchDevice())?"touchstart":"click";a(".socialSwitch",c).on(b,function(){var g=a(this).parents(".socialPrivacy").attr("class").match(/service[\w\-]*\b/)[0],e=g.replace("service-",""),f="";if(a(this).hasClass("on")){f="soc_slider_on"}else{f="soc_slider_off"}if(window.Omniture_s){mrm.util.tagging.omniture_tl(true,"social_switch","o","",{prop27:"soc_slider",prop32:Omniture_s.pageName+":"+f+":"+e})}})}}})}(mrm.$));(function(a){mrm.mod.Story_browser=mrm.mod.AbstractMod.extend({prepare:function(){var c=this;c.teaserElements=c.$ctx.find(".modTs_story_1").toArray();var b=c.$ctx.find("ul.story-selection > li.active");this.setTabPadding(b);this.arrangeItems(b);this.attachEvents();this.initCarousel()},initCarousel:function(){var b=this;b.$ctx.find(".pager_wrap").remove();var d={circular:false,infinite:false,items:{start:0},scroll:{fx:"scroll",onBefore:function(e){b.$ctx.find(".mmScroll").trigger("updatePageStatus")},},prev:function(){return b.$ctx.find(".pager_prevpage")},next:function(){return b.$ctx.find(".pager_nextpage")},pagination:{container:function(){return a('<div class="pager_wrap"><span class="pager_prevpage">&lt;</span><div class="pager"></div><span class="pager_nextpage">&gt;</span></div>').appendTo(a(this).parent().parent()).children(".pager")},anchorBuilder:function(f,e){return' <a href="#" id="story_browser_page_'+f+'" class="story_browser_page"><span>'+f+"</span></a> "}},onCreate:function(f){var e=7;a(this).bind("updatePageStatus",function(){var g=b.$ctx.find(".story-stories.mmScroll");if(a(g).find(".pager_wrap .pager a.story_browser_page").length>e){var k=parseInt(a(g).find("ul").triggerHandler("currentPosition"),10)+1;var h=a(g).find(".pager_wrap .pager a.story_browser_page").length;var j;if(k<=Math.ceil(e/2)){b.$ctx.find(".story_browser_page").show();for(j=e+1;j<=h;j++){a("#story_browser_page_"+j).hide()}}else{if(k>h-Math.ceil(e/2)){b.$ctx.find(".story_browser_page").hide();for(j=h-Math.floor(e-1);j<=h;j++){a("#story_browser_page_"+j).show()}}else{b.$ctx.find(".story_browser_page").hide();for(j=k-Math.floor(e/2);j<=k+Math.floor(e/2);j++){a("#story_browser_page_"+j).show()}}}if(k===1){b.$ctx.find(".pager_wrap .pager_prevpage").addClass("inactive")}else{b.$ctx.find(".pager_wrap .pager_prevpage").removeClass("inactive")}if(k===h){b.$ctx.find(".pager_wrap .pager_nextpage").addClass("inactive")}else{b.$ctx.find(".pager_wrap .pager_nextpage").removeClass("inactive")}}else{b.$ctx.find(".pager_prevpage").hide();b.$ctx.find(".pager_nextpage").hide()}})},height:"variable",animateControls:false};b.$ctx.find(".caroufredsel_wrapper").remove();b.$ctx.find(".mmScrollPaginationWrp").empty();var c=b.$ctx.find(".mmScroll").mmScroll(d).trigger("updatePageStatus");a(c).find(".pager_prevpage").on("click",function(){if(!a(this).hasClass("inactive")){a(c).find("ul").trigger("prev").trigger("updatePageStatus")}});a(c).find(".pager_nextpage").on("click",function(){if(!a(this).hasClass("inactive")){a(c).find("ul").trigger("next").trigger("updatePageStatus")}});b.attachEvents(true)},attachEvents:function(h){var e=this;var f=e.$ctx;if(h){var c=e.$ctx.find(".mmScrollPaginationWrp .mmScrollPagination li a");c.on("click",function(j){e.callOmnitureTracking(f,a(this),"casePageClick");j.preventDefault()});return}var g=e.$ctx.find("ul.story-selection > li");g.on("click",function(j){if(a(j.target).closest("select").length){return}j.preventDefault();e.callOmnitureTracking(f,a(this),"caseTabclick");e.$ctx.find("ul.story-selection > li.active").removeClass("active");a(j.currentTarget).addClass("active");e.setTabPadding(j.currentTarget);e.arrangeItems(a(j.currentTarget));e.initCarousel()}).find("select").on("change",function(j){e.arrangeItems(a(j.target).closest("li"));e.initCarousel();e.callOmnitureTracking(f,a(this),"caseDropdownChange")});var d=e.$ctx.find(".story-pagination .mmScrollBtn.prev");d.on("click",function(j){e.callOmnitureTracking(f,a(this),"caseScrollPrev");j.preventDefault()});var b=e.$ctx.find(".story-pagination .mmScrollBtn.next");b.on("click",function(j){e.callOmnitureTracking(f,a(this),"caseScrollNext");j.preventDefault()});e.$ctx.on("click",".mod.modTs_story_1 img",function(j){e.callOmnitureTracking(f,a(this),"caseImage_link")});e.$ctx.on("click",".mod.modTs_story_1 .tt a",function(j){e.callOmnitureTracking(f,a(this),"caseHeading_link")});e.$ctx.on("click",".mod.modTs_story_1 .content .txt a",function(j){e.callOmnitureTracking(f,a(this),"caseDescr_link")});e.$ctx.on("click",".pager_wrap .pager_prevpage",function(j){e.callOmnitureTracking(f,a(this),"caseScrollerLeft")});e.$ctx.on("click",".pager .story_browser_page",function(j){e.callOmnitureTracking(f,a(this),"casePageToggle")});e.$ctx.on("click",".pager_wrap .pager_nextpage",function(j){e.callOmnitureTracking(f,a(this),"caseScrollerRight")})},callOmnitureTracking:function(f,j,h){if(typeof(Omniture_s)==="undefined"){return}var e=this;var g=Omniture_s.eVar18.toLowerCase(),c=Omniture_s.pageName;$active=e.$ctx.find("ul.story-selection .active .story-subcategory dt a");var b=$active.text();if($active.find("span").length>0){b=$active.find("span").text()}var d=e.$ctx.find("ul.story-selection .active .story-subcategory").find("option:selected").text();switch(h){case"caseScrollerLeft":mrm.util.tagging.omniture_tl(j,j,"o","",{pageName:c,prop27:b,prop32:b+":"+d+":scroller left"});break;case"casePageToggle":mrm.util.tagging.omniture_tl(j,j,"o","",{pageName:c,prop27:b,prop32:b+":"+d+":page toggle"});break;case"caseScrollerRight":mrm.util.tagging.omniture_tl(j,j,"o","",{pageName:c,prop27:b,prop32:b+":"+d+":scroller right"});break;case"caseImage_link":mrm.util.tagging.omniture_tl(j,j,"o","",{pageName:c,prop27:b,prop32:b+":"+d+":"+j.parent().attr("href")});break;case"caseHeading_link":mrm.util.tagging.omniture_tl(j,j,"o","",{pageName:c,prop27:b,prop32:b+":"+d+":"+j.attr("href")});break;case"caseDescr_link":mrm.util.tagging.omniture_tl(j,j,"o","",{pageName:c,prop27:b,prop32:b+":"+d+":"+j.attr("href")});break;case"caseTabclick":mrm.util.tagging.omniture_tl(j,j.find("a").html(),"o","",{pageName:c,prop27:"filter area",prop32:"filter area:story sort toggle:"+j.find("dt").text().replace(/\s+/g,"")});break;case"caseDropdownChange":mrm.util.tagging.omniture_tl(j,j.find("option").first().text(),"o","",{pageName:c,prop27:"filter area",prop32:"filter area:"+j.find("option:selected").text()});break;case"casePageClick":mrm.util.tagging.omniture_tl(j,j.text(),"o","",{pageName:c,prop27:b,prop32:b+":"+d+":page toggle"});break;case"caseScrollPrev":mrm.util.tagging.omniture_tl(j,j.text(),"o","",{pageName:c,prop27:b,prop32:b+":"+d+":scroller left"});break;case"caseScrollNext":mrm.util.tagging.omniture_tl(j,j.text(),"o","",{pageName:c,prop27:b,prop32:b+":"+d+":scroller right"});break}},setTabPadding:function(e){var d=this;if(!e){return}var c=a(".story-subcategory",e);var b=a("dd",c).height()||0;d.$ctx.find("ul.story-selection").css("padding-bottom",b+"px")},arrangeItems:function(g){var k=this;var h="all";var p=k.$ctx.data("maxitems");var q=k.$ctx.find("div.story-stories");var m=g.data("action");var l=g.data("sortby");var u=a("select",g).val();var v=a("select",g).data("linkedto");k.$ctx.find(".mod.modTs_story_1 > a").removeAttr("onclick");this.teaserElements.sort(function(z,w){var A=a(z).data(l)||0;var B=a(w).data(l)||0;return A-B});var j=[];var r=this.teaserElements.length;for(var o=r-1;o>=0;o--){var s=this.teaserElements[o];var b=a(s);var e=true;b.detach();if(m=="filter"){e=b.data(g.data("linkedto"))==g.data("filterby")?true:false}var d=b.data(v);if(u&&e&&u!=h){e=d==u||(typeof d=="object"&&a.inArray(u,d)!=-1)?true:false}if(e){j.push(s)}}var n=a('<ul class="mmScrollItems">');while(j.length>0){var c=j.splice(0,p);var f=a(c).wrap("<li />").wrapAll("<ul />").wrap("<li />").parent().parent().parent();n.append(f)}k.$ctx.find(".story-stories > ul").remove();q.append(n)}})})(mrm.$);(function(b){if(mrm.util.curTemplate()!=="13"){return}if(b("#main_page_content .story_navigator a").length){b.each(b("#main_page_content .story_navigator a"),function(){b(this).removeAttr("onclick")});b("#main_page_content .story_navigator a").on("click",function(){var c="";if(b(this).hasClass("prev")){c="previous"}if(b(this).hasClass("next")){c="next"}a(b(this),c,b(this).attr("href"))});function a(g,d,e){if(typeof(Omniture_s)==="undefined"){return}var f=Omniture_s.eVar18.toLowerCase(),c=Omniture_s.pageName;mrm.util.tagging.omniture_tl(g,g.text(),"o","",{pageName:c,prop27:"content-area",prop32:"content-area:"+d+":"+e})}}}(mrm.$));(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{story_overview:{$selects:(function(){return a(".modStory_overview .selection select")})(),sectionsOrder:(function(){var b=[];a(".modStory_overview > .content > .section").each(function(){b.push(a(this).data("sectiontitle"))});return b.reverse()})(),initMod:function(c){mrm.util.log("[story_overview] Context: "+c);var b=this;if(c.length==0){return}if(c.hasClass("scrollerInit")&&typeof(b.scrollerInit)==="object"){b.scrollerInit.initMod(c);return}var d=mrm.util.cookie.get("modStory_browser::mode")||"ui-image-view";c.addClass(d);c.find("> .selection > a.story-mode-"+(d=="ui-list-view"?"list":"image")).addClass("active");this.arrangeElements(c);this.attachEvents(c)},attachEvents:function(d){var c=this;var b=d.find('> .selection > a[class^="story-mode-"]');b.html("");b.on("click",function(f){f.preventDefault();b.removeClass("active");var g=a(f.currentTarget);g.addClass("active");var e=a(".modStory_overview");if(g.hasClass("story-mode-list")){d.removeClass("ui-image-view");d.addClass("ui-list-view");mrm.util.cookie.set("modStory_browser::mode","ui-list-view")}else{d.removeClass("ui-list-view");d.addClass("ui-image-view");mrm.util.cookie.set("modStory_browser::mode","ui-image-view")}});this.$selects.on("change",function(){c.arrangeElements(d)})},arrangeElements:function(c){var b=this;this.$selects.each(function(){var g=a(this);var h=g.data("action");var f=g.val();switch(h){case"sectionfilter":c.find("> .content > .section").each(function(){var k=a(this);var j=f=="all"||k.data("sectiontitle")==f;k.css("display",j?"block":"none")});a(b.sectionsOrder).each(function(){var j=this.toString();var k=c.find(" > .content > .section[data-"+g.data("filterby")+'="'+j+'"]:visible');if(k){c.find(" > .content").prepend(k)}});break;case"filter":c.find(" > .content .modCnt_story_1").each(function(){var k=a(this);var j=f=="all"||k.data("carline")==f;k.parent().css("display",j?"list-item":"none")});var e=c.find("> .content > .section:not(:has(li:visible))");e.css("display","none");c.find(" > .content").append(e);break}});var d=c.find(".selection select.story-sort").val()||"publish_date";c.find(" > .content > .section:visible").each(function(){var e=this;var f=a("ul > li:visible",this).toArray();f.sort(function(h,g){var j=a(".modCnt_story_1",h).data(d)||0;var k=a(".modCnt_story_1",g).data(d)||0;return j-k});a(f).each(function(){a("> ul",e).prepend(this)});a(e).prepend(a(".hl_t",e))})}}})}(mrm.$));(function(a){mrm.cmp.story_overview=mrm.cmp.story_overview||{};mrm.cmp.story_overview.scrollerInit={initMod:function(c){var b=this;b.updateSelectBox(c);b.getDataViews(c)},updateSelectBox:function(c){var b=this;var d=window.location.hash.replace("#","");if(d.length>0){c.find(".story-filter-sectiontitle").val(d)}},mytemp:function(c,b,d){return _.template(a(b).html(),{result:d})},setBindings:function(d,c,e){var b=this;d.find(".btn_most_popular").on("click",function(f){f.preventDefault();d.find(".btn_most_popular").addClass("btn_prim").removeClass("btn_sec");d.find(".btn_most_recent").addClass("btn_sec").removeClass("btn_prim");var g=d.data("url");if(g.indexOf("most_popular")===-1){g=g.replace("most_recent","most_popular");c.render(g)}});d.find(".btn_most_recent").on("click",function(f){f.preventDefault();d.find(".btn_most_popular").addClass("btn_sec").removeClass("btn_prim");d.find(".btn_most_recent").addClass("btn_prim").removeClass("btn_sec");var g=d.data("url");if(g.indexOf("most_recent")===-1){g=g.replace("most_popular","most_recent");c.render(g)}});d.find("select").on("change",function(){c.render("");var f=d.find(".story-filter-sectiontitle").val();if(f.length>0){b.updateHash(d,f);b.updateMastheads(d,f)}});a(window).on("hashchange",function(){b.updateSelectBox(d);var f=d.find(".story-filter-sectiontitle").val();if(f.length>0){b.updateMastheads(d,f)}var g=d.data("url");c.render(g)});d.find(".modCnt_story_1").on("click",function(g){var f=a(".story-teasertext > a",this);document.location.href=f.attr("href")})},loadImage:function(b){a.each(b,function(d,c){if(!a(c).is("img")){c=a(c).find("img")}if(a(c).attr("src").indexOf("culture-")!=-1){a(c).attr("src",a(c).data("original"))}})},bindArticleClicks:function(b){b.find(".modCnt_story_1").on("click",function(d){d.preventDefault();var c=a(".story-teasertext > a",this);document.location.href=c.attr("href")})},getDataViews:function(f){var c=this;var g;var h=f.data("url");articlesLayout=Backbone.Model.extend();storiesData=Backbone.Collection.extend({model:articlesLayout,url:h,});var b=Backbone.View.extend({el:a(".content",f),render:function(l){if(l===""){l=f.data("url")}f.data("url",l);g=(f.find("select").length)?f.find("select option:selected").val():null;var j=this;var k=new storiesData();k.url=l;k.fetch({success:function(n,m){if(g=="all"||f.hasClass("allCulture")){j.configData(m.result)}else{j.specificView(m.result.categories)}}})},specificView:function(j){var m;if(g!==null){m=_.find(j,function(n){return n.catID==g})}else{m=j[0]}var l=this;var k=c.mytemp(f,"#story_category",m);l.$el.html(k);if(mrm.util.ie8()){c.ie8fix(f)}c.bindArticleClicks(f)},configData:function(j){var m=this;var l=c.mytemp(f,"#story_articles",j);m.$el.html(l);j=j.categories;var k;_.each(j,function(q,p){if(q.articles.length>3){var s=f.find('div.section[data-sectiontitle="'+q.catID+'"] ul');k={auto:false,prev:"#"+q.catID+"_prev",next:"#"+q.catID+"_next",items:{visible:3,start:0},width:980,height:"variable",pagination:{container:function(){return a('<div class="pager_wrap"><span class="pager_prevpage" id="pager_prevpage_'+q.catID+'">&lt;</span><div class="pager"></div><span class="pager_nextpage" id="pager_nextpage_'+q.catID+'">&gt;</span></div>').prependTo(a(this).parent().parent()).children(".pager")},anchorBuilder:function(v){return' <a href="#" id="page_'+q.catID+"_"+v+'" class="page_'+q.catID+'"><span>'+v+"</span></a> "}},scroll:{wipe:true,items:"page",onBefore:function(v){c.loadImage(a(this).find("li img"))},onAfter:function(v){if(!mrm.util.ie8()){a(this).css("left","0");a(this).find("li").css("margin-left","3px");a(this).find("li:first").css("margin-left","0px")}else{a(this).css("left","0");a(this).find("li:first").css("margin-left","0px").css("margin-right","0");a(this).find("li:gt(0)").css("margin-left","13px").css("margin-right","0")}}},onCreate:function(A){var z=7;var v=0;var w=7;a(this).parents(".section").addClass("jsReady");c.loadImage(a(this).find("li:lt(3) img"));a(this).bind("updatePageStatus.cfs",function(){var B=a(this).parent().parent();if(a(B).find(".pager_wrap .pager a").length>w){var G=a(this).children().length;var D=a(this).triggerHandler("currentPosition");var F=(D/Math.floor(w/2))+1;var C=Math.ceil(G/Math.floor(w/2));if(F<=Math.ceil(w/2)){a(".page_"+q.catID).show();for(var E=w+1;E<=C;E++){a("#page_"+q.catID+"_"+E).hide()}}else{if(F>C-Math.ceil(w/2)){a(".page_"+q.catID).hide();for(var E=C-Math.floor(w-1);E<=C;E++){a("#page_"+q.catID+"_"+E).show()}}else{a(".page_"+q.catID).hide();for(var E=F-Math.floor(w/2);E<=F+Math.floor(w/2);E++){a("#page_"+q.catID+"_"+E).show()}}}F===1?a(this).parents(".section").find(".pager_prevpage").addClass("inactive"):a(this).parents(".section").find(".pager_prevpage").removeClass("inactive");F===C?a(this).parents(".section").find(".pager_nextpage").addClass("inactive"):a(this).parents(".section").find(".pager_nextpage").removeClass("inactive")}else{B.find(".pager_prevpage").hide();B.find(".pager_nextpage").hide()}})}};var o=a.extend(true,{},k),u={min_move_x:30,min_move_y:30,preventDefaultEventsHorizontal:(!o.scroll.noWipeDirection||o.scroll.noWipeDirection!=="horizontal"),preventDefaultEventsVertical:(!o.scroll.noWipeDirection||o.scroll.noWipeDirection!=="vertical"),wipeLeft:function(v){s.trigger("next")},wipeRight:function(v){s.trigger("prev")}};if(a.fn.touchwipe&&o.scroll.wipe){s.touchwipe(u);o.scroll.wipe=false}a('<div class="clearfix"></div><a class="mmScrollBtn prev" id="'+q.catID+'_prev" href="#"><span>prev</span></a><a class="mmScrollBtn next" id="'+q.catID+'_next" href="#"><span>next</span></a>').insertAfter(s,f);var r=s.carouFredSel(o).css("left","0");if(mrm.util.ie8()){c.ie8fix(f)}a(s).parents(".section").find(".pager_prevpage").on("click",function(){if(!a(this).hasClass("inactive")){f.find('div.section[data-sectiontitle="'+q.catID+'"] ul').trigger("prev")}});a(s).parents(".section").find(".pager_nextpage").on("click",function(){if(!a(this).hasClass("inactive")){f.find('div.section[data-sectiontitle="'+q.catID+'"] ul').trigger("next")}})}else{var n=f.find('div.section[data-sectiontitle="'+q.catID+'"] ul li img');c.loadImage(n)}});c.bindArticleClicks(f)}});var e=new b();e.render(h);if(f.find("select").length>0){var d=f.find(".story-filter-sectiontitle").val();if(d.length>0){c.updateMastheads(f,d)}else{c.updateMastheads(f,"all")}}else{c.updateMastheads(f,"")}c.setBindings(f,e,h)},ie8fix:function(b){a(".modStory_overview.scrollerInit > .content > .section ul > li:nth-child(3n+1)").css("margin","0 13px 8px 0");a(".modStory_overview.scrollerInit > .content > .section ul > li:nth-child(3n+2)").css("margin","0 13px 8px 0");a(".modStory_overview.scrollerInit > .content > .section ul > li:nth-child(3n+3)").css("margin","0 0 8px 0")},updateHash:function(c,b){window.location.hash="#"+b},updateMastheads:function(c,b){if(b.length>0){a(".modMh_scroller_1").hide();a(".modMh_scroller_1[data-category='"+b+"']").show()}a(".modMh_1").css("max-height","604px")}}})(mrm.$);(function(a){mrm.track=mrm.track||{};a.extend(mrm.track,{story_overview:{section:"",initTrack:function(b,c){this.section=c;this.addTrackEvents(b)},addTrackEvents:function(d){var b=this,c=(mrm.util.touchDevice())?"touchstart":"click";d.on(c,".pager a",function(e){b.callOmnitureTracking(d,a(this),"pager")});d.on(c,".pager_wrap > span.pager_prevpage",function(e){b.callOmnitureTracking(d,a(this),"pager_prevpage")});d.on(c,".pager_wrap > span.pager_nextpage",function(e){b.callOmnitureTracking(d,a(this),"pager_nextpage")});d.parent().on(c,".hl_t",function(e){b.callOmnitureTracking(d,a(this),"title")});d.on(c,".mmScrollBtn.prev",function(e){b.callOmnitureTracking(d,a(this),"scroller_left")});d.on(c,".mmScrollBtn.next",function(e){b.callOmnitureTracking(d,a(this),"scroller_right")});d.on(c,".modCnt_story_1",function(e){b.callOmnitureTracking(d,a(this),"article")});d.on(c,".story-teasertext a",function(e){e.stopPropagation();b.callOmnitureTracking(d,a(this),"read_article")});if(a(".selection select").length){d.on("change",".selection select",function(e){b.callOmnitureTracking(d,a(this),"caseDropdownChange")})}d.on(c,".selection a",function(e){b.callOmnitureTracking(d,a(this),"caseStorySortToggle")});d.on(c,".content .section a h2",function(e){b.callOmnitureTracking(d,a(this),"caseCategoryTextLink")})},callOmnitureTracking:function(e,j,h){var f,d;if(typeof(Omniture_s)==="undefined"){return}var c=this,g=Omniture_s.eVar18.toLowerCase(),b=Omniture_s.pageName;switch(h){case"pager":mrm.util.tagging.omniture_tl(j,"page_toggle","o","",{pageName:b,prop27:a.trim(j.parent().parent().parent().find(".hl_t").text()),prop32:a.trim(j.parent().parent().parent().find(".hl_t").text())+":page toggle"});break;case"pager_prevpage":mrm.util.tagging.omniture_tl(j,"pager_prevpage","o","",{pageName:b,prop27:a.trim(j.parent().parent().find(".hl_t").text()),prop32:a.trim(j.parent().parent().find(".hl_t").text())+":page toggle:scroller left"});break;case"pager_nextpage":mrm.util.tagging.omniture_tl(j,"pager_nextpage","o","",{pageName:b,prop27:a.trim(j.parent().parent().find(".hl_t").text()),prop32:a.trim(j.parent().parent().find(".hl_t").text())+":page toggle:scroller right"});break;case"title":mrm.util.tagging.omniture_tl(j,j.attr("href"),"o","",{pageName:b,prop27:"content area",prop32:"content area:"+j.find(".hl_t").html()});break;case"scroller_left":mrm.util.tagging.omniture_tl(j,"scroller_left","o","",{pageName:b,prop27:j.parent().find(".hl_t").text(),prop32:j.parent().find(".hl_t").text()+":scroller left"});break;case"scroller_right":mrm.util.tagging.omniture_tl(j,"scroller_right","o","",{pageName:b,prop27:j.parent().find(".hl_t").text(),prop32:j.parent().find(".hl_t").text()+":scroller right"});break;case"article":f=j.parentsUntil(".section").parent().find(".hl_t").length>0?j.parentsUntil(".section").parent().find(".hl_t").text():"content-area";d=a.trim(j.find("h3.tt").text());mrm.util.tagging.omniture_tl(j,"article","o","",{pageName:b,prop27:f,prop32:f+":"+d});break;case"read_article":f=j.parentsUntil(".section").parent().find(".hl_t").length>0?j.parentsUntil(".section").parent().find(".hl_t").html():"content-area";d=a.trim(j.parentsUntil(".modCnt_story_1").parent().find("h3.tt").text());mrm.util.tagging.omniture_tl(j,j.attr("href"),"o","",{pageName:b,prop27:f,prop32:f+":read article:"+d});break;case"caseDropdownChange":mrm.util.tagging.omniture_tl(j,j.find("option").first().text(),"o","",{pageName:b,prop27:"filter area",prop32:"filter area:"+j.find("option:selected").text()});break;case"caseStorySortToggle":mrm.util.tagging.omniture_tl(j,j.text(),"o","",{pageName:b,prop27:"filter area",prop32:"filter area:story sort toggle:"+j.text()});break;case"caseCategoryTextLink":mrm.util.tagging.omniture_tl(j,j.text(),"o","",{pageName:b,prop27:"content area",prop32:"content area:"+j.text()});break}}}})}(mrm.$));(function(a){mrm.mod.Ts_2ll_2=mrm.mod.AbstractMod.extend({prepare:function(){var b=this;this.$ctx.find(".figure, .figure + div").equalHeights();var d=this.$ctx.find(".figure dd");var c=d.find(".mm");c.css("margin-top",(d.height()-c.height())/2)}})})(mrm.$);(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{ts_attr_1:{init:function(e){a(".modTs_attr_1 dl dt span a[cluetip-title*=' ']").addClass("cluetip_ts_attr_1");var d=a.extend({},mrm.conf.plugin.cluetip||{},{sticky:true,titleAttribute:"cluetip-title",activation:"click"});a(".cluetip_ts_attr_1").cluetipWrap(d)}}})}(mrm.$));(function(a){mrm.track=mrm.track||{};a.extend(mrm.track,{ts_btn_1:{initTrack:function(c,d){var b=(mrm.util.touchDevice())?"touchstart":"click";c.find("a").on(b,function(){var e=a(this).text();if(e.length==0){e=a(this).find("img").attr("src");e=e.substr(e.lastIndexOf("/")+1);mrm.util.trackEvent("click_cta",{section:d,linkname:"image:"+e})}else{mrm.util.trackEvent("click_cta",{section:d,linkname:"button:"+e})}})}}})}(mrm.$));(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{ts_expander_1:{init:function(b){a(".ts_expander_1").accordion({collapsible:true,autoHeight:false,header:"> div"});a(".ts_expander_1 > div").click();a(".ts_ll_1 ul li > .ts_expander_1").parent().css("margin-left","0")}}})}(mrm.$));(function(a){mrm.mod.Ts_ilike_btn_1=mrm.mod.AbstractMod.extend({options:{selector:".modTs_ilike_btn_1",},prepare:function(){var b=this;if(mrm.conf.util.sharing.socialPrivacy){b.disableTags();mrm.util.sharing.initSocialSwitches(b.$ctx)}},disableTags:function(){this.$ctx.find(".fb-like").each(function(e,b){var d=a(b);var c=d.attr("class");d.attr("class",c.replace(/(fb-like)/,mrm.conf.util.sharing.disabledProviderTag+"$1"))})}})})(mrm.$);(function(a){mrm.track=mrm.track||{};a.extend(mrm.track,{ts_ilike_btn_1:{initTrack:function(c,d){var b=(mrm.util.touchDevice())?"touchstart":"click";a(".socialSwitch",c).on(b,function(){var g=a(this).parents(".socialPrivacy").attr("class").match(/service[\w\-]*\b/)[0],e=g.replace("service-",""),f="";if(a(this).hasClass("on")){f="soc_slider_on"}else{f="soc_slider_off"}if(window.Omniture_s){mrm.util.tagging.omniture_tl(true,"social_switch","o","",{prop27:"soc_slider",prop32:Omniture_s.pageName+":"+f+":"+e})}})}}})}(mrm.$));(function(a){mrm.track=mrm.track||{};a.extend(mrm.track,{ts_img_1:{initTrack:function(c,d){var b=(mrm.util.touchDevice())?"touchstart":"click";c.find("a img").on(b,function(){var e=a(this).attr("src");if(typeof(e)!=="undefined"){e=e.substr(e.lastIndexOf("/")+1)}mrm.util.trackEvent("click_cta",{section:d,linkname:"image:"+e})})}}})}(mrm.$));(function(a){mrm.mod.Ts_img_2=mrm.mod.AbstractMod.extend({prepare:function(){var b=this;b.$ctx.hover(function(){if(b.$ctx.children("a").length>0){b.$ctx.addClass("ui-state-hover")}},function(){b.$ctx.removeClass("ui-state-hover")});mrm.util.alignTextWithinCmp(b.$ctx.children("div"))}})})(mrm.$);(function(a){mrm.track=mrm.track||{};a.extend(mrm.track,{ts_img_2:{initTrack:function(c,d){var b=(mrm.util.touchDevice())?"touchstart":"click";c.find("a img").on(b,function(){var e=a(this).attr("src");if(typeof(e)!=="undefined"){e=e.substr(e.lastIndexOf("/")+1)}mrm.util.trackEvent("click_cta",{section:d,linkname:"image:"+e})})}}})}(mrm.$));+(function(a){a.extend(mrm.cmp,{ts_inventory_1:{tpl:["06"],init:function(d){if(a(".modTs_inventory_1").length==0){return}var b=a(".modTs_inventory_1").children(".stateA").data();this.$inventory=a(".modTs_inventory_1");this.model=b.carline;this.bodyStyle=b.bodyStyle;this.year=b.year;this.setParams({url:b.url,data:{"x-bodystyle":b.bodyStyle,"x-modelyear":b.year,"x-brand":b.brand,"x-language":b.lang,"x-country":b.country,"x-zipcode":b.zip}});this.state={a:this.$inventory.children(".stateA"),b:this.$inventory.children(".stateB"),c:this.$inventory.children(".stateC"),all:this.$inventory.children()};if(this.setZip()){this.talk();a(".stateB").removeClass("hidden");a(".stateC").addClass("hidden");a(".stateA").addClass("hidden")}else{a(".stateB").removeClass("hidden");a(".stateC").addClass("hidden");a(".stateA").addClass("hidden")}this.listeners()},params:{},setParams:function(b){for(var c in b){this.params[c]=b[c]}},toggle:function(){var b=this;return{hide:function(){b.state.all.addClass("hidden")},show:function(c){this.hide();b.state[c].removeClass("hidden")}}},results:function(d){var b=this;if(d===null||typeof d.count!=="number"){a(".stateA").addClass("hidden");a(".stateB").addClass("hidden");a(".stateC").removeClass("hidden");return}if(d.count===0){a(".stateA").addClass("hidden");a(".stateB").addClass("hidden");a(".stateC").removeClass("hidden");return}this.$inventory.children().addClass("hidden");this.state.a.find(".count").html(d.count>100?"100+":d.count);a(".stateA").removeClass("hidden");a(".stateB").addClass("hidden");a(".stateC").addClass("hidden")},setZip:function(){if(typeof mrm.cmp.zc==="undefined"){return false}var b=mrm.cmp.zc.cookie.get();if(b===null){b=mrm.util.cookie.get("cookie_customer_location");if(b===null){return false}}b=b.substr(b.lastIndexOf('"zipcode":'));b=b.replace(/"/g,"").replace(/:/g,"").replace(/{/g,"").replace(/}/g,"").replace(/zipcode/g,"");return this.params.data["x-zipcode"]=b},talk:function(){var b=this;try{mrm.cmp.zc.validate(b.params.data["x-zipcode"],function(){},false)}catch(c){a(".stateA").addClass("hidden");a(".stateB").addClass("hidden");a(".stateC").removeClass("hidden");return}b.state.c.find("dd").html("(ZIP code "+b.params.data["x-zipcode"]+")");a.ajax({type:"GET",url:b.params.url,data:b.params.data,dataType:"json",cache:false,success:function(d){b.results(d)},error:function(){a(".stateA").addClass("hidden");a(".stateB").addClass("hidden");a(".stateC").removeClass("hidden")}})},listeners:function(){var b=this;b.state.a.find("a").on("click",function(d){d.preventDefault();var c=getGmdsCmsLinks();c.openCmsPage(GmdsCmsLinks.SEARCH_INVENTORY,"x-zipcode="+b.params.data["x-zipcode"],b.model,b.bodyStyle,b.year.toString())});b.state.b.find("form").on("submit",function(c){c.preventDefault();b.params.data["x-zipcode"]=b.state.b.find("input").val();b.talk()});b.state.b.find(".ull a").on("click",function(c){c.preventDefault();b.state.b.find("form").trigger("submit")});b.state.c.find(".ull a").on("click",function(c){c.preventDefault();a(".stateA").addClass("hidden");a(".stateB").removeClass("hidden");a(".stateC").addClass("hidden")})}}})})(mrm.$);mrm.track.ts_ln_1=function(a){function b(c,d){c.children("a").on("click",function(){var e=a(this).find("img").attr("src");if(typeof(e)!=="undefined"){e=e.substr(e.lastIndexOf("/")+1)}mrm.util.trackEvent("click_cta",{section:d,linkname:"image:"+e})});c.find("h3 a").on("click",function(){var e=a(this).find("img").attr("src");if(typeof(e)!=="undefined"){e=e.substr(e.lastIndexOf("/")+1)}mrm.util.trackEvent("click_cta",{section:d,linkname:"image:"+e})});c.find("div > a").on("click",function(){var e=a(this).text();mrm.util.trackEvent("click_cta",{section:d,linkname:"link:"+e})})}return{initTrack:b}}(mrm.$);mrm.cmp.ts_prefvehicle_1=function(f){var h;var c;var j={};function d(q){h=q;b(k);f.eventDispatcher.on("vehicle_config_load",k);f.eventDispatcher.on("vehicle_config_load_empty",k);f.eventDispatcher.on("vehicle_config_change",k);k()}function k(r,q){c=mrm.util.vehicleConfig.getUserVehicle();if(typeof c!=="undefined"&&typeof mrm.util.vehicleConfig.isConfigured()!=="undefined"){if(c.carline==="null"||c.carline===null){p()}else{if(mrm.util.vehicleConfig.isConfigured()){l()}else{g()}}}else{p()}}function p(){h.find(".selected, .built").hide();h.find(".default").show()}function g(){var q=h.find(".selected");n(q);e(q);a(q);o(q);h.find(".default, .built").hide();h.find(".selected").show()}function l(){var q=h.find(".built");n(q);e(q);a(q);o(q);h.find(".default, .built").hide();h.find(".selected").show();h.find(".default, .selected").hide();q.show()}function a(r){var s=m(c.year,c.carline,c.bodystyle);if(s){var q=(s.carlineText||"").replace(/\<br.*\s/gi,"");var u=r.find("div > a").clone();r.find("div > a").addClass("btn_sec");r.find("h3").html(u.removeClass("btn_sec").html(q+c.carline).get(0))}}function o(r){var s=m(c.year,c.carline,c.bodystyle);var q=mrm.conf.locale||{};var u=0;q.numberFormatting.separator.decimals=r.find("dd.tx2").data("currency-seperator")||".";q.numberFormatting.separator.thousands=r.find("dd.tx2").data("currency-seperator")||",";q.numberFormatting.currency.before=true;q.numberFormatting.currency.symbol=r.find("dd.tx2").data("currency")||"$";try{var u=(!_.isEmpty(c.price))?c.price:s.price}catch(w){mrm.util.log(w)}u=(u+"").replace(/\D/g,"");if(s!==undefined&&mrm.util.locale.getCountry().toLowerCase()==="ca"){var z=r.find("dd.tx2");if(s.priceDisclaimer!==undefined&&s.priceDisclaimer!==""){z.html(mrm.util.numberFormat(u,0,true).replace(" ","")+s.priceDisclaimer).addClass("priceEh")}else{z.html(mrm.util.numberFormat(u,0,true).replace(" ",""))}if(s.regionalPricingString!==""){z.addClass("priceEh");var v=z.parent();v.addClass("dynPriceEh");v.data(s.regionalPricingString)}}else{r.find("dd.tx2").html(mrm.util.numberFormat(u,0,true).replace(" ",""))}}function n(r){var u=r.find("img.mm");var q=r.data("cgipath");var w=r.data("country");var s=c.year;var v="";v+=window.location.protocol;v+=q;v+="?i="+s;v+="/"+c.mmc;v+="/"+c.mmc+"__"+c.peg;v+="/"+(c.configState?c.color:c.extColor);v+="gmds1";v+=".jpg";v+="&v=deg01";v+="&std=true&country=";v+=w;u.attr("src",v)}function e(v){var u=v.find("a");var q=new GmdsCmsLinks();var r=c.carline;var z=c.bodystyle;var w=c.year;var s=q.getCmsPageURL(GmdsCmsLinks.BUILD_YOUR_OWN,undefined,r,z,w);u.attr("href",s)}function b(r){var q={};f.getJSON("/bbcdata.json").done(function(s){q=s}).fail(function(s){mrm.util.log("error")}).always(function(){j=f.extend(true,{"2014/verano/verano":{carlineText:"<span class='Orange' style='color: #F26522;' textcolor='Orange'>2014</span>",smallImage:"/content/dam/Buick/north_america/usa/nscwebsite/en/home/bbc_library/2014_bbc_libary/verano/01_images/2014-buick-verano-baseball-card-carbon-black-metallic-148x83.png",mediumImage:"/content/dam/Buick/north_america/usa/nscwebsite/en/home/bbc_library/2014_bbc_libary/verano/01_images/2014-buick-verano-baseball-card-carbon-black-metallic-227x128.png",largeImage:"/content/dam/Buick/north_america/usa/nscwebsite/en/home/bbc_library/2014_bbc_libary/verano/01_images/2014-buick-verano-baseball-card-carbon-black-metallic-464x261.png"},"2014/lacrosse/lacrosse":{carlineText:"<span class='Orange' style='color: #F26522;' textcolor='Orange'>2014</span>",smallImage:"/content/dam/Buick/north_america/usa/nscwebsite/en/home/bbc_library/2014_bbc_libary/lacrosse/01_images/2014-buick-lacrosse-baseball-card-quicksilver-metallic-148x83.png",mediumImage:"/content/dam/Buick/north_america/usa/nscwebsite/en/home/bbc_library/2014_bbc_libary/lacrosse/01_images/2014-buick-lacrosse-baseball-card-quicksilver-metallic-227x128.png",largeImage:"/content/dam/Buick/north_america/usa/nscwebsite/en/home/bbc_library/2014_bbc_libary/lacrosse/01_images/2014-buick-lacrosse-baseball-card-quicksilver-metallic-464x261.png"},"2014/encore/encore":{carlineText:"<span class='Orange' style='color: #F26522;' textcolor='Orange'>2014</span>",smallImage:"/content/dam/Buick/north_america/usa/nscwebsite/en/home/bbc_library/2014_bbc_libary/encore/01_images/2014-buick-encore-baseball-card-cocoa-silver-148x83.png",mediumImage:"/content/dam/Buick/north_america/usa/nscwebsite/en/home/bbc_library/2014_bbc_libary/encore/01_images/2014-buick-encore-baseball-card-cocoa-silver-227x128.png",largeImage:"/content/dam/Buick/north_america/usa/nscwebsite/en/home/bbc_library/2014_bbc_libary/encore/01_images/2014-buick-encore-baseball-card-cocoa-silver-464x261.png"},"2013/verano/verano":{carlineText:"<span class='Orange' style='color: #F26522;' textcolor='Orange'>2013</span>",smallImage:"",mediumImage:"",largeImage:""},"2013/lacrosse/lacrosse":{carlineText:"<span textcolor='Orange' style='color: #F26522;' class='Orange'>2013</span>",smallImage:"",mediumImage:"",largeImage:""},"2013/regal/regal":{carlineText:"<span textcolor='Orange' style='color: #F26522;' class='Orange'>2013</span>",smallImage:"",mediumImage:"",largeImage:""},"2013/encore/encore":{carlineText:"<span class='Orange' style='color: #F26522;' textcolor='Orange'>2013</span>",smallImage:"",mediumImage:"",largeImage:""},"2013/enclave/enclave":{carlineText:"<span class='Orange' style='color: #F26522;' textcolor='Orange'>2013</span>",smallImage:"",mediumImage:"",largeImage:""},"2014/regal/regal":{carlineText:"<span class='Orange' style='color: #F26522;' textcolor='Orange'>2014</span>",smallImage:"/content/dam/Buick/north_america/usa/nscwebsite/en/home/bbc_library/2014_bbc_libary/regal/01_images/2014-buick-regal-baseball-card-crystal-red-tintcoat-148x83.png",mediumImage:"/content/dam/Buick/north_america/usa/nscwebsite/en/home/bbc_library/2014_bbc_libary/regal/01_images/2014-buick-regal-baseball-card-crystal-red-tintcoat-227x128.png",largeImage:"/content/dam/Buick/north_america/usa/nscwebsite/en/home/bbc_library/2014_bbc_libary/regal/01_images/2014-buick-regal-baseball-card-crystal-red-tintcoat-464x261.png"},"2014/enclave/enclave":{carlineText:"<span class='Orange' style='color: #F26522;' textcolor='Orange'>2014</span>",smallImage:"/content/dam/Buick/north_america/usa/nscwebsite/en/home/bbc_library/2014_bbc_libary/enclave/01_images/2014-buick-enclave-baseball-card-champagne-silver-148x83.png",mediumImage:"/content/dam/Buick/north_america/usa/nscwebsite/en/home/bbc_library/2014_bbc_libary/enclave/01_images/2014-buick-enclave-baseball-card-champagne-silver-227x128.png",largeImage:"/content/dam/Buick/north_america/usa/nscwebsite/en/home/bbc_library/2014_bbc_libary/enclave/01_images/2014-buick-enclave-baseball-card-champagne-silver-464x261.png"}},q);if(f.isFunction(r)){r()}})}function m(u,q,s){var r=u+"/"+q+"/"+s;return j[r]}return{initMod:d}}(mrm.$);+(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{ts_smf_2:{tpl:["12","13"],init:function(){if(a(".modTs_smf_2").length<1){return}var b={fb:a(".modTs_smf_2").children(".service-facebook"),yt:a(".modTs_smf_2").children(".service-youtube")};if(b.fb.length){this.fb.init({user:b.fb.data("user").replace(/^.+.com\/()/i,"$1").replace(/[^a-zA-Z 0-9]+/g,""),count:b.fb.data("count")})}if(b.yt.length){this.yt.init({user:b.yt.data("user").replace(/^.+.com\/()/i,"$1").replace(/[^a-zA-Z 0-9]+/g,""),count:b.yt.data("count")})}},social:{relative_time:function(b){var d=(arguments.length>1)?arguments[1]:new Date(),e=parseInt((d.getTime()-b)/1000,10),c=e<1?"just now":e<60?e+" seconds ago":e<120?"about a minute ago":e<(45*60)?"about "+(parseInt(e/60,10)).toString()+" minutes ago":e<(2*60*60)?"about an hour ago":e<(24*60*60)?"about "+(parseInt(e/3600,10)).toString()+" hours ago":e<(48*60*60)?"about a day ago":"about "+(parseInt(e/86400,10)).toString()+" days ago";return c},parse_date:function(b){var c=Date.parse(b.replace(/^([a-z]{3})( [a-z]{3} \d\d?)(.*)( \d{4})$/i,"$1,$2$4$3"));if(isNaN(c)){c=Date.parse(new Date(b.replace(/^(\d{4})-(\d{2})-(\d{2})T([\d:]*)(.*)/,"$1/$2/$3 $4$5")))}return c}},fb:{getLastFeed:function(){if(typeof FB!=="object"){window.setTimeout(function(){mrm.cmp.ts_smf_2.fb.getLastFeed()},500);return}var f=this,g=mrm.cmp.ts_smf_2.social,d=f.feed.clone(),e=1,c=d.find("p"),b=f.feed.parent();FB.api("/"+f.user+"/?access_token=140461456010309%7CB1UHnRTl3K2zvcUPzm4QRLbBt6I",function(h){f.pageName=h.name;f.thumbnail=(typeof(h.picture)!="undefined")?h.picture.replace(/_s.jpg/,"_q.jpg"):"https://graph.facebook.com/"+f.user+"/picture";f.tempThumb=d.children(".thumbnail");f.tempThumb.find("a").attr("href","http://www.facebook.com/"+f.user);a(".modTs_smf_2 .service-facebook dt a").attr("href","http://www.facebook.com/"+f.user);f.tempThumb.find("img").attr("src",f.thumbnail).attr("height",50).attr("width",50)});FB.api("/"+f.user+"/posts/?access_token=140461456010309%7CB1UHnRTl3K2zvcUPzm4QRLbBt6I",function(h){b.empty();a.each(h.data,function(j,k){if(k.from.name.toLowerCase()===f.pageName.toLowerCase()&&typeof k.message!=="undefined"){c.html('<a href="http://www.facebook.com/'+f.user+'">'+f.pageName+"</a> "+k.message+'<span class="time">'+g.relative_time(g.parse_date(k.created_time))+"<span>");b.append(d.wrap("<p />").parent().html());if(e++===f.count){return false}}});if(e===1){c.html("Last "+f.pageName+" post not retrieved.");b.append(d)}})},init:function(b){this.feed=a(".modTs_smf_2").children(".service-facebook").find(".facebook-feed");this.user=b.user;this.count=Math.abs(b.count)>10?10:Math.abs(b.count);mrm.conf.util.sharing.facebookAppId="140461456010309";mrm.util.sharing.loadFacebook(mrm.cmp.ts_smf_2.fb.getLastFeed())}},yt:{user:"",addCommas:function(c){c+="";x=c.split(".");x1=x[0];x2=x.length>1?"."+x[1]:"";var b=/(\d+)(\d{3})/;while(b.test(x1)){x1=x1.replace(b,"$1,$2")}return x1+x2},secondsToTime:function(f){var g=~~(f/(60*60)),d=f%(60*60),c=~~(d/60),k=d%60,j=-~(k),e=(g===0)?"":g+":",b=(c===0&&g===0)?"00:":((c<10&&g>0)?"0"+c:c)+":",l=(j==="")?"00":((j<10)?"0"+j:j);return e+b+l},loadVideo:function(e){if(this.counter++===this.count){this.elem.empty().append(this.stories);return}var b=this,f=e.title,d=e.contentSnippet,c=e.link,g=e.link.split(".com/watch?v=")[1].split("&")[0];a.ajax({url:"//gdata.youtube.com/feeds/api/videos/"+g+"?v=2&alt=jsonc",cache:false,dataType:"jsonp",success:function(h){b.template.children(".thumbnail").children("a").attr("href",c);b.template.children(".thumbnail").children("a").css("background-image","url('http://img.youtube.com/vi/"+g+"/2.jpg')");b.template.children(".thumbnail").find("span").html(b.secondsToTime(h.data.duration));b.template.children(".feed-item").html('<a href="'+c+'" target="_blank"><strong>'+f+"</strong></a><br />by "+b.user+'<br /><span class="video-views">'+b.addCommas(h.data.viewCount)+" views</span>");b.stories+=b.template[0].outerHTML;if(b.counter<=b.count){b.loadVideo(b.feeds.entries[b.counter])}}})},load:function(){var b=this;b.template=b.elem.clone(),b.stories="";b.counter=0;a.jGFeed("https://gdata.youtube.com/feeds/api/users/"+b.user+"/uploads",function(c){b.feeds=c;b.loadVideo(b.feeds.entries[0])},b.count)},init:function(b){(function(c){c.extend({jGFeed:function(g,d,f,h){if(g==null){return false}var e="http://ajax.googleapis.com/ajax/services/feed/load?v=1.0&callback=?&q="+g;if(f!=null){e+="&num="+f}if(h!=null){e+="&key="+h}c.getJSON(e,function(j){if(typeof d=="function"){d.call(this,j.responseData.feed)}else{return false}})}})})(jQuery);this.count=b.count||1;this.elem=a(".modTs_smf_2").children(".service-youtube").children("dd").children("div");this.user=b.user||"chevrolet";a(".modTs_smf_2 .service-youtube dt a").attr("href","http://www.youtube.com/"+this.user);this.load()}}}})})(mrm.$);(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{ts_story_1:{init:function(b){mrm.util.log("[story_browser] Context: "+b);a(".modTs_story_1 a").removeAttr("onclick")}}})}(mrm.$));(function(a){mrm.mod.Ut_cookie_privacy_1=mrm.mod.AbstractMod.extend({events:{"click a.deny":"onDeny","click a.allow":"onAllow","click a.toggle":"onToggle"},options:{noUserConsentMode:false},prepare:function(){var b=this;b.options.noUserConsentMode=b.$ctx.hasClass("noUserConsent");if(!mrm.util.cookie.cookiesEnabled()){return}if(mrm.util.cookie.checkSilentConsent(b.options.noUserConsentMode)){b.$ctx.addClass("ui-state-minimized")}var c=mrm.util.cookie.getConfirmedTrackingProvider();if(!b.options.noUserConsentMode&&c!==null){if(c.length>0){this.$ctx.addClass("ui-helper-hidden")}else{this.$ctx.addClass("ui-state-minimized");this.$ctx.find("a.deny").addClass("ui-state-active")}}this.$ctx.addClass("jsReady");mrm.util.cookie.setPrivacyShownFlag()},onDeny:function(b){b.preventDefault();mrm.util.cookie.denyTrackingProvider();this.$ctx.addClass("ui-state-minimized");this.$ctx.find("a.deny").addClass("ui-state-active")},onAllow:function(b){b.preventDefault();mrm.util.cookie.allowTrackingProvider();this.$ctx.addClass("ui-helper-hidden");this.$ctx.find("a.allow").addClass("ui-state-active")},onToggle:function(b){b.preventDefault();this.$ctx.toggleClass("ui-state-minimized")}})})(mrm.$);(function(a){mrm.mod.Ut_ln_1=mrm.mod.AbstractMod.extend({prepare:function(){var b=this;b.$ctx.find("a.print").on("click.utln1",function(c){c.preventDefault();mrm.util.print()})}})})(mrm.$);(function(a){mrm.track=mrm.track||{};a.extend(mrm.track,{ut_ln_1:{initTrack:function(c,d){var b=(mrm.util.touchDevice())?"touchstart":"click";c.find("a").on(b,function(){var e=a(this).text();mrm.util.trackEvent("click_cta",{section:d,linkname:e})})}}})}(mrm.$));mrm.util.ut_postal_1=function(a){_processPostal=function(b){if(b){b=b.toUpperCase();while(b.length<6){b+="*"}a(".postalCodeDisplay").html(b);var d="ONTARIO";if(b.match("^T")!==null){d="ALBERTA"}else{if(b.match("^V")!==null){d="BRITISH_COLUMBIA"}else{if(b.match("^R")!==null){d="MANITOBA"}else{if(b.match("^E")!==null){d="NEW_BRUNSWICK"}else{if(b.match("^A")!==null){d="NEW_FOUNDLAND_AND_LABRADOR"}else{if(b.match("^X")!==null){d="NORTHWEST_TERRITORIES"}else{if(b.match("^B")!==null){d="NOVA_SCOTIA"}else{if(b.match("^X")!==null){d="NUNAVUT"}else{if(b.match("^[PKLMN]")!==null){d="ONTARIO"}else{if(b.match("^C")!==null){d="PRINCE_EDWARD_ISLAND"}else{if(b.match("^[JGH]")!==null){d="QUEBEC"}else{if(b.match("^S")!==null){d="SASKATCHEWAN"}else{if(b.match("^Y")!==null){d="YUKON"}}}}}}}}}}}}}mrm.util.locale.region=d;a('a[href*="postalCode"]').each(function(){a(this).attr("href",a(this).attr("href").replace(/postalCode=[^&]+/,"postalCode="+b.replace(/\*/g,"")))});a(".ts_attr_c1_dynPriceEh").each(function(){var e=a(this);var f=e.data();if(f!=undefined&&!mrm.$.isEmptyObject(f)&&f[d]!=undefined){a(".ts_attr_c1_priceEh").html(f[d].formattedPrice);a(".feeDisclaimerText").html(f[d].feeDisclaimer);a(".cashCreditText").html(f[d].cashCreditDisclaimer);a(".ownerCashText").html(f[d].ownerCashDisclaimer)}});a(".dynPriceEh").each(function(){var e=a(this);var g;var h=e.parents(".modCnt_tbl_fs_1").length?true:false;var f=e.parents(".modCnt_tbl_fs_2").length?true:false;var j=e.parents(".modMm_visualizer_1").length?true:false;if(j){g=e.data("Regions");a.each(e.find("li a"),function(){var l=a(this);var m=l.attr("id");if(g!=undefined&&!a.isEmptyObject(g)&&g[m]!=undefined){l.attr("data-cost",g[m][d].unFormattedPrice);l.data("cost",g[m][d].unFormattedPrice);l.parent().find("#"+m+"_price").html(g[m][d].formattedPrice+g[m][d].priceDisclaimer);a(".modMm_visualizer_1 .rp").html(a(g[m][d].priceDisclaimer).html())}});mrm.cmp.mm_visualizer_1.updateVehicleCaption(a("div.mod.modMm_visualizer_1.mode_standard"))}else{if(h){g=a(".tbl").data();var k=e.attr("id");if(g!=undefined&&!a.isEmptyObject(g)&&g[k]!=undefined){e.find(".priceEh").html(g[k][d].formattedPrice);e.find("#feeDisclaimer").html(g[k][d].feeDisclaimer);e.find("#cashCreditDisclaimer").html(g[k][d].cashCreditDisclaimer);e.find("#ownerCashDisclaimer").html(g[k][d].ownerCashDisclaimer)}}else{if(f){g=a("#featuresDiv").data();if(g!=undefined&&!a.isEmptyObject(g)&&g.Regions!=undefined&&!e.hasClass("ui-helper-hidden")){var k=e.attr("data-seriescode");e.find(".priceEh").html(g.Regions[k][d].formattedPrice);e.find(".feeText").html(g.Regions[k][d].feeDisclaimer);e.find(".cashCredit").html(g.Regions[k][d].cashCreditDisclaimer);e.find(".ownerCash").html(g.Regions[k][d].ownerCashDisclaimer)}}else{g=e.data();if(g!=undefined&&!a.isEmptyObject(g)&&g[d]!=undefined){e.find(".priceEh").html(g[d].formattedPrice);e.find("#feeDisclaimer").html(g[d].feeDisclaimer);e.find("#cashCreditDisclaimer").html(g[d].cashCreditDisclaimer);e.find("#ownerCashDisclaimer").html(g[d].ownerCashDisclaimer)}}}}});var c=a.Event("newRegionEh",{region:d});a("body").trigger(c)}};a("body").on("newClippedRegionEh",function(c){var b=c.postalCode;b=b.toUpperCase();while(b.length<6){b+="*"}mrm.util.ut_postal_1.processPostal(b)});_init=function(){if(mrm.util.locale.getCountry().toLowerCase()==="ca"){a("body").on("click",".postalPrompt",function(f){var d=a(this).parent();if(d.find(".postalInput").is(":visible")&&!a(f.target).is(".postalInput, .postalInput *")){d.find(".postalInput").hide();d.find(".postalPrompt").show();a(document).off("mousedown.postalInput");a(document).off("keypress.k13")}else{d.find(".postalInput").show(50,function(){a(document).on("click.postalCodeBlur",function(g){if(d.find(".postalInput").is(":visible")&&!a(g.target).is(".postalInput, .postalInput *")){d.find(".postalInput").hide();d.find(".postalError").hide();d.find(".postalPrompt").show();a(document).off("click.postalCodeBlur");a(document).off("mousedown.postalInput");a(document).off("keypress.k13")}})});d.find(".postalPrompt").hide();d.find(".postalText").focus().val("")}d.find(".postalInput").find("button").on("mousedown.postalInput",function(h){var g=d.find(".postalText").val().toUpperCase();g=g.replace(/\s+/g,"");c(g)});d.find(".postalText").on("keypress.k13",function(g){var e=(g.keyCode?g.keyCode:g.which);if(e=="13"){var h=d.find(".postalText").val().toUpperCase();h=h.replace(/\s+/g,"");c(h)}});function c(e){if(mrm.util.location.setLocation(e)===false){d.find(".postalError").show()}else{d.find(".postalInput").hide();d.find(".postalError").hide();d.find(".postalPrompt").show();a(document).off("click.postalCodeBlur");a(document).off("mousedown.postalInput");a(document).off("keypress.k13");mrm.util.location.setLocation(e);while(e.length<6){e+="*"}mrm.util.ut_postal_1.processPostal(e)}}})}var b=mrm.util.location.getPostalCode();mrm.util.ut_postal_1.processPostal(b)};return{init:_init,processPostal:_processPostal}}(mrm.$);(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{ut_zip_1:{init:function(g){var d=a(".ut_zip_1");var b=d.find("input");if(!d.length){return}d.find("form").attr("novalidate","novalidate");if(mrm.util.cookie.get("cookie_customer_location")!==undefined&&mrm.util.cookie.get("cookie_customer_location")!==null){var e=a.parseJSON(mrm.util.cookie.get("cookie_customer_location"));var f=e.zipcode;b.attr("value",f)}mrm.cmp.ut_zip_1.listeners(b)},postal_validate:function(b){var e=a("html").attr("lang");if(e==="en-US"&&(typeof(b*1)==="number")){var d=false;try{mrm.cmp.zc.validate(b,function(){},false);var d=true}catch(c){var d=false;mrm.util.log("error "+c.message)}if(d){mrm.util.cookie.set("cookie_customer_location",'{"zipcode":"'+b+'"}',{json:true})}}else{mrm.util.cookie.set("cookie_customer_location",'{"zipcode":"'+b+'"}',{json:true})}},listeners:function(c){var b=c.val();var d=c.css("borderColor");c.on("focus",function(e){var f=a(this);f.css({borderColor:d});if(f.val()===b){f.val("")}}).on("blur",function(e){var f=a(this);if(f.val()===""){f.val(b)}});c.closest("form").on("submit",function(e){var h=a(e.target).find("input");var f=h.val();if(f){if(h.attr("pattern")){var g=new RegExp(h.attr("pattern"));if(g.test(f)){mrm.cmp.ut_zip_1.postal_validate(f);return}else{e.preventDefault();h.parents("fieldset").find("label").not(".postal_error").addClass("hidden");h.parents("fieldset").find(".postal_error").removeClass("hidden");h.css({borderColor:"#ff0000"});return}}mrm.cmp.ut_zip_1.postal_validate(f)}else{e.preventDefault();h.parents("fieldset").find("label").not(".postal_error").addClass("hidden");h.parents("fieldset").find(".postal_error").removeClass("hidden");h.css({borderColor:"#ff0000"})}})}}})}(mrm.$));(function(a){mrm.track=mrm.track||{};a.extend(mrm.track,{Vi_1:{initTrack:function(c,d){var b=(mrm.util.touchDevice())?"touchstart":"click";c.find("h3.vt").on(b,function(){var e=a.trim(a(this).text());mrm.util.trackEvent("click_cta",{section:d,linkname:"link:"+e})});c.find("a > img.mm").on(b,function(){var e=a(this).attr("src");if(typeof(e)!=="undefined"){e=e.substr(e.lastIndexOf("/")+1)}mrm.util.trackEvent("click_cta",{section:d,linkname:"image:"+e})});c.find(".further a").on(b,function(){var e=a.trim(a(this).text());if(a(this).hasClass("btn_prim")==true){e="button:"+e}else{e="link:"+e}mrm.util.trackEvent("click_cta",{section:d,linkname:e})});c.find(".further ul li a").on(b,function(){var e=a.trim(a(this).text());mrm.util.trackEvent("click_cta",{section:d,linkname:"link:"+e})});c.find(".ts_ln_2").on(b,function(){var e=a.trim(a(this).text());mrm.util.trackEvent("click_cta",{section:d,linkname:"link:"+e})})}}})}(mrm.$));(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{vi_2:{init:function(e){a(".vi_2 dl dd a[cluetip-title*=' ']").addClass("cluetip_cnt_well_1");var d=a.extend({},mrm.conf.plugin.cluetip||{},{sticky:true,titleAttribute:"cluetip-title",activation:"click"});a(".cluetip_cnt_well_1").cluetipWrap(d)}}})}(mrm.$));(function(a){mrm.track=mrm.track||{};a.extend(mrm.track,{vi_2:{initTrack:function(c,d){var b=(mrm.util.touchDevice())?"touchstart":"click";c.find("div.further a.btn_prim.shppngLnk").on(b,function(){var e=a(this).text();mrm.util.trackEvent("click_cta",{section:d,linkname:"baseball card:button:"+e})});c.find("div.further ul.ll .shppngLnk").on(b,function(){var e=a(this).text();mrm.util.trackEvent("click_cta",{section:d,linkname:"baseball card:link:"+e})})}}})}(mrm.$));(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{vi_3:{initMod:function(c){var b=a.extend({},mrm.conf.cmp.vi_3,{label:{}});if(mrm.lbl.cmp&&mrm.lbl.cmp.vi_3){if(mrm.lbl.cmp.vi_3.textIndicator){b.label.textIndicator=mrm.lbl.cmp.vi_3.textIndicator}if(mrm.lbl.cmp.vi_3.images){b.label.images=mrm.lbl.cmp.vi_3.images}}if(c.has(".leftColumn").length){c.find(".leftColumn").fancyCarousel(b)}else{c.fancyCarousel(b)}}}})}(mrm.$));(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{vi_3:{init:function(e){a(".modVi_3 div dl dd a[cluetip-title*=' ']").addClass("cluetip_vi_3");var d=a.extend({},mrm.conf.plugin.cluetip||{},{sticky:true,titleAttribute:"cluetip-title",activation:"click"});a(".cluetip_vi_3").cluetipWrap(d)}}})}(mrm.$));(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{vi_7:{init:function(f){mrm.util.log("[mrm.cmp.vi_7] Context: "+f);if(a(".modVi_7").length==0){return}var b=a.extend(true,{},mrm.conf.plugin.cluetip,{prepareTitleAttr:true});var d=a(".modTs_attr_1 > figure > .img",".modVi_7");(d).cluetipWrap(b);a(".modVi_7 dl dd a[cluetip-title*=' ']").addClass("cluetip_vi_7");var e=a.extend({},mrm.conf.plugin.cluetip||{},{sticky:true,titleAttribute:"cluetip-title",activation:"click"});a(".cluetip_vi_7").cluetipWrap(e)}}})}(mrm.$));(function(a){a(".modVi_7 .further a").each(function(){if(a(this).index()>0){if(a(this).is(":last-child")){a(this).removeClass("btn_prim").addClass("btn_sec")}}})})(mrm.$);(function(a){mrm.mod.Vi_complist_1=mrm.mod.AbstractMod.extend({$placeholder:a(),$inner:a(),$addRemaining:a(),$compare:a(),listItems:[],slotManager:[],collapsed:false,isSticky:false,activeIds:null,entryTemplate:null,prepare:function(){var b=this;b.listItems=_.map(b.$ctx.find("ul > li"),function(c){return a(c)},b);b.$inner=b.$ctx.find(".inner");b.$placeholder=a('<div class="placeholder"></div>');b.$ctx.append(b.$placeholder.hide());b.$addRemaining=b.$inner.find(".addRemaining");b.$compare=b.$inner.find(".compare");b.entryTemplate=Handlebars.compile(b.$ctx.find("script.prototype.entry").html());b.slotManager=new mrm.util.SlotManager(b.listItems.length);b.setBindings();b.updateCompareButton()},setBindings:function(){var b=this;a(window).on("scroll",_.throttle(a.proxy(b.onScroll,b),100));b.$inner.find(".toggle").on("click",a.proxy(b.toggleViewMode,b));b.$compare.on("click",a.proxy(function(c){c.preventDefault();if(b.slotManager.length()>1){a.eventDispatcher.trigger("HMC_changeMode",{mode:"compare"})}},b));b.$addRemaining.on("click",a.proxy(function(){a.eventDispatcher.trigger("HMC_clearAll");a.eventDispatcher.trigger("HMC_addItem",{items:b.activeIds})},b));b.$inner.find("ul").on("click","a.remove",a.proxy(function(c){c.preventDefault();a.eventDispatcher.trigger("HMC_removeItem",{items:[a(c.target).data("id")]})},b));a.eventDispatcher.on("HMC_changeMode",a.proxy(function(c,d){b.$ctx.toggle(d.mode==="choose")},b));a.eventDispatcher.on("HMC_update",a.proxy(function(c,d){b.onScroll();b.$addRemaining.toggle(d.activeIds.length<4);b.activeIds=d.activeIds},b));a.eventDispatcher.on("HMC_addItem",a.proxy(b.onAddItem,b));a.eventDispatcher.on("HMC_removeItem",a.proxy(b.onRemoveItem,b));a.eventDispatcher.on("HMC_showList",a.proxy(function(){b.expand()},b));a.eventDispatcher.on("HMC_clearAll",a.proxy(function(c,d){_.each(b.listItems,function(e){e.html("")},b);b.slotManager.clearAll()},b))},onScroll:function(){var c=this;var b=a(window).scrollTop()+a(window).height();if(!c.isSticky&&b<c.$ctx.offset().top){c.$ctx.addClass("sticky");c.isSticky=true;c.$placeholder.css("height",c.$inner.outerHeight(true)).show();c.collapse()}if(c.isSticky&&b>(c.$ctx.offset().top+c.$inner.height())){c.$ctx.removeClass("sticky");c.isSticky=false;c.$placeholder.hide();c.expand()}},onAddItem:function(c,d){var b=this;_.each(d.items,function(g){var f=b.slotManager.add(g);if(f>=0){var e=_.extend({id:g},mrm.data.vi_complist_1[g]);b.listItems[f].html(b.entryTemplate(e))}},b);b.updateCompareButton();b.expand();a(b.listItems).each(function(){a(b).height("auto")});a(b.listItems).equalHeights()},onRemoveItem:function(c,d){var b=this;_.each(d.items,function(f){var e=b.slotManager.remove(f);a(b.listItems[e]).html("")},b);b.updateCompareButton()},toggleViewMode:function(c){var b=this;if(c){c.preventDefault()}if(b.collapsed){b.expand()}else{b.collapse()}b.$placeholder.css("height",b.$inner.outerHeight(true))},updateCompareButton:function(){var b=this;b.$compare.toggleClass("ui-state-disabled",b.slotManager.length()<2)},expand:function(){var b=this;b.collapsed=false;b.$ctx.removeClass("collapse")},collapse:function(){var b=this;b.collapsed=true;b.$ctx.addClass("collapse")}})})(mrm.$);(function(a){mrm.mod.Vi_group_1=mrm.mod.AbstractMod.extend({prepare:function(){this.$ctx.find(".modVi_1 > dl.tx_price").equalHeights()}})})(mrm.$);(function(a){mrm.mod.Vi_group_selection_1=mrm.mod.AbstractMod.extend({prepare:function(){var c=this.$ctx.find(".modVi_1");for(var b=0;b<c.length;b+=6){c.slice(b,b+6).equalHeights()}}})})(mrm.$);(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{vi_hmc_1:{init:function(e){a(".modVi_hmc_1 .content dl dd a[cluetip-title*=' ']").addClass("cluetip_vi_hmc_1");var d=a.extend({},mrm.conf.plugin.cluetip||{},{sticky:true,titleAttribute:"cluetip-title",activation:"click"});a(".cluetip_vi_hmc_1").cluetipWrap(d)}}});a(".modVi_hmc_1 ul.ll li").each(function(){if(a(this).index()>0){if(a(this).is(":last-child")){a(this).children("a").removeClass("btn_prim").addClass("btn_sec")}}})})(mrm.$);(function(b){var a;mrm.cmp=mrm.cmp||{};b.extend(mrm.cmp,{wl_1:{initMod:function(e){mrm.util.log("[mrm.cmp.search_again] Context: "+e);var f=b(".wl_1"),g=f.find(".avaialble-features"),d=g.find(".feature-list"),c=this;f.find("> .feature-list").on("click","li a.remove-btn",function(){var h=b(this);mrm.util.vehicleConfig.removeOption(h.parent().data("rpo"))});d.find("li").on("click",function(){var h=b(this);mrm.util.vehicleConfig.addOption(h.data("rpo"),h.find("p").text(),h.find("img").attr("src"))});f.find(".foot").on("click",function(){if(g.is(":visible")){b(this).removeClass("open");g.stop().animate({width:0,left:0},500,"easeInCirc",function(){g.hide();mrm.cmp.wl_1.equalize(true)})}else{b(this).addClass("open");g.css({left:-1,width:1}).show();mrm.cmp.wl_1.equalize(true,function(){g.stop().animate({width:700,left:-700},500,"easeOutCirc")})}});g.find("> .label").on("click",function(){f.find(".foot").removeClass("open");g.stop().animate({width:0,left:0},500,"easeInCirc",function(){g.hide();mrm.cmp.wl_1.equalize(true)})});b.eventDispatcher.on("vehicle_option_change",this.addRemove);b.eventDispatcher.on("vehicle_config_load",this.render_list);b.eventDispatcher.on("feature_list_toggle",this.toggle_list)},getImagePath:function(c){return b(".wl_1").find('.avaialble-features .feature-list li[data-rpo="'+c+'"] img').attr("src")},render_list:function(e,h){var d=b(".wl_1").find("> .feature-list"),c=mrm.util.vehicleConfig.getCurrentOptions();if(!mrm.util.vehicleConfig.getAvailableOptions().length){var g=b(".wl_1").find(".avaialble-features").find(".feature-list").find("li[data-rpo]").map(function(j,k){var l=b(this);return{rpo:l.data("rpo"),description:l.find(".name").text(),imagePath:l.find("img").attr("src")}}).get();mrm.util.vehicleConfig.setAvailableOptions(g)}d.empty();var f=[];b.each(c,function(){var j=this.img_path||mrm.cmp.wl_1.getImagePath(this.rpo);b(".wl_1").find(".avaialble-features").find(".feature-list").find('li[data-rpo="'+this.rpo+'"]').hide();f.push(b("<li/>").append(b("<img />",{src:j})).append(b('<p class="name" />').text(this.label)).append(b('<a herf="#" class="remove-btn" />')).attr("data-rpo",this.rpo)[0].outerHTML)});d.html(f.join(""));mrm.cmp.wl_1.equalize();mrm.cmp.wl_1.updateCount()},addRemove:function(f,g){var e=b(".wl_1").find("> .feature-list");if(!e.length){e=b(".wl_1").find("> .scroll-pane .feature-list")}var d={label:g.option.label||"",rpo:g.option.rpo,img_path:g.option.img_path};if(g.action==="add"){if(!e.find('li[data-rpo="'+d.rpo+'"]').length){var c=this.img_path||mrm.cmp.wl_1.getImagePath(d.rpo);var h=b("<li/>").append(b("<img />",{src:c})).append(b('<p class="name" />').text(d.label)).append(b('<a herf="#" class="remove-btn" />')).attr("data-rpo",d.rpo);e.append(h)}b(".wl_1").find(".avaialble-features").find(".feature-list").find('li[data-rpo="'+d.rpo+'"]').hide()}else{e.find('li[data-rpo="'+d.rpo+'"]').remove();b(".wl_1").find(".avaialble-features").find(".feature-list").find('li[data-rpo="'+d.rpo+'"]').show()}if(e.children().length>6){mrm.cmp.wl_1.addScrollBars()}else{mrm.cmp.wl_1.removeScrollBars()}mrm.cmp.wl_1.equalize();mrm.cmp.wl_1.updateCount()},addScrollBars:function(){if(b(".wl_1").is(":visible")){var c=b(".wl_1").find("> .feature-list");if(!c.length){c=b(".wl_1").find("> .scroll-pane .feature-list")}var d={};if(!b(".wl_1").find("jspScrollable").length){if(c.closest(".scroll-pane").length){d=c.closest(".scroll-pane")}else{d=c.wrap(b('<div class="scroll-pane" />')).parent()}d.jScrollPane({contentWidth:225,verticalGutter:15,autoReinitialise:true,verticalDragMaxHeight:48});a=d.data("jsp")}else{a.reinitialise()}}},removeScrollBars:function(){if(a){a.destroy();a=undefined}},updateCount:function(){var e=b(".wl_1"),f=e.find(".avaialble-features"),d=f.find(".feature-list");var c=d.find("li[data-rpo]").length-mrm.util.vehicleConfig.getCurrentOptionCount();f.find(".count").text(c);e.find(".available-count").text(c)},equalize:function(d,l){var m=b(".wl_1").find(".avaialble-features");var f=b(".wl_1");var k=f.outerHeight(true)-f.height();if(!d){m.height("auto");f.height("auto");if(m.is(":visible")){if(f.outerHeight(true)>m.outerHeight(true)){m.height(f.outerHeight()-1)}else{f.height(m.outerHeight(true)-k+1)}}}else{m.css("height","auto");var g=m.outerHeight(true);m.height(g);var j=f.height();f.css("height","auto");var h=f.height();var e=f.outerHeight(true);f.height(j);k=e-h;function c(){if(b.isFunction(l)){l()}}if(m.is(":visible")){if(e>g){m.stop().animate({height:e-1},300,"easeOutCirc",c)}else{f.stop().animate({height:g-k+1},300,"easeOutCirc",c)}}else{f.stop().animate({height:h},300,"easeInCirc",c)}}},toggle_list:function(e,f){var d=b(".wl_1"),g="up";if(f.command==="open"){if(f.gap<460){g="down"}d.removeClass("up down").addClass(g);d.slideDown(200,"easeOutQuart",function(){var j=b(".wl_1").find("> .feature-list");if(!j.length){j=b(".wl_1").find("> .scroll-pane > .feature-list")}if(j.children().length>6){mrm.cmp.wl_1.addScrollBars()}});var h=b(window),c=h.scrollTop();b(window).on("scroll.wl_1",function(j){if(b(j.target).is(document)){if(Math.abs(c-h.scrollTop())>=200){b.eventDispatcher.trigger("feature_list_closed");mrm.cmp.wl_1.toggle_list("toggle_list",{command:"close"});b(window).off("scroll.wl_1")}}})}else{d.slideUp(200,"easeOutQuart",function(){d.find(".avaialble-features").hide();d.find(".foot").removeClass("open");d.height("auto");mrm.cmp.wl_1.removeScrollBars()})}}}})}(mrm.$));(function(a){mrm.track=mrm.track||{};a.extend(mrm.track,{wl_1:{initTrack:function(c,d){var b=(mrm.util.touchDevice())?"touchstart":"click";c.find(".btn_nba[title='Build']").on(b,function(){mrm.util.trackEvent("click_cta",{section:d,linkname:"wishlist:build"})});c.find(".avaialble-features ul.feature-list").one(b,"li",function(){mrm.util.trackEvent("click_cta",{section:d,linkname:"wishlist:add"})});c.find("ul.feature-list").one(b,"li .remove-btn",function(){mrm.util.trackEvent("click_cta",{section:d,linkname:"wishlist:remove"})})}}})}(mrm.$));(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{wl_feature_1:{init:function(b){if(!a(".wl_feature_1").length){return false}if(mrm.util.cookie.get("wl_feature_help")!=="true"){a(".modWl_feature_1 ~ .wl_feature_help").show()}mrm.util.cookie.set("wl_feature_help","true",{path:"/"});a.eventDispatcher.on("vehicle_option_change",this.render);a.eventDispatcher.on("vehicle_config_load",this.render_all)},initMod:function(c){mrm.util.log("[mrm.cmp.wl_feature_1] Context: "+c);var b=mrm.util.vehicleConfig;c.next(".wl_feature_help").css({top:c.position().top+c.outerHeight(true)+10});var d=a('<a herf="#" class="exit_btn" />').on("click",function(){a(".modWl_feature_1 ~ .wl_feature_help").hide()});c.next(".wl_feature_help").find("div:eq(0)").after(d);c.find(".btn_nba").on("click",function(g){g.preventDefault();var f=a(this);if(f.find("span:visible").hasClass("add")){b.addOption(f.data("rpo"),f.parent().find(".feature-description").text(),mrm.cmp.wl_1.getImagePath(f.data("rpo")))}else{b.removeOption(f.data("rpo"))}})},render:function(b,c){if(c.action==="add"){a('.btn_nba[data-rpo = "'+c.option.rpo+'"]').addClass("remove")}else{a('.btn_nba[data-rpo = "'+c.option.rpo+'"]').removeClass("remove")}},render_all:function(b,c){a(".btn_nba[data-rpo]").each(function(){var d=a(this);if(mrm.util.vehicleConfig.optionAdded(d.data("rpo"))){d.addClass("remove")}else{d.removeClass("remove")}})}}})}(mrm.$));(function(a){mrm.track=mrm.track||{};a.extend(mrm.track,{wl_feature_1:{initTrack:function(c,d){var b=(mrm.util.touchDevice())?"touchstart":"click";c.find(".btn_nba span.add").on(b,function(){mrm.util.trackEvent("click_cta",{section:d,linkname:"wishlist:add"})});c.find(".btn_nba span.remove").on(b,function(){mrm.util.trackEvent("click_cta",{section:d,linkname:"wishlist:remove"})})}}})}(mrm.$));(function(a){mrm.cmp=mrm.cmp||{};a.extend(mrm.cmp,{wl_nav_1:{initMod:function(c){mrm.util.log("[mrm.cmp.search_again] Context: "+c);var b=this;c.on("click",b.toggle_list);c.find("a").on("click",function(d){d.preventDefault()});a.eventDispatcher.on("vehicle_option_change",this.render_count);a.eventDispatcher.on("vehicle_config_load",this.render_count);a.eventDispatcher.on("feature_list_closed",function(){c.removeClass("open")})},toggle_list:function(c){var b=a(this);if(b.hasClass("open")){b.removeClass("open");a.eventDispatcher.trigger("feature_list_toggle","close");a(window).off("scroll.wl_1")}else{var d=b.offset().top-a(window).scrollTop();b.addClass("open");a.eventDispatcher.trigger("feature_list_toggle",{command:"open",gap:d})}},render_count:function(b,d){var c=a(".wl_nav_1","#nav_anchor_c1_1");c.find("p.tx").text(mrm.util.vehicleConfig.getCurrentOptionCount())}}})}(mrm.$));